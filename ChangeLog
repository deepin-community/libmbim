commit 5bf12d88b5345f4b0bca7c1f55be36cd3cb2c6de
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Jan 22 10:11:48 2021 +0100

    release: bump version to 1.24.6

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b097a7caff4c1ed497b9ca0165a37fb798f6ab37
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Jan 22 10:11:17 2021 +0100

    NEWS: update for 1.24.6

 NEWS | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit dce5c182ecd026f724c2764eb80d89f7ff97b7d1
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Nov 26 00:20:05 2020 +0100

    build: fix distcheck with new gtk-doc

    The .actions file is generated by newer gtk-doc releases, we just
    treat it as e.g. the .signals or .types files.

    This is also already fixed in upstream gtk-doc:
      https://gitlab.gnome.org/GNOME/gtk-doc/-/merge_requests/61

    (cherry picked from commit 83736783fcbca51aed49e6acf942ee560546a9b6)

 .gitignore                              | 1 +
 docs/reference/libmbim-glib/Makefile.am | 1 +
 2 files changed, 2 insertions(+)

commit 73ca67b350ba4a61f0822213ae290c66684b3a67
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Nov 13 11:53:36 2020 +0100

    libmbim-glib,device: don't warn if descriptors file cannot be read

    This is possibly just because we're not using cdc_mbim, it shouldn't
    be a reason to warn anything.

    (cherry picked from commit f007997cc15494aac4791bc13b24bb118e6cdc91)

 src/libmbim-glib/mbim-device.c | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit aae78a6fa458b5924a77674fbdb21dc98f704032
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Nov 13 11:51:19 2020 +0100

    libmbim-glib,device: realpath() returns NULL if path doesn't exist

    Running realpath() on a path that doesn't exist returns NULL, so don't
    even attempt to run g_file_test() on it. The g_file_test() may even be
    redundant, but well.

    (cherry picked from commit aff2313b4153a05f6466ebd337f53354398b25f2)

 src/libmbim-glib/mbim-device.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cf7305621d21a4803d86e106ab6c882e3e3cef15
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Nov 13 10:11:13 2020 +0100

    libmbim-glib,device: avoid using an already unref-ed source

    We were creating the source, attaching it to the main context, and
    removing our reference right away. That meant that the ownership of
    the source was fully given to the main context, and so we shouldn't
    have attempted to remove it from the main context later on, as it
    could have already been fired and removed behind our back.

    Solve this, by making sure we keep a valid source reference of our
    own, and in this way we can safely destroy the source (it's fine to
    destroy an already destroyed source, as long as the reference is
    valid) and then fully unref it.

      ModemManager[55085]: transaction 0x6 aborted, but message is
      not abortable
      ModemManager[55085]: [/dev/mhi_MBIM] MBIM error: Cannot write
      message: Broken pipe

      (ModemManager:55085): GLib-CRITICAL **: 10:04:58.605:
      g_source_destroy: assertion 'g_atomic_int_get (&source->ref_count)
      > 0' failed

      Thread 1 "ModemManager" received signal SIGTRAP, Trace/breakpoint
      trap.
      0x00007ffff775ef23 in g_logv () from /usr/lib/libglib-2.0.so.0
      (gdb) bt
      #0  0x00007ffff775ef23 in g_logv () at /usr/lib/libglib-2.0.so.0
      #1  0x00007ffff775f1a0 in g_log () at /usr/lib/libglib-2.0.so.0
      #2  0x00007ffff7a8f564 in transaction_context_free
      (ctx=0x5555558254a0) at mbim-device.c:162
      #3  0x00007ffff79240ba in  () at /usr/lib/libgio-2.0.so.0
      #4  0x00007ffff78537b1 in g_object_unref () at
      /usr/lib/libgobject-2.0.so.0
      #5  0x00007ffff77512b3 in  () at /usr/lib/libglib-2.0.so.0
      #6  0x00007ffff775384a in  () at /usr/lib/libglib-2.0.so.0
      #7  0x00007ffff7756b90 in g_main_context_dispatch () at
      /usr/lib/libglib-2.0.so.0
      #8  0x00007ffff77a81f9 in  () at /usr/lib/libglib-2.0.so.0
      #9  0x00007ffff7756163 in g_main_loop_run () at
      /usr/lib/libglib-2.0.so.0
      #10 0x00005555555a0b15 in main (argc=2, argv=0x7fffffffeac8)
      at main.c:206

    (cherry picked from commit ef133a7a59874cfed3e9afff896ad05505f58769)

 src/libmbim-glib/mbim-device.c | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 16252c1492701a3fe7fb3b8309d471e452942cb5
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Oct 1 12:34:46 2020 +0200

    build: post-release version bump to 1.24.5

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 060584b1d79bd11c9059676c24cd1d882d5508b1
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Oct 1 12:07:10 2020 +0200

    release: bump version to 1.24.4

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 098f44149543919b96a59733c704dd6c36d2843d
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Oct 1 12:06:48 2020 +0200

    NEWS: update for 1.24.4

 NEWS | 18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

commit 2f870ec400c4c12513d809eccde1da34e80f7d9f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Oct 1 12:01:28 2020 +0200

    libmbim-glib,device: get_transaction_id() already in 1.24.4

 docs/reference/libmbim-glib/libmbim-glib-docs.xml | 6 +++---
 src/libmbim-glib/mbim-device.h                    | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 34a2a36759aeac830e87964ea9d171b8d64c9a6c
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Oct 1 12:11:58 2020 +0200

    docs: add missing references to mbim_device_get_transaction_id()

    (cherry picked from commit 34ce4755f8e926f7c9fa20b777e8cd7aa1720dae)

 docs/reference/libmbim-glib/libmbim-glib-common.sections | 1 +
 docs/reference/libmbim-glib/libmbim-glib-docs.xml        | 4 ++++
 2 files changed, 5 insertions(+)

commit a1ef28c59cb48b3bf36d17c3f2328d55d5e7f546
Author: Bjørn Mork <bjorn@mork.no>
Date:   Mon Sep 21 13:08:38 2020 +0200

    libmbim-glib,proxy: use same transaction id for all fragments

    All fragments must have the same transaction id.

    Signed-off-by: Bjørn Mork <bjorn@mork.no>
    (cherry picked from commit e266810e03712ac79b0bf4682c92a4834e216b9b)

 src/libmbim-glib/mbim-device.c | 10 ++++++++++
 src/libmbim-glib/mbim-device.h | 13 +++++++++++++
 src/libmbim-glib/mbim-proxy.c  |  8 ++++++--
 3 files changed, 29 insertions(+), 2 deletions(-)

commit fc0c04f0c0423e21d2f48fd579d96b251f64c882
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Aug 9 09:42:40 2020 +0200

    libmbim-glib,proxy: don't acquire device context during untrack

    Because if the context was never created, we would be creating it at
    this point, and it wouldn't make sense to do so; e.g.:

      [Debug] [/dev/cdc-wdm1] unexpected port hangup!
      [Debug] [/dev/cdc-wdm1] channel destroyed
      [Debug] Initial device subscribe list...
      [Debug] [service 0] a289cc33-bcbb-8b4f-b6b0-133ec2aae6df
      (basic-connect)
      [Debug] [service 0] 11 CIDs enabled
      [Debug] [service 0] [cid 0] 2 (subscriber-ready-status)
      [Debug] [service 0] [cid 1] 3 (radio-state)

    (cherry picked from commit 927706715bd91cc5cd681f29a6c643dc7d16047c)

 src/libmbim-glib/mbim-proxy.c | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit f345dbfff5a046e1bd0771bee631506c598f92a3
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Aug 9 10:16:54 2020 +0200

    mbimcli: add missing EOL in error print when closing device

        [09 ago 2020, 10:15:51] [Debug] [/dev/cdc-wdm1] Received message
        (translated)...
        >>>>>> Header:
        >>>>>>   length      = 16
        >>>>>>   type        = function-error (0x80000004)
        >>>>>>   transaction = 11
        >>>>>> Contents:
        >>>>>>   error = 'NotOpened' (0x00000005)

        error: couldn't close device: MBIM protocol error: NotOpened[09
        ago 2020, 10:15:51] [Debug] [/dev/cdc-wdm1] channel destroyed

    (cherry picked from commit 21f797058c07139e128e0b10850e921a2e982ad0)

 src/mbimcli/mbimcli.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e35c747d937c033fa2cc3d5d1f1a83d062d5a4db
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Aug 9 08:48:52 2020 +0200

    libmbim-glib,proxy: avoid double GError free

    (cherry picked from commit 095cd71491adeab32bdc00cc247487327114e1d0)

 src/libmbim-glib/mbim-proxy.c | 1 -
 1 file changed, 1 deletion(-)

commit 04439045b6ec86b3978b966eb8468455b3dee2ac
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Jul 10 10:37:54 2020 +0200

    build: post-release version bump to 1.24.3

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 603dc8027afe319c858763d7885dd8b7395c9f42
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Jul 10 10:32:45 2020 +0200

    release: bump version to 1.24.2

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fdb0887f386b55e6a7222039a1404150578a0c0b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Jul 10 10:32:31 2020 +0200

    NEWS: update for 1.24.2

 NEWS | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 4712154279402356a8d51c90f42742e3b642f6d2
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Jul 10 10:17:01 2020 +0200

    libmbim-glib,proxy: fix reporting of merged subscribe list

    We were doing the subscribe list merge correctly, but not reporting it
    as done because the 'updated' pointer is set to NULL before returning
    it.

    This was breaking QMI over MBIM indications, as the registration
    message to request them was never sent to the device.

    (cherry picked from commit ecd188ff0126866199fd453e962ba54ba1dce290)

 src/libmbim-glib/mbim-proxy.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e9087a9c567250a8c88e3e5d5c8a33adaf32e357
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jun 28 09:08:54 2020 +0200

    libmbim-glib,proxy: fix segfault when printing updated subscriber list

    We were printing the 'updated' variable after its contents had already
    been stolen.

        [28 Jun 2020, 03:06:27] [Debug] Merged service subscribe list
        built for device '/dev/cdc-wdm0'
        Thread 1 "mbim-proxy" received signal SIGSEGV, Segmentation fault.
        _mbim_proxy_helper_service_subscribe_list_debug
        (list=list@entry=0x0, list_size=6) at mbim-proxy-helpers.c:104
        104         const MbimEventEntry *entry = list[i];
        (gdb) p list
        $1 = (const MbimEventEntry * const *) 0x0
        (gdb) p list_size
        $2 = 6

    The segfault was only triggered when the mbim-proxy was run with
    --verbose.

    (cherry picked from commit 0590b7e911df6e014fa6a7ec48a291f33a53d580)

 src/libmbim-glib/mbim-proxy.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 03bbe9042a9fae00a489564cbe979733df11b4b1
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jun 23 10:44:36 2020 +0200

    libmbim-glib,device: ignore messages with wrong MBIM message type

    The Cinterion mPLS62-w may end up sending messages which are clearly
    not well formatted MBIM messages, and upon receiving one of them, the
    mbim-proxy would get completely stuck (e.g. attempting to read a
    message of >800MB because of the reported length in the first
    malformed messae).

    Try to avoid this, by doing an initial filter by message type, which
    at least solves the seen problem. Not a fully robust fix yet, though.

    E.g. new logs:

        [23 jun 2020, 10:43:49] [Debug] [/dev/cdc-wdm1] Sent message
        (translated)...
        <<<<<< Header:
        <<<<<<   length      = 48
        <<<<<<   type        = command (0x00000003)
        <<<<<<   transaction = 20
        <<<<<< Fragment header:
        <<<<<<   total   = 1
        <<<<<<   current = 0
        <<<<<< Contents:
        <<<<<<   service = 'atds' (5967bdcc-7fd2-49a2-9f5c-b2e70e527db3)
        <<<<<<   cid     = 'location' (0x00000002)
        <<<<<<   type    = 'query' (0x00000000)

        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        293 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        200 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        168 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        311 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        311 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        311 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        335 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        277 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        312 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        314 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        312 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        280 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        312 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        312 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        326 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        260 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        244 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        326 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        326 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        326 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        306 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        334 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        324 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        356 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        356 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        191 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        201 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        356 bytes in MBIM stream as message type validation fails
        [23 jun 2020, 10:43:49] -Warning ** [/dev/cdc-wdm1] discarding
        356 bytes in MBIM stream as message type validation fails

    (cherry picked from commit cbb3e3944452a940ba583020882d13f2e49acd27)

 src/libmbim-glib/mbim-device.c | 29 ++++++++++++++++++++++++++++-
 1 file changed, 28 insertions(+), 1 deletion(-)

commit 3c5b085e7f0f7c2ac3dd6f145e64cde354883ccb
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Jun 18 10:53:24 2020 +0200

    build: post-release version bump to 1.24.1

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1a186e61a34e0b267cc91e9a72dd266429ab6408
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Jun 18 10:40:31 2020 +0200

    release: bump version to 1.24.0

 configure.ac | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 53dd98b856711845af761d2bab2779e85aa45520
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat May 30 13:11:49 2020 +0200

    AUTHORS: update with latest commit stats

 AUTHORS | 2 ++
 1 file changed, 2 insertions(+)

commit 30dd906a658bbd182c252f046c76697218d1da8b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat May 30 08:59:15 2020 +0200

    example: always perform a clean exit, even on error

 examples/simple-tester-python/simple-tester-python | 2 --
 1 file changed, 2 deletions(-)

commit ede2849ce88e951ab1b07a6d80406e571b6d21aa
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat May 30 08:56:04 2020 +0200

    example: GObject import not explicitly required

 examples/simple-tester-python/simple-tester-python | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2f8c625da4b8b9faad0b9120aa1613ae53b47661
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri May 29 18:30:21 2020 +0200

    example: separate with 2 whitelines the program methods

 examples/simple-tester-python/simple-tester-python | 6 ++++++
 1 file changed, 6 insertions(+)

commit 3564fde972c3e39aeccd589ed4919aa058dd23ca
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri May 29 18:16:34 2020 +0200

    example: don't attempt to continue logic after quitting main loop

 examples/simple-tester-python/simple-tester-python | 3 +++
 1 file changed, 3 insertions(+)

commit 47e2ed70db68f655710a558e03bc0d77e3be96d4
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed May 27 14:02:03 2020 +0200

    build: bump version to 1.23.900 (1.24-rc1)

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f9bb4d26175512cc2b3084189fc9826a78fbd43d
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed May 27 14:01:20 2020 +0200

    NEWS: update for 1.24

 NEWS | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 3757cf5a1946613d3b11fa6af6f262097967759a
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed May 27 13:49:04 2020 +0200

    libmbim-glib: skip unneeded methods from introspection

    Don't add in introspection the methods reading GObject properties.

 src/libmbim-glib/mbim-device.h | 4 ++--
 src/libmbim-glib/mbim-proxy.h  | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 368450ecec0cce1abca098995428733d6db38b88
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed May 27 13:45:15 2020 +0200

    mbim-codegen: setup introspection annotations in message creators

 build-aux/mbim-codegen/Message.py | 34 +++++++++++++++++-----------------
 1 file changed, 17 insertions(+), 17 deletions(-)

commit aedc73750a10f3bb18a72e0a9bb63863a6390c34
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed May 27 10:50:41 2020 +0200

    examples: new simple python tester for introspection support

 Makefile.am                                        |   2 +-
 configure.ac                                       |   2 +
 examples/Makefile.am                               |   1 +
 examples/simple-tester-python/Makefile.am          |   2 +
 examples/simple-tester-python/README               |  29 ++++++
 examples/simple-tester-python/simple-tester-python | 102
 +++++++++++++++++++++
 6 files changed, 137 insertions(+), 1 deletion(-)

commit 8612624c1d674f9f23cd4b442060dce1d4d34873
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed May 27 11:56:05 2020 +0200

    mbim-codegen: set array detail annotations

 build-aux/mbim-codegen/Message.py | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit b1d92278f9689547894d0aa28228b53636f3c47c
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed May 27 11:00:17 2020 +0200

    mbim-codegen: set transfer annotations in parsers

 build-aux/mbim-codegen/Message.py | 32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 539e570b161c7127c3a267493cf760cd41ec586c
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed May 27 10:51:06 2020 +0200

    mbim-codegen: explicitly flag as optional outputs all fields in
    parsers

 build-aux/mbim-codegen/Message.py | 34 +++++++++++++++++-----------------
 1 file changed, 17 insertions(+), 17 deletions(-)

commit 891ff842fdb84a2f8628a19af89794a9c4287623
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 18 13:32:50 2020 +0200

    mbim-codegen: avoid needing python packaging.version.parse

 build-aux/mbim-codegen/Struct.py |  4 +---
 build-aux/mbim-codegen/utils.py  | 21 +++++++++++++++++++++
 2 files changed, 22 insertions(+), 3 deletions(-)

commit fc550c38e88f6228a492546f1d75edb98846a194
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 18 06:42:26 2020 +0200

    docs,libmbim-glib: include API indices

 docs/reference/libmbim-glib/libmbim-glib-docs.xml | 50
 +++++++++++++++++++++--
 1 file changed, 47 insertions(+), 3 deletions(-)

commit 03f4969bc7d79e1d6aa78af2fa69d6ff1de815ca
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 18 13:07:59 2020 +0200

    build-aux: include Since tag in methods built from enums

 build-aux/templates/mbim-enum-types-template.c |  17 ----
 build-aux/templates/mbim-enum-types-template.h |  21 +++++
 src/libmbim-glib/mbim-cid.h                    |  28 +++----
 src/libmbim-glib/mbim-device.h                 |   2 +-
 src/libmbim-glib/mbim-enums.h                  | 112
 ++++++++++++-------------
 src/libmbim-glib/mbim-errors.h                 |   6 +-
 src/libmbim-glib/mbim-message.h                |   4 +-
 src/libmbim-glib/mbim-uuid.h                   |   4 +-
 8 files changed, 99 insertions(+), 95 deletions(-)

commit 0237c972093c716eeab82a94272cd0ae8a00426f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 18 12:54:20 2020 +0200

    build-aux: import custom mkenums tool

    Equivalent to the glib-mkenums released in 2.66, we just include it in
    the repo to be able to use it earlier than requiring 2.66 in the whole
    project.

 build-aux/Makefile.am                  |   4 +-
 build-aux/mbim-mkenums                 | 788
 +++++++++++++++++++++++++++++++++
 configure.ac                           |   3 -
 src/libmbim-glib/generated/Makefile.am |  10 +-
 4 files changed, 796 insertions(+), 9 deletions(-)

commit 4c2a7b4f8285dfbf7ff3c45c142c454f5f5530b9
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 18 09:10:36 2020 +0200

    libmbim-glib: add Since tags to all API types and methods

 src/libmbim-glib/mbim-cid.h        |  40 +++++++-
 src/libmbim-glib/mbim-compat.h     |  12 ++-
 src/libmbim-glib/mbim-device.c     |  21 ++++
 src/libmbim-glib/mbim-device.h     |  92 +++++++++++++++++-
 src/libmbim-glib/mbim-enums.h      | 194
 +++++++++++++++++++++++++++++--------
 src/libmbim-glib/mbim-errors.h     |  10 +-
 src/libmbim-glib/mbim-message.h    |  92 ++++++++++++++++++
 src/libmbim-glib/mbim-proxy.c      |  11 ++-
 src/libmbim-glib/mbim-proxy.h      |  40 +++++++-
 src/libmbim-glib/mbim-utils.h      |   4 +
 src/libmbim-glib/mbim-uuid.h       |  72 ++++++++++++--
 src/libmbim-glib/mbim-version.h.in |   8 ++
 12 files changed, 536 insertions(+), 60 deletions(-)

commit 8abe015a9ab756b2248df892a6b601d17e1a6611
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 18 07:05:16 2020 +0200

    mbim-codegen: add Since tags to all public structs and methods

 build-aux/mbim-codegen/Message.py | 236
 +++++++++++++++++++++-----------------
 build-aux/mbim-codegen/Struct.py  |  46 +++++---
 2 files changed, 159 insertions(+), 123 deletions(-)

commit e20be27adea9fbc0ebcca4fe74e4d872fea75bad
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 18 06:15:27 2020 +0200

    data: add 'since' version tags to all messages

    E.g.:
      "since" : "1.0"

    Or per-message-type version tags with 'since-ex', e.g.:
      "since-ex" : { "query"        : "1.0",
                     "response"     : "1.0",
                     "notification" : "1.8" },

 data/mbim-service-atds.json                        |   6 +
 data/mbim-service-auth.json                        |   9 +-
 data/mbim-service-basic-connect.json               | 163 ++++++----
 data/mbim-service-dss.json                         |   1 +
 data/mbim-service-intel-firmware-update.json       |   9 +-
 data/mbim-service-ms-basic-connect-extensions.json |   6 +
 data/mbim-service-ms-firmware-id.json              |   1 +
 data/mbim-service-ms-host-shutdown.json            |   1 +
 data/mbim-service-phonebook.json                   |  73 ++---
 data/mbim-service-proxy-control.json               |   1 +
 data/mbim-service-qmi.json                         |  35 ++-
 data/mbim-service-sms.json                         | 347
 +++++++++++----------
 data/mbim-service-stk.json                         |   4 +-
 data/mbim-service-ussd.json                        |  69 ++--
 14 files changed, 402 insertions(+), 323 deletions(-)

commit 21f8b992e8d17c9fa944641c0e4e1c02a756c5a9
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu May 14 19:24:41 2020 +0200

    libmbim-glib,proxy: fix proxy reference count

    Fixes bf9a52868047c11463692a57fdda6af9f0b59588

 src/libmbim-glib/mbim-proxy.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 91d107fd4f052da5728656a45261aedde77de95e
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed May 13 07:00:46 2020 +0200

    build: update list of ignored files

 .gitignore | 47 ++++++++++++++++++-----------------------------
 1 file changed, 18 insertions(+), 29 deletions(-)

commit c26e9494166ba45a36db65dc89362e2fed861136
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed May 13 06:02:10 2020 +0200

    libmbim-glib,introspection: add introspection support

 .gitlab-ci.yml               |  4 +-
 configure.ac                 | 26 +++++++-----
 m4/introspection.m4          | 97
 ++++++++++++++++++++++++++++++++++++++++++++
 src/libmbim-glib/Makefile.am | 40 ++++++++++++++++++
 4 files changed, 154 insertions(+), 13 deletions(-)

commit 0bf83040b3addca4dce3fea17f15292f33fbb403
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed May 13 06:55:54 2020 +0200

    libmbim-glib: move method docs to headers

 src/libmbim-glib/mbim-cid.c     |  45 ----
 src/libmbim-glib/mbim-cid.h     |  61 ++++-
 src/libmbim-glib/mbim-compat.c  |  33 ---
 src/libmbim-glib/mbim-compat.h  |  33 +++
 src/libmbim-glib/mbim-device.c  | 187 --------------
 src/libmbim-glib/mbim-device.h  | 294 ++++++++++++++++++----
 src/libmbim-glib/mbim-message.c | 373 ----------------------------
 src/libmbim-glib/mbim-message.h | 524
 +++++++++++++++++++++++++++++++++++-----
 src/libmbim-glib/mbim-proxy.c   |  16 --
 src/libmbim-glib/mbim-proxy.h   |  54 ++++-
 src/libmbim-glib/mbim-utils.c   |  13 -
 src/libmbim-glib/mbim-utils.h   |  17 +-
 src/libmbim-glib/mbim-uuid.c    | 109 ---------
 src/libmbim-glib/mbim-uuid.h    | 134 +++++++++-
 14 files changed, 984 insertions(+), 909 deletions(-)

commit f3f906bd4bcceac34a9e69accd819bb88fb68edf
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 11 17:13:29 2020 +0200

    ci: also test distcheck by default

 .gitlab-ci.yml | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit bf9a52868047c11463692a57fdda6af9f0b59588
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 11 16:58:37 2020 +0200

    libmbim-glib,proxy: port to use g_auto() helpers

 src/libmbim-glib/mbim-proxy.c | 164
 +++++++++++++++++-------------------------
 1 file changed, 64 insertions(+), 100 deletions(-)

commit 9e31bd6f3b4f2063b0b0d2ea78b1846e65e0ca3a
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 11 16:39:47 2020 +0200

    libmbim-glib,message: port to use g_auto() helpers

 src/libmbim-glib/mbim-message.c | 65
 +++++++++++++++++------------------------
 1 file changed, 27 insertions(+), 38 deletions(-)

commit a4c7b1a17f7267a1146d33e39b41f70f7e110062
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 11 16:31:04 2020 +0200

    libmbim-glib,device: port to use g_auto() helpers

 src/libmbim-glib/mbim-device.c | 302
 ++++++++++++++++-------------------------
 1 file changed, 117 insertions(+), 185 deletions(-)

commit 1e4654e2b326cfc98d20b3171bc54d2654bb9b23
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 11 16:02:03 2020 +0200

    libmbim-glib,device: proxy_control_configuration_set_new() never fails

 src/libmbim-glib/mbim-device.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 073df58b71ac4edacddd18e4e822eae4cab0e59a
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 11 14:54:17 2020 +0200

    mbim-codegen: port to use g_auto() helpers

 build-aux/mbim-codegen/Message.py | 57
 ++++++++++++++-------------------------
 build-aux/mbim-codegen/Struct.py  |  8 +++---
 2 files changed, 23 insertions(+), 42 deletions(-)

commit f8856c71607a0d2612cb5e9b050efd01f8c6e9d4
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 11 14:46:20 2020 +0200

    mbim-proxy: port to use g_auto() helpers

 src/mbim-proxy/mbim-proxy.c | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit 00dcb26cd6993104cb2d255487df7e9d754d0e94
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 11 14:38:31 2020 +0200

    mbimcli: port to use g_auto() helpers

 src/mbimcli/mbimcli-atds.c                        |  50 +-
 src/mbimcli/mbimcli-basic-connect.c               | 735
 +++++++---------------
 src/mbimcli/mbimcli-dss.c                         |  61 +-
 src/mbimcli/mbimcli-helpers.c                     | 130 ++--
 src/mbimcli/mbimcli-intel-firmware-update.c       |  15 +-
 src/mbimcli/mbimcli-ms-basic-connect-extensions.c |  79 +--
 src/mbimcli/mbimcli-ms-firmware-id.c              |  25 +-
 src/mbimcli/mbimcli-ms-host-shutdown.c            |  13 +-
 src/mbimcli/mbimcli-phonebook.c                   |  89 +--
 src/mbimcli/mbimcli.c                             |  16 +-
 10 files changed, 400 insertions(+), 813 deletions(-)

commit 7ae92677360a57e796d10c982a0d4d125ae86731
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon May 11 16:33:02 2020 +0200

    build: bump version to 1.23.1 to flag existence of new API (autoptr
    support)

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 50d43376a6ac9c6fc9a1e3d595675937ae90cc86
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Mar 21 15:19:58 2020 +0100

    mbimcli: remove empty whiteline in --version

    This also fixes the Copyright section in the troffit generated HTML
    output.

 src/mbimcli/mbimcli.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit adaeaa6ad14854655b092bdaf7e7b02f7d616ccd
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Mar 21 15:09:00 2020 +0100

    mbimcli: add ':' to the section titles

    So that --help-all print all sections in the same way as the Help and
    Application option groups.

 src/mbimcli/mbimcli-atds.c                        | 2 +-
 src/mbimcli/mbimcli-basic-connect.c               | 2 +-
 src/mbimcli/mbimcli-dss.c                         | 2 +-
 src/mbimcli/mbimcli-intel-firmware-update.c       | 2 +-
 src/mbimcli/mbimcli-ms-basic-connect-extensions.c | 2 +-
 src/mbimcli/mbimcli-ms-firmware-id.c              | 2 +-
 src/mbimcli/mbimcli-ms-host-shutdown.c            | 2 +-
 src/mbimcli/mbimcli-phonebook.c                   | 2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

commit 4f67acb16e0dbafad78387090b8c086c2428f663
Author: Eric Caruso <ejcaruso@chromium.org>
Date:   Tue Feb 4 11:04:14 2020 -0800

    mbim-proxy: flag print_version_and_exit() as noreturn

 src/mbim-proxy/mbim-proxy.c | 1 +
 1 file changed, 1 insertion(+)

commit cc307468d078a28ea99660b33d740f563484d910
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Jan 15 18:35:45 2020 +0100

    libmbim-glib,test: port message parser tests to use autoptr

 src/libmbim-glib/test/test-message-parser.c | 224
 +++++++++++-----------------
 1 file changed, 90 insertions(+), 134 deletions(-)

commit 7100b28963a34581ff44a7b43626ef81cd7c87e8
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Jan 15 18:09:32 2020 +0100

    libmbim-glib,mbim-codegen: define autoptr cleanup functions for
    all types

 build-aux/mbim-codegen/Message.py |  8 ++++----
 build-aux/mbim-codegen/Struct.py  | 21 ++++++++++++++++-----
 src/libmbim-glib/mbim-device.h    |  1 +
 src/libmbim-glib/mbim-message.h   |  2 ++
 src/libmbim-glib/mbim-proxy.h     |  1 +
 5 files changed, 24 insertions(+), 9 deletions(-)

commit 8819bb94affc97455f1716c71b10ca5a4a574879
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Jan 15 17:37:22 2020 +0100

    build: bump minimum glib required version to 2.48

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f6506bccdfc43c3c89eaf928cf4576963fdacf32
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Jan 15 17:33:21 2020 +0100

    build: post-release version bump to 1.23.0

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 697465da7e976d15b13061368d37f76d8e0c33c4
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Jan 15 16:09:39 2020 +0100

    release: bump version to 1.22.0

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit dfffc52415ef1504cd0c088b4cc7dbe5d54211f0
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Jan 15 16:07:54 2020 +0100

    NEWS: update for 1.22

 NEWS | 31 +++++++++++++++++++++++++++++++
 1 file changed, 31 insertions(+)

commit 2374eeabf2f163fba3f9680a3e95ddeef8bb8a2e
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Jan 9 11:36:51 2020 +0100

    libmbim-glib,message: fix build with -Wcast-align in ARM

      mbim-message.c: In function '_mbim_struct_builder_complete':
      mbim-message.c:534:24: error: cast increases required alignment
      of target type [-Werror=cast-align]
               offset_value = (guint32 *)
               &(builder->fixed_buffer->data[offset_offset]);
                            ^

 src/libmbim-glib/mbim-message.c | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 1c58bd3c10eca49eaf83afd667aa8e5b079bc8ad
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Jan 3 20:38:31 2020 +0100

    build: bump copyright years to 2020

 docs/reference/libmbim-glib/libmbim-glib-docs.xml | 1 +
 src/mbim-proxy/mbim-proxy.c                       | 2 +-
 src/mbimcli/mbimcli.c                             | 2 +-
 3 files changed, 3 insertions(+), 2 deletions(-)

commit 9c82fe382b49808131a087e69de709ba988f0e47
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Jan 3 20:35:16 2020 +0100

    mbimcli: flag print_version_and_exit() as noreturn

    Same thing as done in libqmi, see
    https://gitlab.freedesktop.org/mobile-broadband/libqmi/merge_requests/82

 src/mbimcli/mbimcli.c | 1 +
 1 file changed, 1 insertion(+)

commit 78541004048aa15880ca99b5e06b9d7529742c77
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Dec 23 08:24:02 2019 +0100

    test,basic-connect: fail provisioned contexts response without
    information buffer

 src/libmbim-glib/test/test-message-parser.c | 37
 +++++++++++++++++++++++++++++
 1 file changed, 37 insertions(+)

commit 2ed61627f885de72a20850b02f262a7e851240c3
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Dec 21 16:48:45 2019 +0100

    libmbim-glib,device: plug memleak when processing Open errors

       ==8725== 40 (16 direct, 24 indirect) bytes in 1 blocks are
       definitely lost in loss record 825 of 1,273
       ==8725==    at 0x483877F: malloc (vg_replace_malloc.c:309)
       ==8725==    by 0x4B7C8D9: g_malloc (in
       /usr/lib/libglib-2.0.so.0.6200.3)
       ==8725==    by 0x4B5D893: g_slice_alloc (in
       /usr/lib/libglib-2.0.so.0.6200.3)
       ==8725==    by 0x4B979DA: g_error_copy (in
       /usr/lib/libglib-2.0.so.0.6200.3)
       ==8725==    by 0x48AA3BC: transaction_task_complete_and_free
       (mbim-device.c:243)
       ==8725==    by 0x48AAE00: finalize_pending_open_request
       (mbim-device.c:541)
       ==8725==    by 0x48AB12B: process_message (mbim-device.c:632)
       ==8725==    by 0x48AB530: parse_response (mbim-device.c:762)
       ==8725==    by 0x48AB844: data_available (mbim-device.c:842)
       ==8725==    by 0x4B8226E: g_main_context_dispatch (in
       /usr/lib/libglib-2.0.so.0.6200.3)
       ==8725==    by 0x4B841B0: ??? (in /usr/lib/libglib-2.0.so.0.6200.3)
       ==8725==    by 0x4B850C2: g_main_loop_run (in
       /usr/lib/libglib-2.0.so.0.6200.3)

 src/libmbim-glib/mbim-device.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4d5a77fe68feeef3c0aed27c865ac7645760789b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Dec 21 16:38:40 2019 +0100

    libmbim,device: plug memleak when processing responses with multiple
    fragments

       ==8725== 48 bytes in 3 blocks are definitely lost in loss record
       840 of 1,273
       ==8725==    at 0x483877F: malloc (vg_replace_malloc.c:309)
       ==8725==    by 0x4B7C8D9: g_malloc (in
       /usr/lib/libglib-2.0.so.0.6200.3)
       ==8725==    by 0x4B5D893: g_slice_alloc (in
       /usr/lib/libglib-2.0.so.0.6200.3)
       ==8725==    by 0x48AA78D: device_store_transaction
       (mbim-device.c:371)
       ==8725==    by 0x48AE34C: mbim_device_command (mbim-device.c:2218)
       ==8725==    by 0x48B0E83: process_command (mbim-proxy.c:1020)
       ==8725==    by 0x48B0F8C: process_message (mbim-proxy.c:1052)
       ==8725==    by 0x48B1052: parse_request (mbim-proxy.c:1091)
       ==8725==    by 0x48B1279: connection_readable_cb
       (mbim-proxy.c:1140)
       ==8725==    by 0x49D32E9: ??? (in /usr/lib/libgio-2.0.so.0.6200.3)
       ==8725==    by 0x4B8226E: g_main_context_dispatch (in
       /usr/lib/libglib-2.0.so.0.6200.3)
       ==8725==    by 0x4B841B0: ??? (in /usr/lib/libglib-2.0.so.0.6200.3)
       ==8725==

 src/libmbim-glib/mbim-device.c | 16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 0d3017abc39d14d4c8356f54af81aa4dbb0f4e79
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Dec 21 15:57:00 2019 +0100

    libmbim-glib,proxy: validate service subscribe request before parsing

 src/libmbim-glib/mbim-proxy-helpers.c | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit a5089b41e442bbd9fedcb51e976b3cbdab360f32
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Dec 21 15:30:19 2019 +0100

    mbim-codegen,message: information buffer only required if fields
    expected

    If a MBIM response/indication message does not expect any field in
    payload, don't even validate the existence of the information buffer.

    E.g. the SMS delete response doesn't have any field, so we shouldn't
    fail when we detect that:

        ModemManager[6065]: [/dev/cdc-wdm0] Received message
        (translated)...
        >>>>>> Header:
        >>>>>>   length      = 48
        >>>>>>   type        = command-done (0x80000003)
        >>>>>>   transaction = 36
        >>>>>> Fragment header:
        >>>>>>   total   = 1
        >>>>>>   current = 0
        >>>>>> Contents:
        >>>>>>   status error = 'None' (0x00000000)
        >>>>>>   service      = 'sms'
        (533fbeeb-14fe-4467-9f90-33a223e56c3f)
        >>>>>>   cid          = 'delete' (0x00000004)
        ModemManager[6065]: <debug> [1576938340.872769] Couldn't delete
        SMS part with index 3: 'Message does not have information buffer'

 build-aux/mbim-codegen/Message.py | 38
 ++++++++++++++++++++++----------------
 1 file changed, 22 insertions(+), 16 deletions(-)

commit a850e71dadc4a109b81d580b6c2d7be1132b1f32
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 22:14:01 2019 +0100

    libmbim-glib,test: add test for failed message parsing

 src/libmbim-glib/test/test-message-parser.c | 48
 +++++++++++++++++++++++++++++
 1 file changed, 48 insertions(+)

commit b9d63f822a57fc09afacbef37cbe2cd57bd1054d
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 22:05:22 2019 +0100

    build-aux,message: no longer need early out count management

 build-aux/mbim-codegen/Message.py | 53
 +++------------------------------------
 1 file changed, 3 insertions(+), 50 deletions(-)

commit 02631fbb74c5daed91f1d56595b4bab0ed54d962
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 21:56:21 2019 +0100

    build-aux,struct: no longer need early out count management

 build-aux/mbim-codegen/Struct.py | 23 ++---------------------
 1 file changed, 2 insertions(+), 21 deletions(-)

commit d498e9323ea133de9993d1fba7f4d548e8ca2152
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 21:42:26 2019 +0100

    libmbim-glib,message: reading IPv6 array may fail

 build-aux/mbim-codegen/Message.py       |  9 ++++---
 src/libmbim-glib/mbim-message-private.h |  9 ++++---
 src/libmbim-glib/mbim-message.c         | 43
 +++++++++++++++++++++++++--------
 3 files changed, 44 insertions(+), 17 deletions(-)

commit 5ddf637c1636c79eaf69dee6fb5223fea9766927
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 21:34:02 2019 +0100

    libmbim-glib,message: reading IPv6 may fail

 build-aux/mbim-codegen/Message.py       | 18 ++++++++++-----
 build-aux/mbim-codegen/Struct.py        | 22 ++++++++++++++----
 src/libmbim-glib/mbim-message-private.h |  8 ++++---
 src/libmbim-glib/mbim-message.c         | 40
 ++++++++++++++++++++++++++-------
 4 files changed, 67 insertions(+), 21 deletions(-)

commit f39f22bd173b27b925b8aaa76650d92ea72584c0
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 20:17:06 2019 +0100

    libmbim-glib,message: reading IPv4 array may fail

 build-aux/mbim-codegen/Message.py       |  9 ++++---
 src/libmbim-glib/mbim-message-private.h |  8 ++++---
 src/libmbim-glib/mbim-message.c         | 42
 +++++++++++++++++++++++++--------
 3 files changed, 43 insertions(+), 16 deletions(-)

commit 91568c1a79790754eecaaeaf0cf53c27c6494c49
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 20:07:25 2019 +0100

    libmbim-glib,message: reading IPv4 may fail

 build-aux/mbim-codegen/Message.py       | 18 ++++++++++-----
 build-aux/mbim-codegen/Struct.py        | 22 ++++++++++++++----
 src/libmbim-glib/mbim-message-private.h |  8 ++++---
 src/libmbim-glib/mbim-message.c         | 40
 ++++++++++++++++++++++++++-------
 4 files changed, 67 insertions(+), 21 deletions(-)

commit 8ecb23418fd79f25458b35363738ebdbe8c8ff11
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 18:28:49 2019 +0100

    libmbim-glib,message: reading string array may fail

 build-aux/mbim-codegen/Message.py       |  9 +++++---
 build-aux/mbim-codegen/Struct.py        |  4 +++-
 src/libmbim-glib/mbim-message-private.h | 11 ++++-----
 src/libmbim-glib/mbim-message.c         | 40
 +++++++++++++++++++++------------
 4 files changed, 41 insertions(+), 23 deletions(-)

commit d01b83df1b96172b90cf70ca2f6fdd39fe3a2539
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 18:23:26 2019 +0100

    libmbim-glib,message: reading string may fail

 build-aux/mbim-codegen/Message.py       |  9 +++--
 build-aux/mbim-codegen/Struct.py        |  4 +-
 src/libmbim-glib/mbim-message-private.h |  9 +++--
 src/libmbim-glib/mbim-message.c         | 66
 +++++++++++++++++++++------------
 src/libmbim-glib/mbim-proxy.c           |  7 ++--
 5 files changed, 62 insertions(+), 33 deletions(-)

commit 74068b23d1db1d73f6a91a14d87f1b251edd907d
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 16:59:48 2019 +0100

    libmbim-glib,message: reading guint64 may fail

 build-aux/mbim-codegen/Message.py       | 21 ++++++++++++++++++---
 build-aux/mbim-codegen/Struct.py        |  4 +++-
 src/libmbim-glib/mbim-message-private.h |  6 ++++--
 src/libmbim-glib/mbim-message.c         | 29
 ++++++++++++++++++++++-------
 4 files changed, 47 insertions(+), 13 deletions(-)

commit 093b0bf07eb85d989c6db855bcb63ef36ab372b9
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 16:52:58 2019 +0100

    libmbim-glib,message: reading guint32 array may fail

 build-aux/mbim-codegen/Struct.py        |  4 ++-
 src/libmbim-glib/mbim-message-private.h |  8 ++++--
 src/libmbim-glib/mbim-message.c         | 49
 +++++++++++++++++++++------------
 src/libmbim-glib/mbim-proxy-helpers.c   |  4 +--
 4 files changed, 41 insertions(+), 24 deletions(-)

commit 3e33a1e839254940ff17b4b38923dca21f857a6a
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 16:44:58 2019 +0100

    libmbim-glib,message: reading guint32 may fail

 build-aux/mbim-codegen/Message.py       | 37
 +++++++++++++++++++++++++--------
 build-aux/mbim-codegen/Struct.py        | 14 +++++++++----
 src/libmbim-glib/mbim-message-private.h |  6 ++++--
 src/libmbim-glib/mbim-message.c         | 29 +++++++++++++++++++-------
 src/libmbim-glib/mbim-proxy-helpers.c   | 24 ++++++++++-----------
 src/libmbim-glib/mbim-proxy.c           |  8 ++++++-
 6 files changed, 82 insertions(+), 36 deletions(-)

commit b7c36db1550521336262508deadda195d3feb5b4
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 15:29:49 2019 +0100

    libmbim-glib,message: reading uuid may fail

 build-aux/mbim-codegen/Message.py       | 11 +++++++----
 build-aux/mbim-codegen/Struct.py        | 11 +++++++++--
 src/libmbim-glib/mbim-message-private.h |  6 ++++--
 src/libmbim-glib/mbim-message.c         | 24 +++++++++++++++++++-----
 src/libmbim-glib/mbim-proxy-helpers.c   | 17 +++++++++++++----
 5 files changed, 52 insertions(+), 17 deletions(-)

commit 28084e36e20d2436cf9dff03f83fc3f150c2b9e2
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 19:34:12 2019 +0100

    libmbim-glib,test: fix byte array reading test

    The STK buffer is 256 bytes, fixed-size, so use that array size for
    the actual test, or it'll fail with the new strict reading checks.

 src/libmbim-glib/test/test-message-parser.c | 56
 +++++++++++++++++++++++++++--
 1 file changed, 53 insertions(+), 3 deletions(-)

commit 413133f2f88b6636a7f2613e7fead937a5be8b33
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 13:03:15 2019 +0100

    libmbim-glib,message: reading byte array may fail

 build-aux/mbim-codegen/Message.py       |  32 ++++++---
 build-aux/mbim-codegen/Struct.py        |  24 +++++--
 src/libmbim-glib/mbim-message-private.h |  18 +++--
 src/libmbim-glib/mbim-message.c         | 116
 +++++++++++++++++++++++++++-----
 4 files changed, 154 insertions(+), 36 deletions(-)

commit 45545bb78e8f3c0a72b4a5075f0652f167c38e54
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 16:36:23 2019 +0100

    libmbim-glib,proxy: helper service_subscribe_request_parse() may fail

 src/libmbim-glib/mbim-proxy-helpers.c      |  5 +++--
 src/libmbim-glib/mbim-proxy-helpers.h      |  3 ++-
 src/libmbim-glib/mbim-proxy.c              | 14 +++++++++++++-
 src/libmbim-glib/test/test-proxy-helpers.c |  9 ++++++---
 4 files changed, 24 insertions(+), 7 deletions(-)

commit 896cd9cbca60a90609a6cedb23d6c176b5b12b8d
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 14:54:10 2019 +0100

    build-aux,message: struct reading may fail

 build-aux/mbim-codegen/Message.py | 49 +++++++++++++++++++-----
 build-aux/mbim-codegen/Struct.py  | 79
 +++++++++++++++++++++++----------------
 2 files changed, 86 insertions(+), 42 deletions(-)

commit 60da80336b13fab5039e84fc8803ade278ed2edb
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 13:13:04 2019 +0100

    build-aux,struct: setup base logic to abort early

 build-aux/mbim-codegen/Struct.py | 26 ++++++++++++++++++++++----
 1 file changed, 22 insertions(+), 4 deletions(-)

commit 3ebb80f9e35d84a185dd7e49f6092fb7621ea1d7
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 11:45:05 2019 +0100

    build-aux,message: setup base logic to abort early

    All memory allocated variables will be freed if the parsing is aborted
    at any time.

 build-aux/mbim-codegen/Message.py | 51
 +++++++++++++++++++++++++++++++++------
 1 file changed, 43 insertions(+), 8 deletions(-)

commit ab6a1bd1df422968ef526e615f30945e343c5baf
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 11:30:19 2019 +0100

    build-aux,message: set all output mem allocated variables just
    before returning

    This is just a minor refactor to make it easier to abort the
    processing early if reading specific fields fail.

 build-aux/mbim-codegen/Message.py | 66
 ++++++++++++++++++++++++++++++++-------
 1 file changed, 55 insertions(+), 11 deletions(-)

commit fd3306c8070aae12fda4f4493de3cdef6f73a34c
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 26 10:57:10 2019 +0100

    build-aux,message: always reset inner template

    So that the 'else' path has an empty string as template.

 build-aux/mbim-codegen/Message.py | 6 ++++++
 1 file changed, 6 insertions(+)

commit 2f27283834cb54492b3f9cf72f7d83b0a9838063
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Nov 25 15:04:26 2019 +0100

    build-aux,message: rename output variables in message parsers as
    'out_..'

 build-aux/mbim-codegen/Message.py | 198
 +++++++++++++++++++-------------------
 1 file changed, 99 insertions(+), 99 deletions(-)

commit 80b27d4dc307451cea631f3a7c25d1845f457911
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Nov 25 13:37:11 2019 +0100

    build-aux,message: error out if trying to parse contents and none
    given

    If the message doesn't have an information buffer, don't allow
    content parsing.

 build-aux/mbim-codegen/Message.py | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 404de179081c52ae310adae16788fb5f68e7d30a
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Nov 25 13:33:45 2019 +0100

    libmbim-glib,message: allow NULL length output when getting
    information buffer

 src/libmbim-glib/mbim-message.c | 39
 ++++++++++++++++++++++++---------------
 src/libmbim-glib/mbim-message.h |  6 +++---
 2 files changed, 27 insertions(+), 18 deletions(-)

commit d08dd6f0071f94838c5f6fd78413c7f51461ba8e
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Nov 21 11:50:54 2019 +0100

    mbimcli: G_LOG_FLAG_FATAL is an internal flag

 src/mbimcli/mbimcli.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0cb13839345633fa0dfe8d11393231d59e7defd8
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 15:21:38 2019 +0100

    libmbim-glib,device: fix warnings with -Wimplicit-fallthrough

      mbim-device.c: In function ‘device_open_context_step’:
      mbim-device.c:1601:18: warning: this statement may fall through
      [-Wimplicit-fallthrough=]
       1601 |         ctx->step++;
            |         ~~~~~~~~~^~
      mbim-device.c:1604:5: note: here
       1604 |     case DEVICE_OPEN_CONTEXT_STEP_CREATE_IOCHANNEL:
            |     ^~~~
      mbim-device.c:1616:18: warning: this statement may fall through
      [-Wimplicit-fallthrough=]
       1616 |         ctx->step++;
            |         ~~~~~~~~~^~
      mbim-device.c:1619:5: note: here
       1619 |     case DEVICE_OPEN_CONTEXT_STEP_CLOSE_MESSAGE:
            |     ^~~~
      mbim-device.c:1626:18: warning: this statement may fall through
      [-Wimplicit-fallthrough=]
       1626 |         ctx->step++;
            |         ~~~~~~~~~^~
      mbim-device.c:1629:5: note: here
       1629 |     case DEVICE_OPEN_CONTEXT_STEP_OPEN_MESSAGE:
            |     ^~~~
      mbim-device.c:1635:18: warning: this statement may fall through
      [-Wimplicit-fallthrough=]
       1635 |         ctx->step++;
            |         ~~~~~~~~~^~
      mbim-device.c:1638:5: note: here
       1638 |     case DEVICE_OPEN_CONTEXT_STEP_LAST:
            |     ^~~~

 src/libmbim-glib/mbim-device.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 140c87ff54aba91d86bac41fa7aa974ce333d6d4
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 15:19:14 2019 +0100

    libmbim-glib,message: avoid warning with -Wsuggest-attribute=noreturn

      mbim-message.c: In function
      ‘_mbim_struct_builder_append_string_array’:
      mbim-message.c:749:1: warning: function might be candidate for
      attribute ‘noreturn’ [-Wsuggest-attribute=noreturn]
        749 | _mbim_struct_builder_append_string_array (MbimStructBuilder
        *builder,
            | ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

 src/libmbim-glib/mbim-message.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 63935cc128285537248865bf4e1501fb63ca4088
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 15:16:02 2019 +0100

    libmbim-glib,message: fix warnings with -Wswitch-enum

      mbim-message.c:1321:9: warning: enumeration value
      ‘MBIM_SERVICE_INVALID’ not handled in switch [-Wswitch-enum]
       1321 |         switch (service_read_fields) {
            |         ^~~~~~
      mbim-message.c:1321:9: warning: enumeration value
      ‘MBIM_SERVICE_LAST’ not handled in switch [-Wswitch-enum]

      mbim-message.c: In function ‘mbim_message_response_get_result’:
      mbim-message.c:2307:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_INVALID’ not handled in switch
      [-Wswitch-enum]
       2307 |     switch (type) {
            |     ^~~~~~
      mbim-message.c:2307:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_OPEN’ not handled in switch [-Wswitch-enum]
      mbim-message.c:2307:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_CLOSE’ not handled in switch [-Wswitch-enum]
      mbim-message.c:2307:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_COMMAND’ not handled in switch
      [-Wswitch-enum]
      mbim-message.c:2307:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_HOST_ERROR’ not handled in switch
      [-Wswitch-enum]
      mbim-message.c:2307:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_INDICATE_STATUS’ not handled in switch
      [-Wswitch-enum]

 src/libmbim-glib/mbim-message.c | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 88dcc5724c5461cd0b7a7f7a79a63a32ece0b2de
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 15:14:29 2019 +0100

    libmbim-glib,message: fix warnings with -Wswitch-default

      mbim-message.c: In function ‘mbim_message_get_printable’:
      mbim-message.c:1169:5: warning: switch missing default case
      [-Wswitch-default]
       1169 |     switch (MBIM_MESSAGE_GET_MESSAGE_TYPE (self)) {
            |     ^~~~~~

 src/libmbim-glib/mbim-message.c | 3 +++
 1 file changed, 3 insertions(+)

commit 23e572bbdbc61831cb0cdb682b3b01969791ba74
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 15:09:45 2019 +0100

    libmbim-glib,cid: fix warnings with -Wswitch-enum

      mbim-uuid.c: In function ‘mbim_uuid_from_service’:
      mbim-uuid.c:402:5: warning: enumeration value
      ‘MBIM_SERVICE_LAST’ not handled in switch [-Wswitch-enum]
        402 |     switch (service) {
            |     ^~~~~~
        CC       libmbim_glib_core_la-mbim-cid.lo
      mbim-cid.c: In function ‘mbim_cid_can_set’:
      mbim-cid.c:200:5: warning: enumeration value
      ‘MBIM_SERVICE_INVALID’ not handled in switch [-Wswitch-enum]
        200 |     switch (service) {
            |     ^~~~~~
      mbim-cid.c:200:5: warning: enumeration value ‘MBIM_SERVICE_LAST’
      not handled in switch [-Wswitch-enum]
      mbim-cid.c: In function ‘mbim_cid_can_query’:
      mbim-cid.c:254:5: warning: enumeration value
      ‘MBIM_SERVICE_INVALID’ not handled in switch [-Wswitch-enum]
        254 |     switch (service) {
            |     ^~~~~~
      mbim-cid.c:254:5: warning: enumeration value ‘MBIM_SERVICE_LAST’
      not handled in switch [-Wswitch-enum]
      mbim-cid.c: In function ‘mbim_cid_can_notify’:
      mbim-cid.c:308:5: warning: enumeration value
      ‘MBIM_SERVICE_INVALID’ not handled in switch [-Wswitch-enum]
        308 |     switch (service) {
            |     ^~~~~~
      mbim-cid.c:308:5: warning: enumeration value ‘MBIM_SERVICE_LAST’
      not handled in switch [-Wswitch-enum]
      mbim-cid.c: In function ‘mbim_cid_get_printable’:
      mbim-cid.c:362:5: warning: enumeration value ‘MBIM_SERVICE_LAST’
      not handled in switch [-Wswitch-enum]
        362 |     switch (service) {
            |     ^~~~~~

 src/libmbim-glib/mbim-cid.c | 7 +++++++
 1 file changed, 7 insertions(+)

commit b9ca93b4492e5f2bb2a646fda1c3a4d582133310
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 15:07:48 2019 +0100

    libmbim-glib,uuid: fix warnings with -Wswitch-enum

      mbim-uuid.c: In function ‘mbim_uuid_from_service’:
      mbim-uuid.c:402:5: warning: enumeration value
      ‘MBIM_SERVICE_LAST’ not handled in switch [-Wswitch-enum]
        402 |     switch (service) {
            |     ^~~~~~
        CC       libmbim_glib_core_la-mbim-cid.lo

 src/libmbim-glib/mbim-uuid.c | 2 ++
 1 file changed, 2 insertions(+)

commit 6285b5a303a8ba6e46c49a82eb07de4f125b6090
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 15:04:51 2019 +0100

    libmbim-glib,device: fix warnings with -Wswitch-default

      mbim-device.c: In function ‘process_message’:
      mbim-device.c:579:5: warning: switch missing default case
      [-Wswitch-default]
        579 |     switch (MBIM_MESSAGE_GET_MESSAGE_TYPE (message)) {
            |     ^~~~~~

      mbim-device.c: In function ‘device_write’:
      mbim-device.c:1951:9: warning: switch missing default case
      [-Wswitch-default]
       1951 |         switch (write_status) {
            |         ^~~~~~

 src/libmbim-glib/mbim-device.c | 5 +++++
 1 file changed, 5 insertions(+)

commit ff5d9807a5873065e8cedd33c4682a379eb0533a
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 15:02:57 2019 +0100

    libmbim-glib,proxy: fix warnings with -Wswitch-enum

      mbim-proxy.c: In function ‘process_message’:
      mbim-proxy.c:1018:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_INVALID’ not handled in switch
      [-Wswitch-enum]
       1018 |     switch (mbim_message_get_message_type (message)) {
            |     ^~~~~~
      mbim-proxy.c:1018:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_HOST_ERROR’ not handled in switch
      [-Wswitch-enum]
      mbim-proxy.c:1018:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_OPEN_DONE’ not handled in switch
      [-Wswitch-enum]
      mbim-proxy.c:1018:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_CLOSE_DONE’ not handled in switch
      [-Wswitch-enum]
      mbim-proxy.c:1018:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_COMMAND_DONE’ not handled in switch
      [-Wswitch-enum]
      mbim-proxy.c:1018:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_FUNCTION_ERROR’ not handled in switch
      [-Wswitch-enum]
      mbim-proxy.c:1018:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_INDICATE_STATUS’ not handled in switch
      [-Wswitch-enum]

 src/libmbim-glib/mbim-proxy.c | 7 +++++++
 1 file changed, 7 insertions(+)

commit 6bc51195b2e8302d96d1ff9c8c56a4447c386600
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 14:25:27 2019 +0100

    libmbim-glib,message: fix warnings with -Wswitch-enum

      mbim-message.c: In function
      ‘_mbim_message_get_information_buffer_offset’:
      mbim-message.c:146:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_INVALID’ not handled in switch
      [-Wswitch-enum]
        146 |     switch (MBIM_MESSAGE_GET_MESSAGE_TYPE (self)) {
            |     ^~~~~~
      mbim-message.c:146:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_OPEN’ not handled in switch [-Wswitch-enum]
      mbim-message.c:146:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_CLOSE’ not handled in switch [-Wswitch-enum]
      mbim-message.c:146:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_HOST_ERROR’ not handled in switch
      [-Wswitch-enum]
      mbim-message.c:146:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_OPEN_DONE’ not handled in switch
      [-Wswitch-enum]
      mbim-message.c:146:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_CLOSE_DONE’ not handled in switch
      [-Wswitch-enum]
      mbim-message.c:146:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_FUNCTION_ERROR’ not handled in switch
      [-Wswitch-enum]

 src/libmbim-glib/mbim-message.c | 7 +++++++
 1 file changed, 7 insertions(+)

commit d32e6c70420b92a342cee3b2dde16a415c047245
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 14:17:44 2019 +0100

    build-aux: fix warnings with -Wswitch-enum

      mbim-basic-connect.c: In function
      ‘__mbim_message_basic_connect_get_printable_fields’:
      mbim-basic-connect.c:10724:5: warning: enumeration value
      ‘MBIM_MESSAGE_TYPE_OPEN’ not handled in switch [-Wswitch-enum]
      10724 |     switch (mbim_message_get_message_type (message)) {
            |     ^~~~~~

      mbim-basic-connect.c: In function
      ‘__mbim_message_basic_connect_get_printable_fields’:
      mbim-basic-connect.c:10728:17: warning: enumeration value
      ‘MBIM_MESSAGE_COMMAND_TYPE_UNKNOWN’ not handled in switch
      [-Wswitch-enum]
      10728 |                 switch
      (mbim_message_command_get_command_type (message)) {
            |                 ^~~~~~

 build-aux/mbim-codegen/ObjectList.py | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 02a9c9791a9acf4770e6dec16e6962645af36c9f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 14:10:53 2019 +0100

    build-aux: fix warning in the built _get_string() methods with
    -Wsign-compare

      mbim-error-types.c: In function ‘mbim_core_error_get_string’:
      mbim-error-types.c:53:17: warning: comparison of integer
      expressions of different signedness: ‘MbimCoreError’ {aka
      ‘enum <anonymous>’} and ‘gint’ {aka ‘const int’}
      [-Wsign-compare]
         53 |         if (val == mbim_core_error_values[i].value)
            |                 ^~

      mbim-enum-types.c: In function
      ‘mbim_cid_basic_connect_get_string’:
      mbim-enum-types.c:68:17: warning: comparison of integer
      expressions of different signedness: ‘MbimCidBasicConnect’
      {aka ‘enum <anonymous>’} and ‘gint’ {aka ‘const int’}
      [-Wsign-compare]
         68 |         if (val == mbim_cid_basic_connect_values[i].value)
            |                 ^~

      mbim-enum-types.c: In function
      ‘mbim_data_class_build_string_from_mask’:
      mbim-enum-types.c:1958:18: warning: comparison of integer
      expressions of different signedness: ‘MbimDataClass’ {aka
      ‘enum <anonymous>’} and ‘guint’ {aka ‘const unsigned
      int’} [-Wsign-compare]
       1958 |         if (mask == mbim_data_class_values[i].value) {
            |                  ^~
        CC       libmbim_glib_generated_la-mbim-basic-connect.lo

 build-aux/templates/mbim-enum-types-template.c  | 4 ++--
 build-aux/templates/mbim-error-types-template.c | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit b9c011634ea5e890610f431456c973d20d4dee2b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 14:09:18 2019 +0100

    mbimcli: fix warnings with -Wdouble-promotion

      mbimcli-atds.c: In function ‘query_signal_ready’:
      mbimcli-atds.c:200:55: warning: implicit conversion from ‘float’
      to ‘double’ to match other operand of binary expression
      [-Wdouble-promotion]
        200 |         ecno_str = g_strdup_printf ("%.2f dBm", -24.0 +
        ((float) ecno / 2));
            |                                                       ^
      mbimcli-atds.c:207:55: warning: implicit conversion from ‘float’
      to ‘double’ to match other operand of binary expression
      [-Wdouble-promotion]
        207 |         rsrq_str = g_strdup_printf ("%.2f dBm", -19.5 +
        ((float) rsrq / 2));
            |

 src/mbimcli/mbimcli-atds.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 862710295bcba06aadd8affbbb3d1468aa4f6ede
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 14:06:32 2019 +0100

    mbimcli: fix warnings with -Wswitch-default

      mbimcli-atds.c: In function ‘query_signal_ready’:
      mbimcli-atds.c:160:5: warning: switch missing default case
      [-Wswitch-default]
        160 |     switch (error_rate) {
            |     ^~~~~~

 src/mbimcli/mbimcli-atds.c | 3 +++
 1 file changed, 3 insertions(+)

commit e59c5c19a948f324964e994386f3d0c392e4ffe1
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 14:03:19 2019 +0100

    mbimcli: fix warnings with -Wsign-compare

      mbimcli-basic-connect.c: In function
      ‘provisioned_contexts_ready’:
      mbimcli-basic-connect.c:1810:19: warning: comparison of integer
      expressions of different signedness: ‘int’ and ‘guint32’
      {aka ‘unsigned int’} [-Wsign-compare]
       1810 |     for (i = 0; i < provisioned_contexts_count; i++) {
            |                   ^

      mbimcli-phonebook.c: In function ‘query_phonebook_read_ready’:
      mbimcli-phonebook.c:285:19: warning: comparison of integer
      expressions of different signedness: ‘gint’ {aka ‘int’}
      and ‘guint32’ {aka ‘unsigned int’} [-Wsign-compare]
        285 |     for (i = 0; i < entry_count; i++) {
            |                   ^

 src/mbimcli/mbimcli-basic-connect.c | 2 +-
 src/mbimcli/mbimcli-phonebook.c     | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit f2d2a7897b08df41e15f5efc10a78a35c0b3a210
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Nov 20 14:01:58 2019 +0100

    mbimcli: fix warnings with -Wsign-compare

      mbimcli-basic-connect.c: In function ‘connect_session_id_parse’:
      mbimcli-basic-connect.c:1107:54: warning: comparison of integer
      expressions of different signedness: ‘long int’ and ‘size_t’
      {aka ‘long unsigned int’} [-Wsign-compare]
       1107 |     if (errno || n < 0 || n > 255 || ((endptr - str) <
       strlen (str))) {
            |                                                      ^

      mbimcli-ms-basic-connect-extensions.c: In function
      ‘session_id_parse’:
      mbimcli-ms-basic-connect-extensions.c:114:54: warning: comparison
      of integer expressions of different signedness: ‘long int’
      and ‘size_t’ {aka ‘long unsigned int’} [-Wsign-compare]
        114 |     if (errno || n < 0 || n > 255 || ((endptr - str) <
        strlen (str))) {
            |                                                      ^

 src/mbimcli/mbimcli-basic-connect.c               | 2 +-
 src/mbimcli/mbimcli-ms-basic-connect-extensions.c | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 2d4bcd3161115f0aa4d969eae40eec49d9637067
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 19 12:39:45 2019 +0100

    mbimcli: fix warnings with -Wswitch-enum

      mbimcli.c: In function ‘device_open_ready’:
      mbimcli.c:265:5: warning: enumeration value
      ‘MBIM_SERVICE_INVALID’ not handled in switch [-Wswitch-enum]
        265 |     switch (service) {
            |     ^~~~~~
      mbimcli.c:265:5: warning: enumeration value ‘MBIM_SERVICE_SMS’
      not handled in switch [-Wswitch-enum]
      mbimcli.c:265:5: warning: enumeration value ‘MBIM_SERVICE_USSD’
      not handled in switch [-Wswitch-enum]
      mbimcli.c:265:5: warning: enumeration value ‘MBIM_SERVICE_STK’
      not handled in switch [-Wswitch-enum]
      mbimcli.c:265:5: warning: enumeration value ‘MBIM_SERVICE_AUTH’
      not handled in switch [-Wswitch-enum]
      mbimcli.c:265:5: warning: enumeration value
      ‘MBIM_SERVICE_PROXY_CONTROL’ not handled in switch
      [-Wswitch-enum]
      mbimcli.c:265:5: warning: enumeration value ‘MBIM_SERVICE_QMI’
      not handled in switch [-Wswitch-enum]

 src/mbimcli/mbimcli.c | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 5ffe757ac6dbb88bd45e179f112cff9cb76a14ee
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 19 12:36:50 2019 +0100

    mbim-proxy: fix warnings with -Wswitch-enum

      mbim-proxy.c: In function ‘log_handler’:
      mbim-proxy.c:101:5: warning: enumeration value
      ‘G_LOG_FLAG_RECURSION’ not handled in switch [-Wswitch-enum]
        101 |     switch (log_level) {
            |     ^~~~~~
      mbim-proxy.c:101:5: warning: enumeration value
      ‘G_LOG_LEVEL_MESSAGE’ not handled in switch [-Wswitch-enum]
      mbim-proxy.c:101:5: warning: enumeration value
      ‘G_LOG_LEVEL_INFO’ not handled in switch [-Wswitch-enum]
      mbim-proxy.c:101:5: warning: enumeration value
      ‘G_LOG_LEVEL_MASK’ not handled in switch [-Wswitch-enum]

 src/mbim-proxy/mbim-proxy.c | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit b95dd7a12da2815e01d9ceb218d4532e066385cf
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 19 12:36:11 2019 +0100

    mbimcli: fix warnings with -Wswitch-enum

        mbimcli.c: In function ‘log_handler’:
        mbimcli.c:138:5: warning: enumeration value
        ‘G_LOG_FLAG_RECURSION’ not handled in switch [-Wswitch-enum]
          138 |     switch (log_level) {
              |     ^~~~~~
        mbimcli.c:138:5: warning: enumeration value
        ‘G_LOG_LEVEL_MESSAGE’ not handled in switch [-Wswitch-enum]
        mbimcli.c:138:5: warning: enumeration value ‘G_LOG_LEVEL_INFO’
        not handled in switch [-Wswitch-enum]
        mbimcli.c:138:5: warning: enumeration value ‘G_LOG_LEVEL_MASK’
        not handled in switch [-Wswitch-enum]

 src/mbimcli/mbimcli.c | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 448e8fe7c50493c2c42399ed903906b9bb35d244
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 19 12:28:59 2019 +0100

    build: use AX_IS_RELEASE() and AX_COMPILER_FLAGS()

    The autoconf macros AX_COMPILER_FLAGS_{CFLAGS|GIR|LDFLAGS} test
    for compiler and linker support of various flags, and add the flags to
    the generated output.

    If the command-line option '--enable-compile-warnings' is specified to
    'configure', a number of additional warning options is also added to
    the output. This is the default.

    This update requires the presence of the GNU autoconf-archive in the
    system when building from git (not required when building from a
    source tarball).

 configure.ac                           | 30 ++++++++++++++++++++++++--
 m4/compiler-warnings.m4                | 39
 ----------------------------------
 src/common/Makefile.am                 |  2 ++
 src/common/test/Makefile.am            |  2 ++
 src/libmbim-glib/Makefile.am           |  2 ++
 src/libmbim-glib/generated/Makefile.am |  2 ++
 src/libmbim-glib/test/Makefile.am      |  2 ++
 src/mbim-proxy/Makefile.am             |  2 ++
 src/mbimcli/Makefile.am                |  2 ++
 9 files changed, 42 insertions(+), 41 deletions(-)

commit fce75f2242e4e1a38e300b3af527ee131c32f980
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 19 12:41:08 2019 +0100

    ci: require autoconf-archive

 .gitlab-ci.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aa36234e905a31da045e8c09f2ac2b2204a40cf6
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 19 12:19:39 2019 +0100

    build: rework cflags/cppflags/ldflags

 src/common/Makefile.am                 |  13 +++-
 src/common/test/Makefile.am            |  22 ++++--
 src/libmbim-glib/Makefile.am           |  24 +++---
 src/libmbim-glib/generated/Makefile.am |  11 ++-
 src/libmbim-glib/test/Makefile.am      | 129
 +++++++++------------------------
 src/mbim-proxy/Makefile.am             |  12 ++-
 src/mbimcli/Makefile.am                |  13 +++-
 7 files changed, 99 insertions(+), 125 deletions(-)

commit 60f686ba451b1b64da828503da06c2c00cabe138
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Nov 19 11:44:23 2019 +0100

    libmbim-glib,uuid: remove redundant declaration

 src/libmbim-glib/mbim-uuid.h | 2 --
 1 file changed, 2 deletions(-)

commit eceb6b70ad74dc5c346561c382cb02795b4870f6
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Nov 4 10:36:09 2019 +0100

    libmbim-glib,device: fix handling of fragmented indication messages

    The transactions for the fragmented indication messages were being
    stored in the "host" type transaction hashtable, instead of in the
    "modem" type transaction hashtable.

    Fixes https://gitlab.freedesktop.org/mobile-broadband/libmbim/issues/8

 src/libmbim-glib/mbim-device.c | 20 ++++++++++++++------
 1 file changed, 14 insertions(+), 6 deletions(-)

commit 0bbe65cc3b4bd1321dc6e14dfe74b963ef8ba257
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Sep 21 14:38:28 2019 +0200

    libmbim-glib,proxy: plug memleak

 src/libmbim-glib/mbim-proxy.c | 2 ++
 1 file changed, 2 insertions(+)

commit 40640217fb40921c787cf309d6b988f04f1af84c
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Sep 21 14:01:30 2019 +0200

    libmbim-glib,proxy: always use realpath in the MbimDevice

    We don't want to create different MbimDevices for the same cdc-wdm
    port when it's accessed through different symlinks.

    Fixes https://gitlab.freedesktop.org/mobile-broadband/libmbim/issues/6

 src/libmbim-glib/mbim-proxy.c | 22 ++++++++++++++++++----
 1 file changed, 18 insertions(+), 4 deletions(-)

commit b0ede0ce4626353e89387f8bb3ab05b608f2e38d
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Sep 21 14:00:15 2019 +0200

    libmbim-glib,device: use realpath basename to look for descriptors
    file

    Fixes https://gitlab.freedesktop.org/mobile-broadband/libmbim/issues/6

 src/libmbim-glib/mbim-device.c | 14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit 4932766d8cc77430283f708385eab45cc13bbc6a
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Sep 21 13:59:51 2019 +0200

    libmbim-glib,utils: new helpers to work with symlinks

 src/libmbim-glib/mbim-utils.c | 44
 ++++++++++++++++++++++++++++++++++++++++++-
 src/libmbim-glib/mbim-utils.h |  8 ++++++--
 2 files changed, 49 insertions(+), 3 deletions(-)

commit 2999e9a8629938b9666f8d71eebc79a8670f5da0
Author: Eric Caruso <ejcaruso@chromium.org>
Date:   Thu Sep 12 15:52:52 2019 -0700

    mbimcli: add --query-provisioned-contexts flag

    This allows a user to check the provisioned contexts from the
    CLI to see if e.g. the network wants to set up a connection using
    a class 3 APN.

    BUG=b:133125116
    TEST=run on sarien

    Change-Id: Ida30061c336b2a504fbdfb2118c7a165c1ad0ce8

 src/mbimcli/mbimcli-basic-connect.c | 85
 ++++++++++++++++++++++++++++++++++++-
 1 file changed, 84 insertions(+), 1 deletion(-)

commit 399dcf407bc3f8385aae77e49a71591ba1a351bd
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Sep 6 14:26:42 2019 +0200

    build: post-release version bump to 1.21.0

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 376824c586fbf72ea0aeda3c8fb0df38c213a99e
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Sep 6 14:03:13 2019 +0200

    release: bump version to 1.20.0

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e12c9629b71e2f819e8811100bad4a9f4417f7b8
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Sep 6 14:02:28 2019 +0200

    NEWS: update for 1.20.0

 NEWS | 23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit b8f305d7f5bbf1712ed6ca39e5089e77fbd98eac
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Sep 4 16:17:01 2019 +0200

    mbim-proxy: fix client unsubscribe logic

    When building the merged service subscribe list, we should never start
    with the previously existing list, because if we do that we would
    never process service/cid unsubscriptions.

    Instead, start with the default services list because we don't want to
    lose any of those ever.

 src/libmbim-glib/mbim-proxy.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a5379fbbd397f6d0d9d585efb34a65629440f41b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Sep 4 15:28:29 2019 +0200

    mbim-proxy: if client subscribes using wildcard, don't match cid

    Patch by Michael O'Dwyer.
    https://gitlab.freedesktop.org/mobile-broadband/libmbim/issues/5

 src/libmbim-glib/mbim-proxy.c | 6 ++++++
 1 file changed, 6 insertions(+)

commit 9495539021fc0e4bc80cc9ae28bd7b8980bff393
Author: Ben Chan <benchan@chromium.org>
Date:   Tue Sep 3 16:15:02 2019 -0700

    ms-basic-connect-extensions: untabify

 data/mbim-service-ms-basic-connect-extensions.json | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 47cf7e1aebb3d0ccd95c0e88a30df68bf6dfc0f4
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jul 23 13:41:52 2019 +0200

    libmbim,cid: fix build with -Werror=type-limits

      mbim-cid.c: In function 'mbim_cid_get_printable':
      mbim-cid.c:360:5: error: comparison of unsigned expression >=
      0 is always true [-Werror=type-limits]

 src/libmbim-glib/mbim-cid.c | 1 -
 1 file changed, 1 deletion(-)

commit 07f4f8fa3f53e93a8988a6a2f3e5179c334b7f2f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jul 23 13:24:03 2019 +0200

    libmbim,uuid: fix build with -Werror=type-limits

      mbim-uuid.c: In function 'mbim_uuid_from_service':
      mbim-uuid.c:400:5: error: comparison of unsigned expression >=
      0 is always true [-Werror=type-limits]
      mbim-uuid.c: In function 'mbim_uuid_from_context_type':
      mbim-uuid.c:594:5: error: comparison of unsigned expression >=
      0 is always true [-Werror=type-limits]

 src/libmbim-glib/mbim-uuid.c | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit e7a327fafd75f9d020b0de7539fb072cef059b9a
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jul 2 13:57:38 2019 +0200

    build: define GLIB_VERSION_MAX_ALLOWED and disable deprecation
    warnings

 configure.ac | 6 ++++++
 1 file changed, 6 insertions(+)

commit 67ba57f89fd3a2f4b280361e650eaef0057baeaa
Author: Ben Chan <benchan@chromium.org>
Date:   Tue Apr 2 12:46:26 2019 -0700

    build: make compiler warning options compatible with clang

    This patch updates m4/compiler-warnings.m4 as follows to make it more
    compatible with clang:

    * clang doesn't support -Wunused-but-set-variable, which can be
    replaced
      with -Wunused-variable as the latter covers unused variables with or
      without an assigned value and is supported by gcc and clang.

    * -Wno-unused-function is added to let clang ignore unused functions
    that
      are auto-generated by mbim-codegen.

 m4/compiler-warnings.m4 | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cdf25b2853257d986e4a3c00993182d39649395f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Mar 7 15:11:57 2019 +0100

    mbim-proxy: new '--empty-timeout=[SECS}' option

    We allow specifying how long the proxy should be kept running after
    the last client/device has exited.

 src/mbim-proxy/mbim-proxy.c | 23 ++++++++++++++++++-----
 1 file changed, 18 insertions(+), 5 deletions(-)

commit 27257959196e34d8312f3fd481ab94199e779026
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Mar 7 15:08:05 2019 +0100

    mbim-proxy: new --no-exit option to avoid the proxy from exiting

 src/mbim-proxy/mbim-proxy.c | 26 +++++++++++++++++---------
 1 file changed, 17 insertions(+), 9 deletions(-)

commit 8a3c88eaa76e606b113000889bfa0f8d9901eb99
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Mar 7 15:04:04 2019 +0100

    mbim-proxy: update default empty lifetime timeout to 300s

 src/mbim-proxy/mbim-proxy.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 92501dffafee34ac8ba358cc27c5bb89cd8a2625
Author: Eric Caruso <ejcaruso@chromium.org>
Date:   Mon Feb 11 15:46:12 2019 -0800

    Add .gitlab-ci.yml

    This allows us to run unit tests on every commit to the gitlab
    instance.

 .gitlab-ci.yml | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 29b09c4d146c8d0a0cc12417ecdc3356fa5559da
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jan 8 14:01:58 2019 +0100

    build: post-release version bump to 1.19.0

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 18cd1d2b3f21ca825f4d2eb31a058b1e43860f5b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jan 8 13:38:27 2019 +0100

    release: bump version to 1.18.0

 configure.ac | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 9d1e55f989408d2fe0159162affceaea7a504550
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jan 8 13:38:00 2019 +0100

    NEWS: update for 1.18.0

 NEWS | 41 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 41 insertions(+)

commit a68d54ba609c2bd34f9a8be05a814a9414ca2bac
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jan 8 13:51:00 2019 +0100

    build: bump copyrights to 2019

 docs/reference/libmbim-glib/libmbim-glib-docs.xml | 1 +
 src/mbim-proxy/mbim-proxy.c                       | 2 +-
 src/mbimcli/mbimcli.c                             | 2 +-
 3 files changed, 3 insertions(+), 2 deletions(-)

commit ea42bbf13d3369664973c29f8bf07fd76bd43eef
Author: Ben Chan <benchan@chromium.org>
Date:   Mon Dec 10 10:56:05 2018 -0800

    build: enable -Wtype-limits

    -Wtype-limits helps catch unnecessary comparisons such as comparing
    unsigned variables <= 0.

    This patch essentially brings the list of compiler warnings defined in
    m4/compiler-warnings.m4 to be on par with libqmi.

 m4/compiler-warnings.m4 | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bff6abc1d7e424d7d594caba540ffe587fd0d723
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Nov 12 15:14:53 2018 +0100

    build: version bump to 1.17.5 to flag existence of new API (LTE
    attach config)

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a7b6be938af94cf2d54d4352d899831394276b6e
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Nov 4 16:43:53 2018 +0100

    ms-basic-connect-extensions: implement 'LTE attach state'

 data/mbim-service-ms-basic-connect-extensions.json | 36 ++++++++++-
 .../libmbim-glib/libmbim-glib-common.sections      |  5 ++
 src/libmbim-glib/mbim-enums.h                      | 12 ++++
 src/mbimcli/mbimcli-ms-basic-connect-extensions.c  | 71
 +++++++++++++++++++++-
 4 files changed, 122 insertions(+), 2 deletions(-)

commit dc3c5923fa19620360b198bc1ce66fed16ec97ff
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Nov 4 09:17:16 2018 +0100

    ms-basic-connect-extensions: implement 'LTE attach configuration'

 data/mbim-service-ms-basic-connect-extensions.json | 53 +++++++++++++-
 .../libmbim-glib/libmbim-glib-common.sections      | 15 ++++
 src/libmbim-glib/mbim-enums.h                      | 45 ++++++++++++
 src/mbimcli/mbimcli-ms-basic-connect-extensions.c  | 83
 +++++++++++++++++++++-
 4 files changed, 192 insertions(+), 4 deletions(-)

commit aa5e4ee5666c9f22b71a0bbbed7475b665eab85b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Nov 4 23:04:37 2018 +0100

    libmbim-glib,proxy: also track standard services

    The assumption that we could totally ignore enabling/disabling
    standard services seems to be wrong, as not all devices follow that
    logic. Looks like some do expect the FULL list of service/cids to
    subscribe to on every request, and we are not specifying the standard
    services, we would totally be losing the notifications they emit.

    So, track the full default list of CIDs of all standard services that
    emit notifications, and assume that all new clients have that list
    enabled by default. At device level we will NEVER disable the standard
    services, but clients may do so. This means that the list of
    service/cids that we pass down to the device must ALWAYS include all
    cids from all standard services.

    Fixes: 0073cbed59a270e1a8f18f591d31cbaf64a995ae

 src/libmbim-glib/mbim-proxy-helpers.c | 130
 +++++++++++++++++++++++++++++++++-
 src/libmbim-glib/mbim-proxy-helpers.h |   4 ++
 src/libmbim-glib/mbim-proxy.c         |  45 +++++-------
 3 files changed, 148 insertions(+), 31 deletions(-)

commit 3eeaa4248b98e1c3265caa5efca0db00a00e8a56
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Nov 4 12:08:27 2018 +0100

    ms-basic-connect-extensions: rename service

    This service is not a generic service, it is defined by Microsoft, so
    rename it to follow the same naming scheme as for other services also
    defined by Microsoft.

    We do not provide compatibility symbols, as this is a NEW service to
    be first released in libmbim 1.18.0.

    We do bump the micro versionto 1.17.4, so that applications relying
    on the git version of libmbim can bump their minimum required version
    accordingly.

 configure.ac                                       |  2 +-
 data/Makefile.am                                   |  4 +-
 ... mbim-service-ms-basic-connect-extensions.json} |  4 +-
 docs/man/Makefile.am                               |  2 +-
 docs/reference/libmbim-glib/Makefile.am            |  4 +-
 .../libmbim-glib/libmbim-glib-common.sections      | 12 ++---
 docs/reference/libmbim-glib/libmbim-glib-docs.xml  | 16 +++++-
 src/libmbim-glib/generated/Makefile.am             | 30 +++++------
 src/libmbim-glib/libmbim-glib.h                    |  2 +-
 src/libmbim-glib/mbim-cid.c                        | 40 +++++++-------
 src/libmbim-glib/mbim-cid.h                        | 62
 +++++++++++-----------
 src/libmbim-glib/mbim-message.c                    | 20 +++----
 src/libmbim-glib/mbim-uuid.c                       | 10 ++--
 src/libmbim-glib/mbim-uuid.h                       | 38 ++++++-------
 src/libmbim-glib/test/test-uuid.c                  | 26 ++++-----
 src/mbimcli/Makefile.am                            |  4 +-
 ...ons.c => mbimcli-ms-basic-connect-extensions.c} | 22 ++++----
 src/mbimcli/mbimcli.c                              | 10 ++--
 src/mbimcli/mbimcli.h                              |  6 +--
 19 files changed, 163 insertions(+), 151 deletions(-)

commit 61b3f09e417e4f6131a763094960a7d45bb4fc56
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Nov 4 17:14:32 2018 +0100

    mbim-codegen: don't print response contents if an error is being
    reported

        [04 nov 2018, 16:54:27] [Debug] [/dev/cdc-wdm2] Received
        message...
        >>>>>> RAW:
        >>>>>>   length = 48
        >>>>>>   data   =
        03:00:00:80:30:00:00:00:13:00:00:00:01:00:00:00:00:00:00:00:A2:89:CC:33:BC:BB:8B:4F:B6:B0:13:3E:C2:AA:E6:DF:13:00:00:00:22:00:00:00:00:00:00:00

        (mbim-proxy:14139): GLib-ERROR **: 16:54:27.373:
        ../glib/glib/gmem.c:105: failed to allocate 33235360392 bytes

 build-aux/mbim-codegen/Message.py | 6 ++++++
 1 file changed, 6 insertions(+)

commit 88d2cddb9d7861e59219400a4e4ff453cdd32d20
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Nov 4 08:59:15 2018 +0100

    basic-connect-extensions: define common struct before the message

 data/mbim-service-basic-connect-extensions.json | 29
 ++++++++++++-------------
 1 file changed, 14 insertions(+), 15 deletions(-)

commit ce04c635358d9ac1bdbdf3bcbc70e469a9f6317f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Oct 17 11:32:35 2018 +0200

    libmbim-glib,proxy: compare MbimDevices by pointer not by path

    The MbimDevice objects are stored in the proxy private info, and
    additional references of the same objects are also referenced in each
    client info. We can do a much quicker MbimDevice comparison just by
    comparing pointers directly instead of paths.

 src/libmbim-glib/mbim-proxy.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 0073cbed59a270e1a8f18f591d31cbaf64a995ae
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Oct 10 13:20:46 2018 +0200

    libmbim-glib: explicitly configure only non-standard services

    The MBIM documentation states that the DEVICE_SERVICE_SUBSCRIBE_LIST
    message may be used by clients to specify which indications it is
    interested in receiving, and then the modem "must only indicate
    notifications for CIDs which have been enabled via this command".

    A bit later it says that "Upon OPEN_DONE completion, notifications for
    CIDs defined in this specification are enabled (aka subscribed to) by
    default, and vendor extension notifications are off by default."

    These two previous statements seem to contradict each other, as this
    would mean that devices emit by default indications for all standard
    services, regardless of whether clients have subscribed to them
    explicitly via DEVICE_SERVICE_SUBSCRIBE_LIST.

    Looking at actual real devices, giving a DEVICE_SERVICE_SUBSCRIBE_LIST
    that includes NO basic service CID enabled does NOT disable all
    indications of the standard services, which means we have no way to
    do so.

    This commit simplifies the "merged" service subscribe list handling by
    making the assumption that basic services are by default already
    subscribed to and also that there is no way to un-subscribe from
    them. We will use DEVICE_SERVICE_SUBSCRIBE_LIST only to track the
    subscriptions to CIDs of non-standard services in the device.

    If the client subscribes to standard services explicitly, the proxy
    will ignore those and will not send those explicit subscriptions to
    the device. In the same way, if the client un-subscribes from standard
    services it was previously subscribed to, we will also ignore those
    attempts. Clients should be simplified and ignore these subscriptions,
    but meanwhile the proxy should really behave as the real device.

    And while trying to behave as the real device, the indications emitted
    for standard services should always be sent to the clients, even if
    the clients tried to do custom management of which CIDs of the
    standard services it's subscribed to. We shouldn't add additional
    filtering in our end if the device isn't doing that.

 src/libmbim-glib/mbim-proxy-helpers.c      |  30 +--
 src/libmbim-glib/mbim-proxy-helpers.h      |   1 -
 src/libmbim-glib/mbim-proxy.c              | 115 ++++++-----
 src/libmbim-glib/test/test-proxy-helpers.c | 303
 +++++++++--------------------
 4 files changed, 164 insertions(+), 285 deletions(-)

commit 8f491a2d885db43c4814407bfa36f62adf4561c0
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Oct 10 01:39:28 2018 +0200

    libmbim-glib,proxy: full event entry cleanup on NotOpened function
    error

    If the device suddenly reports that the MBIM session is not open,
    e.g. after a suspend/resume cycle, we also cannot assume that the
    client-configured lists of events are valid.

    E.g. if the modem had QMI-over-MBIM indications enabled before the
    suspend operation, once the modem is re-configured after the resume we
    wouldn't be re-enabling these indications because we wrongly thought
    they were already enabled.

    This fixes the QMI-over-MBIM LOC support, which was broken after a
    suspend/resume cycle.

 src/libmbim-glib/mbim-proxy.c | 51
 +++++++++++++++++++++++++++++++++++--------
 1 file changed, 42 insertions(+), 9 deletions(-)

commit 2bf75ebc1f82c86b324db47fe037f6bbe230e6f4
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Oct 10 01:29:24 2018 +0200

    libmbim-glib,proxy: device error signal handling not per client

    There is no point in having one error signal connected per client,
    especially since the action performed is just a device forced close
    operation. Setup just one signal connected listening to errors
    reported by the device.

 src/libmbim-glib/mbim-proxy.c | 64
 +++++++++++++++++++++----------------------
 1 file changed, 31 insertions(+), 33 deletions(-)

commit cbd09e3b42807182a2f5879babd8e5658d87ad31
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Oct 10 01:07:51 2018 +0200

    libmbim-glib,mbim-proxy: per-device event entry merged lists

    Having a global event entry merged list applicable to all devices
    doesn't have any sense, we should have a merged list *per device*. Do
    that by keeping the merged list in a private data associated to each
    MbimDevice.

 src/libmbim-glib/mbim-proxy.c | 174
 +++++++++++++++++++++++++-----------------
 1 file changed, 106 insertions(+), 68 deletions(-)

commit fbec1f4763168c75f0b221343e747545386ae9f8
Author: Ben Chan <benchan@chromium.org>
Date:   Tue Oct 16 16:27:42 2018 -0700

    libmbim-glib,proxy: remove explicit GDestroyNotify cast on
    g_object_unref

    g_object_unref is in form of  `void (*)(gpointer)`, which matches the
    GDestroyNotify signature. An explicit GDestroyNotify cast on
    g_object_unref is thus not needed.

 src/libmbim-glib/mbim-proxy.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ced77fcf59ca74bd1fe8cc05dc8286a351e4e11f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Oct 9 22:48:12 2018 +0200

    libmbim-glib,device: emit signal before completing transaction task

    Completion of transaction tasks is done inline, not in idle, and so a
    lot of things may happen during the completion handler, and we may
    even find that the input MbimMessage isn't valid any more, as the
    message container is the input channel buffer and this buffer may be
    closed and recreated during the function error handling...

        [09 oct 2018, 22:34:59] [Debug] [/dev/cdc-wdm2] Received message
        (translated)...
        >>>>>> Header:
        >>>>>>   length      = 16
        >>>>>>   type        = function-error (0x80000004)
        >>>>>>   transaction = 46
        >>>>>> Contents:
        >>>>>>   error = 'NotOpened' (0x00000005)

        [09 oct 2018, 22:34:59] [Debug] device not-opened error reported,
        reopening
        [09 oct 2018, 22:34:59] [Debug] [/dev/cdc-wdm2] channel destroyed
        [09 oct 2018, 22:34:59] [Debug] opening device...
        [09 oct 2018, 22:34:59] [Debug] [/dev/cdc-wdm2] Queried max
        control message size: 4096
        Segmentation fault

    Avoid this, just by emitting the error signal before the task
    completion.

 src/libmbim-glib/mbim-device.c | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 89c29c18c95f7f02481a4c620039c4c90d6c1889
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Oct 7 21:27:13 2018 +0200

    mbim-codegen: implement support for printing message fields in traces

 build-aux/mbim-codegen/Message.py    | 343
 ++++++++++++++++++++++++++++++++++-
 build-aux/mbim-codegen/ObjectList.py | 128 ++++++++++++-
 build-aux/mbim-codegen/Struct.py     | 132 +++++++++++++-
 build-aux/mbim-codegen/mbim-codegen  |   5 +-
 build-aux/mbim-codegen/utils.py      |   4 +-
 src/libmbim-glib/mbim-message.c      |  92 +++++++++-
 6 files changed, 696 insertions(+), 8 deletions(-)

commit 603e24febf12e09ed0ef5c6ceaf813c99650c5a3
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Oct 9 10:09:54 2018 +0200

    mbim-codegen: remove broken support for guint32-array types out
    of struct

    The only 2 fields flagged with 'guint32-array' type are given inside
    structs, and this lead to having a buggy implementation of the type
    when out of structs. E.g. we were assuming we could use '${public}' to
    refer to the enum/flag type associated to the guint32 when in an
    array, but that logic was totally broken as the public variable would
    be equal to 'guint32-array' if no enum/flag type given. Just remove
    that, and leave only the in-struct support.

 build-aux/mbim-codegen/Message.py | 22 +---------------------
 1 file changed, 1 insertion(+), 21 deletions(-)

commit 9ba08cc9951d41afa3195010fac1cbffa2a826b9
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Oct 9 09:53:50 2018 +0200

    mbim-codegen: remove broken support for unused guint64-array types

    The code generator was ready to support these fields completely, but
    the library helper methods for reading these fields didn't even exist.

    Just remove the support from the code generator all together, whenever
    such a field is supported in any MBIM message, we'll add a proper
    implementation.

 build-aux/mbim-codegen/Message.py       | 14 --------------
 build-aux/mbim-codegen/Struct.py        |  2 --
 src/libmbim-glib/mbim-message-private.h |  6 ------
 src/libmbim-glib/mbim-message.c         | 20 --------------------
 4 files changed, 42 deletions(-)

commit 8d748c69e4ea622a126477df900c6b44efabd4ec
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Oct 7 22:29:17 2018 +0200

    libmbim-glib,docs: add missing MbimPcoType references

 docs/reference/libmbim-glib/libmbim-glib-common.sections | 3 +++
 1 file changed, 3 insertions(+)

commit 670641b4f2aee333cd809e1c06a380eeb7144a2a
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Oct 7 22:26:55 2018 +0200

    mbim-codegen: remove support for ipv4-array and ipv6-array inside
    structs

    It was never used and the implementation was actually buggy. Not worth
    maintaining this.

 build-aux/mbim-codegen/Struct.py | 32 --------------------------------
 1 file changed, 32 deletions(-)

commit 6ac1b7f994d8e07b7c27caed47f97f927505a488
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Oct 7 21:25:59 2018 +0200

    mbim-codegen: advance offset 16 bytes when reading a guint64 field

    https://gitlab.freedesktop.org/mobile-broadband/libmbim/issues/4

 build-aux/mbim-codegen/Message.py | 2 +-
 build-aux/mbim-codegen/Struct.py  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 124c01fc75c96328284c9b8721a9773d4cf7b632
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Oct 7 21:25:15 2018 +0200

    atds: fix service name

    Should be the same as the 'service' fields in each message.

 data/mbim-service-atds.json                       | 4 ++--
 docs/reference/libmbim-glib/libmbim-glib-docs.xml | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 531ee220339b285078a91b73cb1857881d6aa506
Author: Ben Chan <benchan@chromium.org>
Date:   Sun Sep 16 11:52:39 2018 -0700

    libmbim-glib: fix UUID for 'Basic Connectivity Extensions' service

    The 'Basic Connectivity Extensions' service UUID was inconsistently
    stated in some Microsoft documentations, which has been fixed in [1].
    This patch updates libmbim to use the correct UUID for the 'Basic
    Connectivity Extensions' service UUID, which is
    3d01dcc5-fef5-4d05-0d3a-bef7058e9aaf.

    [1] https://github.com/MicrosoftDocs/windows-driver-docs/issues/831

 src/libmbim-glib/mbim-uuid.c      | 2 +-
 src/libmbim-glib/test/test-uuid.c | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit c603ab385baf5050fdbd47af9bdf9d46d407b1ab
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Aug 9 11:30:02 2018 +0200

    mbimcli,atds: fix thresholds in LTE SNR processing

    The encoded LTE SNR value is between 0 and 35, not up to 97.

 src/mbimcli/mbimcli-atds.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b1b0ff50d86e240d2c1d6aa2f19272ce000a5704
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Aug 9 11:22:36 2018 +0200

    mbimcli,atds: fix LTE SNR processing

 src/mbimcli/mbimcli-atds.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 652188fe3e5f015b637b19c68869a54b56b18620
Author: Ben Chan <benchan@chromium.org>
Date:   Mon Jul 30 13:42:11 2018 -0700

    build: version bump to 1.17.3 for newly added MBIM_CID_PCO support

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1475ed59d265e6c25cfa048aba4a378940da697d
Author: Ben Chan <benchan@chromium.org>
Date:   Thu Jul 26 23:38:07 2018 -0700

    mbimcli: new '--query-pco' action

    Change-Id: I7f24d481cb92b2e817eba487d38739b8fed58b28

 docs/man/Makefile.am                           |   1 +
 src/mbimcli/Makefile.am                        |   1 +
 src/mbimcli/mbimcli-basic-connect-extensions.c | 246
 +++++++++++++++++++++++++
 src/mbimcli/mbimcli.c                          |   8 +
 src/mbimcli/mbimcli.h                          |   4 +
 5 files changed, 260 insertions(+)

commit dbe70fee692974a92ce102642049b072bb17c9bd
Author: Ben Chan <benchan@chromium.org>
Date:   Thu Jul 26 23:38:06 2018 -0700

    libmbim-glib: add partial support for Basic IP Connectivity Extensions
    service

    This patch adds partial support for the Basic IP Connectivity
    Extensions
    service defined in Microsoft Mobile Broadband Design Guide. Only the
    Protocol Configuration Operations (PCO) command is defined.

 data/Makefile.am                                   |  1 +
 data/mbim-service-basic-connect-extensions.json    | 34
 ++++++++++++++++++++++
 docs/reference/libmbim-glib/Makefile.am            |  1 +
 .../libmbim-glib/libmbim-glib-common.sections      |  8 +++++
 docs/reference/libmbim-glib/libmbim-glib-docs.xml  |  1 +
 src/libmbim-glib/generated/Makefile.am             | 12 ++++++++
 src/libmbim-glib/libmbim-glib.h                    |  1 +
 src/libmbim-glib/mbim-cid.c                        | 23 +++++++++++++++
 src/libmbim-glib/mbim-cid.h                        | 30
 +++++++++++++++++++
 src/libmbim-glib/mbim-enums.h                      | 15 ++++++++++
 src/libmbim-glib/mbim-uuid.c                       | 13 +++++++++
 src/libmbim-glib/mbim-uuid.h                       | 11 +++++++
 src/libmbim-glib/test/test-uuid.c                  |  8 +++++
 13 files changed, 158 insertions(+)

commit b7f244c7206142fd869e2b865ae7f29e677036e1
Author: Ben Chan <benchan@chromium.org>
Date:   Fri Jul 27 15:14:38 2018 -0700

    mbim-codegen: handle 'ref-byte-array-no-offset' fields in Structs

 build-aux/mbim-codegen/Struct.py | 20 +++++++++++---------
 1 file changed, 11 insertions(+), 9 deletions(-)

commit cb54dd691967f21a6a9b1bb3e40d33e3cff35d7a
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jun 27 14:44:31 2018 -0700

    libmbim-glib: handle MBIM_SERVICE_INTEL_FIRMWARE_UPDATE in
    mbim_cid_get_printable()

    This patch adds a missing handling of
    MBIM_SERVICE_INTEL_FIRMWARE_UPDATE
    in mbim_cid_get_printable() for commit d2ae618d
    ("intel-firmware-update:
    add support for Intel Firmware Update service")

 src/libmbim-glib/mbim-cid.c | 2 ++
 1 file changed, 2 insertions(+)

commit 12f1a4f623d915957bb8b9b1b9a5e6c19b708e8c
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jun 24 18:44:11 2018 +0200

    build: version bump to 1.17.2 to flag existence of new API (QMI
    indications)

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4a853eb22b564bbaf0b591042abe75da8c3bd408
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jun 24 18:37:59 2018 +0200

    libmbim-glib,qmi: enable notifications in the QMI_MSG CID

    The QMI service allows QMI indications to be reported via MBIM
    notifications, once they're enabled with 'Basic Connect Device Service
    Subscribe List'.

 data/mbim-service-qmi.json  | 21 ++++++++++++---------
 src/libmbim-glib/mbim-cid.c |  2 +-
 2 files changed, 13 insertions(+), 10 deletions(-)

commit f967d117ce1a44cfe8121b5b09a5bb5d7838531e
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jun 24 09:44:40 2018 +0200

    libmbim-glib,cid: fix QMI_MSG documentation

 src/libmbim-glib/mbim-cid.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit baa8dbc42c824a6d7e5a60cd096d8eb2c6f20f4e
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jun 2 18:23:00 2018 +0200

    build: version bump to 1.17.1 to flag existence of new API

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2a97e39cdda125dd1b28ad7eef0f45f3646fc65e
Author: Ben Chan <benchan@chromium.org>
Date:   Fri Jun 1 19:44:14 2018 -0700

    libmbim-glib: add additional cause codes to MbimNwError

    This patch updates MbimNwError to include additional cause codes,
    which
    are related to PDP context activation, defined in the 3GPP TS 24.008
    specification section 6.1.3.1.3.1.

 src/libmbim-glib/mbim-enums.h | 92
 +++++++++++++++++++++++++++----------------
 1 file changed, 57 insertions(+), 35 deletions(-)

commit 2726ecd6c810fe9ccf030953893af9e90ec20073
Author: Lubomir Rintel <lkundrak@v3.sk>
Date:   Tue Apr 24 08:10:32 2018 +0200

    build: figure out the right Python provider for the build

    Python can be called python3, python2 or merely python, but we're
    fine with
    either.

 configure.ac                           |  2 ++
 src/libmbim-glib/generated/Makefile.am | 26 +++++++++++++-------------
 2 files changed, 15 insertions(+), 13 deletions(-)

commit 86e8e8cdd65a8a7b5bb40b04068358dc8ee5473f
Author: Lubomir Rintel <lkundrak@v3.sk>
Date:   Tue Apr 24 08:08:46 2018 +0200

    all: drop exec bit and shebang from Python modules

    Only the executables are supposed to possess those.

 build-aux/mbim-codegen/Message.py    | 1 -
 build-aux/mbim-codegen/ObjectList.py | 1 -
 build-aux/mbim-codegen/Struct.py     | 1 -
 build-aux/mbim-codegen/utils.py      | 1 -
 4 files changed, 4 deletions(-)

commit b2af1edd5c813c8b09491cbb09f4c38f0f00ff2e
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jan 31 21:56:41 2018 -0800

    mbimcli: longer timeout for '--disconnect' operation

 src/mbimcli/mbimcli-basic-connect.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2e99e5f8a8cf2e73cea971abae35731b80249941
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jan 31 21:56:40 2018 -0800

    libmbim-glib,message: handle unknown status when setting error

    g_set_error_literal() requires a non-NULL 'message' argument. Passing
    mbim_status_error_get_string() as the 'message' argument to
    g_set_error_literal() could result in an assertion as
    mbim_status_error_get_string() returns NULL for a status code
    without an
    associated MbimStatusError enum.

 src/libmbim-glib/mbim-message.c | 40
 ++++++++++++++++++++++++----------------
 1 file changed, 24 insertions(+), 16 deletions(-)

commit 18eb8aceede2092e4db61ef93caf94f0154c7bf7
Author: Dan Williams <dcbw@redhat.com>
Date:   Mon Jan 22 13:01:02 2018 -0600

    mbimcli: add "ip-type" property to --connect

 src/mbimcli/mbimcli-basic-connect.c | 64
 ++++++++++++++++++++++++++++---------
 1 file changed, 49 insertions(+), 15 deletions(-)

commit 156859daee873d7415c18620e0b5601d607c2f30
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 20 10:29:43 2018 +0100

    build: post release version bump to 1.17.0

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 16e15d49297f72397f6b691cf7a9ccf47bdae844
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 20 10:26:11 2018 +0100

    release: 1.16.0

    Updated libtool versioning for the stable release.

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1a1d9801e6bb5951aa53068d35357b15ff00851e
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 20 10:24:08 2018 +0100

    Revert "build: post-release version bump to 1.17.0"

    This reverts commit 3134204465a2b13316bcbcf6c646b521c4389cec.

    Didn't bump libtool library versioning...

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3134204465a2b13316bcbcf6c646b521c4389cec
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 20 10:11:46 2018 +0100

    build: post-release version bump to 1.17.0

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bec91eb31bad02ef776a17115e6644ebbf26ffe0
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 20 09:55:41 2018 +0100

    release: bump version to 1.16.0

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4097bddb60036b2e3560b24b9d16cc74ee3c91c9
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 20 09:54:58 2018 +0100

    NEWS: update for 1.16.0

 NEWS | 42 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit 232ad747ee3476e86a4e0af578f7899da7b01344
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 20 09:31:46 2018 +0100

    AUTHORS: update based on latest git stats

 AUTHORS | 17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit 4bb9e85d9b16a9bf43c4705f02d4911f7f9207b1
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 20 09:28:31 2018 +0100

    mbimcli,mbim-proxy,mbim-network: update copyright year to 2018

 src/mbim-proxy/mbim-proxy.c | 4 ++--
 src/mbimcli/mbimcli.c       | 2 +-
 utils/mbim-network.in       | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 497b1a6298bd90e791920438e52457abbdcaa8b1
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 20 10:01:07 2018 +0100

    build: ignore built test file

 .gitignore | 2 ++
 1 file changed, 2 insertions(+)

commit d57ef9cca58ef08e7e6471b396dbdd2c7fa89339
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 20 09:10:29 2018 +0100

    docs: update copyright year to 2018

 docs/reference/libmbim-glib/libmbim-glib-docs.xml | 1 +
 1 file changed, 1 insertion(+)

commit 2ee8bf11ad8fd16f0c36cb292be712e2b10c6fca
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Jan 10 22:08:35 2018 +0100

    build: don't rebuild mbim-proxy-helpers

    They're already included in the non-inst core library.

 src/libmbim-glib/test/Makefile.am | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 810da895a4d7e722a9dae40578e52d12135e262b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Jan 10 22:02:18 2018 +0100

    docs: add missing pieces to document the Intel Firmware Update service

 docs/reference/libmbim-glib/libmbim-glib-common.sections | 4 ++++
 docs/reference/libmbim-glib/libmbim-glib-docs.xml        | 1 +
 2 files changed, 5 insertions(+)

commit 4128a33e9b08442853aa739070fec3a85c607a55
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jan 10 12:47:00 2018 -0800

    mbimcli: new '--intel-modem-reboot' action

 docs/man/Makefile.am                        |   1 +
 src/mbimcli/Makefile.am                     |   3 +-
 src/mbimcli/mbimcli-intel-firmware-update.c | 159
 ++++++++++++++++++++++++++++
 src/mbimcli/mbimcli.c                       |   8 ++
 src/mbimcli/mbimcli.h                       |   4 +
 5 files changed, 174 insertions(+), 1 deletion(-)

commit d2ae618dd598fb05d42c914ef74ba09c6b80b032
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jan 10 12:46:59 2018 -0800

    intel-firmware-update: add support for Intel Firmware Update service

 data/Makefile.am                                       |  3 ++-
 data/mbim-service-intel-firmware-update.json           | 11 +++++++++++
 docs/reference/libmbim-glib/Makefile.am                |  3 ++-
 .../libmbim-glib/libmbim-glib-common.sections          |  2 ++
 src/libmbim-glib/generated/Makefile.am                 | 18
 +++++++++++++++---
 src/libmbim-glib/libmbim-glib.h                        |  1 +
 src/libmbim-glib/mbim-cid.c                            | 12 ++++++++++++
 src/libmbim-glib/mbim-cid.h                            | 12 ++++++++++++
 src/libmbim-glib/mbim-uuid.c                           | 13 +++++++++++++
 src/libmbim-glib/mbim-uuid.h                           | 11 +++++++++++
 src/libmbim-glib/test/test-uuid.c                      |  8 ++++++++
 11 files changed, 89 insertions(+), 5 deletions(-)

commit bf3a6ab8e01ecf9ee7494aade4bcbd59c1e71c3f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Sep 13 22:12:10 2017 -0700

    libmbim-glib,device: port transactions to GTask

 src/libmbim-glib/mbim-device.c | 464
 ++++++++++++++++++++++-------------------
 1 file changed, 248 insertions(+), 216 deletions(-)

commit b9a684084f753e9025f16b4c4fbf40d92a63c3e3
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Aug 19 12:35:11 2017 +0200

    mbim-proxy: port internal device open to GTask

 src/libmbim-glib/mbim-proxy.c | 83
 +++++++++++++++++++++----------------------
 1 file changed, 40 insertions(+), 43 deletions(-)

commit 0cd2280bf5912c84f817e4a0b1c5a889ac65583b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Sep 14 07:02:11 2017 -0700

    build: add missing gtk-doc.m4

    Fixes: 9ef8723927c28d731e8f4041e45fb4df6c919a0b

 m4/gtk-doc.m4 | 88
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 88 insertions(+)

commit 7becf366e78a71778232ca636f7677bd00ea2a00
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Sep 13 18:25:22 2017 +0200

    build: generate ChangeLog from git during dist

 Makefile.am | 14 ++++++++++++++
 autogen.sh  |  1 -
 2 files changed, 14 insertions(+), 1 deletion(-)

commit e50f84f3fc499042939a190994127bd7718953ce
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Sep 13 18:13:39 2017 +0200

    doc,atds: avoid redefining MbimAtdsProvider documentation

    MbimAtdsProvider is a struct and is already documented in the ATDS
    service doc.

 docs/reference/libmbim-glib/libmbim-glib-common.sections | 1 -
 1 file changed, 1 deletion(-)

commit 6ec653bc83c364ff24145d348bfbfbd771ab31e3
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Sep 13 17:55:43 2017 +0200

    libmbim-glib,uuid: also document internal enum value

    Just to make gtk-doc happy really.

 src/libmbim-glib/mbim-uuid.h | 1 +
 1 file changed, 1 insertion(+)

commit 040f3b43ffd50ed932b66e7ebd361bb94eec34a9
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Sep 13 17:49:00 2017 +0200

    build: the m4 directory always exists

    Even when cloning a git checkout, as we have m4/compiler-warnings
    under version control.

 autogen.sh | 1 -
 1 file changed, 1 deletion(-)

commit 9ef8723927c28d731e8f4041e45fb4df6c919a0b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Sep 13 17:32:43 2017 +0200

    build: import gtk-doc support

    Remove the need to run `gtkdocize' when building from git; this should
    be an operation done by the maintainer when modernizing the gtk-doc
    setup (think of e.g. gettextize), no need to do it unconditionally.

    This makes it easier for platforms without gtk-doc to build from git.

    When trying to build with documentation enabled and gtk-doc isn't
    found, we get some nice warnings and errors in the configure report:

        checking for gtk-doc... no
        configure: WARNING:
          You will not be able to create source packages with 'make dist'
          because gtk-doc >= 1.0 is not found.
        checking for gtkdoc-check... no
        checking for gtkdoc-check... no
        checking for gtkdoc-rebase... no
        checking for gtkdoc-mkpdf... no
        checking whether to build gtk-doc documentation... yes
        configure: error:
          You must have gtk-doc >= 1.0 installed to build documentation
          for
          ModemManager. Please install gtk-doc or disable building the
          documentation by adding '--disable-gtk-doc' to './configure'.

    Files generated with gtkdocize (gtk-doc) 1.26.1.

 .gitignore   |   1 -
 autogen.sh   |   1 -
 gtk-doc.make | 302
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 302 insertions(+), 2 deletions(-)

commit 4f0f3f85cdab90635bbf58e17bc1dc91fc7f06af
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Sep 13 17:02:59 2017 +0200

    api: don't use intermediate variables for deprecation warnings

    Using an intermediate constant variable breaks compilation with C
    compilers, as these variables cannot be used as initializers.

    Instead, define a deprecated type and cast all deprecated symbols to
    that type. We lose the information about what the new replacement
    symbol is, but we don't break compilation.

    Also, add MBIM_DISABLE_DEPRECATED guards around deprecated symbols. So
    that when this symbol is defined, e.g. via CFLAGS, building a program
    that uses the libmbim API will fail if the program references
    deprecated symbols. For now we just use it to keep gtk-doc-scan happy
    and avoid unnecessary warnings.

    Equivalent to ModemManager commits eedd4ab4457 and f0bb6ef856.

 docs/reference/libmbim-glib/Makefile.am            |  2 +-
 .../libmbim-glib/libmbim-glib-common.sections      |  3 +++
 src/libmbim-glib/mbim-compat.c                     |  4 ++++
 src/libmbim-glib/mbim-compat.h                     | 22
 ++++++++++++++--------
 4 files changed, 22 insertions(+), 9 deletions(-)

commit 7626a0784b602ea01192a068c745a21bd9095781
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Aug 6 17:08:10 2017 +0200

    device: detect already open MBIM channel on EM7345

    If we try to 'MBIM open' the channel with a Sierra Wireless EM7345
    (FIH7160_V1.1_MODEM_01.1349.12) and the channel is already open in the
    device (e.g. mbim-proxy crashed and we try to reopen, or just running
    consecutive mbimcli commands with --no-close), the device returns a
    'MBIM close done' message for every 'MBIM open' request we send.

    We update the logic to try to detect this case, and if we do, we
    launch an explicit 'MBIM close' operation before retrying the 'MBIM
    open' again.

    E.g. this is the flow when trying to run mbimcli command while the
    MBIM channel is already open in the device side:

        $ mbimcli -d /dev/cdc-wdm1 --query-device-caps --no-close
        --verbose
        [06 ago 2017, 16:58:21] [Debug] opening device...
        [06 ago 2017, 16:58:21] [Debug] [/dev/cdc-wdm1] Queried max
        control message size: 512
        [06 ago 2017, 16:58:21] [Debug] [/dev/cdc-wdm1] Sent message...
        <<<<<< RAW:
        <<<<<<   length = 16
        <<<<<<   data   = 01:00:00:00:10:00:00:00:01:00:00:00:00:02:00:00

        [06 ago 2017, 16:58:21] [Debug] [/dev/cdc-wdm1] Sent message
        (translated)...
        <<<<<< Header:
        <<<<<<   length      = 16
        <<<<<<   type        = open (0x00000001)
        <<<<<<   transaction = 1
        <<<<<< Contents:
        <<<<<<   max_control_transfer = 512

        [06 ago 2017, 16:58:21] [Debug] [/dev/cdc-wdm1] Received
        message...
        >>>>>> RAW:
        >>>>>>   length = 16
        >>>>>>   data   = 02:00:00:80:10:00:00:00:02:00:00:00:00:00:00:00

        [06 ago 2017, 16:58:21] [Debug] [/dev/cdc-wdm1] No transaction
        matched in received message
        [06 ago 2017, 16:58:21] [Debug] [/dev/cdc-wdm1] Received
        unexpected message (translated)...
        >>>>>> Header:
        >>>>>>   length      = 16
        >>>>>>   type        = close-done (0x80000002)
        >>>>>>   transaction = 2
        >>>>>> Contents:
        >>>>>>   status error = 'None' (0x00000000)

        [06 ago 2017, 16:58:21] [Debug] [/dev/cdc-wdm1] Sent message...
        <<<<<< RAW:
        <<<<<<   length = 12
        <<<<<<   data   = 02:00:00:00:0C:00:00:00:02:00:00:00

        [06 ago 2017, 16:58:21] [Debug] [/dev/cdc-wdm1] Sent message
        (translated)...
        <<<<<< Header:
        <<<<<<   length      = 12
        <<<<<<   type        = close (0x00000002)
        <<<<<<   transaction = 2

        [06 ago 2017, 16:58:21] [Debug] [/dev/cdc-wdm1] Received
        message...
        >>>>>> RAW:
        >>>>>>   length = 16
        >>>>>>   data   = 02:00:00:80:10:00:00:00:02:00:00:00:00:00:00:00

        [06 ago 2017, 16:58:21] [Debug] [/dev/cdc-wdm1] Sent message...
        <<<<<< RAW:
        <<<<<<   length = 16
        <<<<<<   data   = 01:00:00:00:10:00:00:00:03:00:00:00:00:02:00:00

        [06 ago 2017, 16:58:21] [Debug] [/dev/cdc-wdm1] Sent message
        (translated)...
        <<<<<< Header:
        <<<<<<   length      = 16
        <<<<<<   type        = open (0x00000001)
        <<<<<<   transaction = 3
        <<<<<< Contents:
        <<<<<<   max_control_transfer = 512

        [06 ago 2017, 16:58:21] [Debug] [/dev/cdc-wdm1] Received
        message...
        >>>>>> RAW:
        >>>>>>   length = 16
        >>>>>>   data   = 01:00:00:80:10:00:00:00:03:00:00:00:00:00:00:00

        [06 ago 2017, 16:58:21] [Debug] MBIM Device at '/dev/cdc-wdm1'
        ready

 src/libmbim-glib/mbim-device.c | 114
 +++++++++++++++++++++++++++++++++++++++--
 src/libmbim-glib/mbim-errors.h |   6 ++-
 2 files changed, 115 insertions(+), 5 deletions(-)

commit 9aef2e779dbec73d3740ef5281a9f1487cf84307
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Aug 6 17:08:09 2017 +0200

    device: open timeout check in main state machine

    Lets check if the operation timed out on the main state machine,
    instead of when the open command response is processed. This will
    allow us to queue up new steps sending/receiving messages and have
    a single place to check the timeout for all of them.

 src/libmbim-glib/mbim-device.c | 39
 ++++++++++++++++++++++++---------------
 1 file changed, 24 insertions(+), 15 deletions(-)

commit 417b0b80023dc30d61c111ec0a54da2884d3a541
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Sep 11 09:31:03 2017 +0200

    mbim-device: prefer realpath() to canonicalize_file_name()

    Usually the canonicalize_file_name() GNU extension is preferred to the
    POSIX realpath(), as it covers some of the limitations the latter has.
    But this extension isn't available in lots of platforms or in other
    c library implementations (e.g. musl), so just default to the POSIX
    method to improve portability.

    Note that the check for canonicalize_file_name() availability during
    configure isn't as trivial as adding a new AC_CHECK_FUNCS(), and
    importing a gnulib module seems overkill just for this one liner.

 src/libmbim-glib/mbim-device.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5bb673fe87ff9462bdec6435487d57982f886968
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Aug 6 13:13:40 2017 +0200

    device: avoid signals sent to the mbim-proxy process

    If e.g. mbim-proxy is started by ModemManager and we send a Ctrl+C to
    it, the signal would be propagated to the mbim-proxy process and we
    would kill it right away, while leaving ModemManager still around
    wondering why the socket to the proxy got a HUP.

    Avoid this, by making sure the mbim-proxy gets its own process group.

 src/libmbim-glib/mbim-device.c | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit cd65ee939cbc95de7ee50e1fd3756c35fddaa41f
Author: Ben Chan <benchan@chromium.org>
Date:   Mon Aug 7 13:40:19 2017 -0700

    mbimcli: new '--query-pin-list' action

    This patch adds a new '--query-pin-list' action to mbimcli for
    querying
    the list of PINs supported by a MBIM device and additional details for
    each PIN type.

 src/mbimcli/mbimcli-basic-connect.c | 116
 ++++++++++++++++++++++++++++++++++++
 1 file changed, 116 insertions(+)

commit 2fbfb74c14ebea038aa08186af7ccaa37ee633dd
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jul 30 17:42:03 2017 +0200

    mbim-proxy: avoid double-free of 'opening device info' struct

    When the device is gone while an open() operation is ongoing, we're
    completing and freeing the 'opening device info' struct, but we didn't
    remove it from the private info, so when device_open_ready() happened,
    we were trying to complete and free it again.

    Avoid this issue by making sure no already-freed structs are kept in
    the private info, and also allowing device_open_ready() to get called
    without a valid pending 'opening device info'.

        [30 Jul 2017, 15:24:33] [Debug] [/dev/cdc-wdm0] Sent message
        (translated)...
        <<<<<< Header:
        <<<<<<   length      = 16
        <<<<<<   type        = open (0x00000001)
        <<<<<<   transaction = 1
        <<<<<< Contents:
        <<<<<<   max_control_transfer = 4096

        [30 Jul 2017, 15:24:38] [Debug] [/dev/cdc-wdm0] Sent message...
        <<<<<< RAW:
        <<<<<<   length = 16
        <<<<<<   data   = 01:00:00:00:10:00:00:00:02:00:00:00:00:10:00:00

        [30 Jul 2017, 15:24:38] [Debug] [/dev/cdc-wdm0] Sent message
        (translated)...
        <<<<<< Header:
        <<<<<<   length      = 16
        <<<<<<   type        = open (0x00000001)
        <<<<<<   transaction = 2
        <<<<<< Contents:
        <<<<<<   max_control_transfer = 4096

        [30 Jul 2017, 15:24:42] [Debug] [/dev/cdc-wdm0] unexpected
        port hangup!
        [30 Jul 2017, 15:24:42] [Debug] Client (7) connection closed...
        [30 Jul 2017, 15:24:42] -Warning ** error opening device: Device
        is gone
        [30 Jul 2017, 15:24:43] [Debug] open operation timed out: closed
        ==24404== Invalid read of size 8
        ==24404==    at 0x4E4A673: peek_opening_device_info (in
        /usr/lib/libmbim-glib.so.4.2.0)
        ==24404==    by 0x4E4BD7B: device_open_ready (in
        /usr/lib/libmbim-glib.so.4.2.0)
        ==24404==    by 0x50CAF61: g_simple_async_result_complete (in
        /usr/lib/libgio-2.0.so.0.3707.0)
        ==24404==    by 0x50CB028: complete_in_idle_cb (in
        /usr/lib/libgio-2.0.so.0.3707.0)
        ==24404==    by 0x5602EEA: g_main_context_dispatch (in
        /usr/lib/libglib-2.0.so.0.3707.0)
        ==24404==    by 0x5603207: g_main_context_iterate.isra.13 (in
        /usr/lib/libglib-2.0.so.0.3707.0)
        ==24404==    by 0x56035D1: g_main_loop_run (in
        /usr/lib/libglib-2.0.so.0.3707.0)
        ==24404==    by 0x4010F8: main (in /usr/lib/mbim-proxy)
        ==24404==  Address 0x6d3bfe0 is 0 bytes inside a block of size
        16 free'd
        ==24404==    at 0x4C2A0C0: free (in
        /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
        ==24404==    by 0x4E4AC21: untrack_device (in
        /usr/lib/libmbim-glib.so.4.2.0)
        ==24404==    by 0x5395392: _g_closure_invoke_va (in
        /usr/lib/libgobject-2.0.so.0.3707.0)
        ==24404==    by 0x53A805D: g_signal_emit_valist (in
        /usr/lib/libgobject-2.0.so.0.3707.0)
        ==24404==    by 0x53A8A51: g_signal_emit (in
        /usr/lib/libgobject-2.0.so.0.3707.0)
        ==24404==    by 0x4E49424: data_available (in
        /usr/lib/libmbim-glib.so.4.2.0)
        ==24404==    by 0x5602EEA: g_main_context_dispatch (in
        /usr/lib/libglib-2.0.so.0.3707.0)
        ==24404==    by 0x5603207: g_main_context_iterate.isra.13 (in
        /usr/lib/libglib-2.0.so.0.3707.0)
        ==24404==    by 0x56035D1: g_main_loop_run (in
        /usr/lib/libglib-2.0.so.0.3707.0)
        ==24404==    by 0x4010F8: main (in /usr/lib/mbim-proxy)
        ==24404==  Block was alloc'd at
        ==24404==    at 0x4C2B3D0: malloc (in
        /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
        ==24404==    by 0x5607B00: g_malloc (in
        /usr/lib/libglib-2.0.so.0.3707.0)
        ==24404==    by 0x5617E12: g_slice_alloc (in
        /usr/lib/libglib-2.0.so.0.3707.0)
        ==24404==    by 0x5618385: g_slice_alloc0 (in
        /usr/lib/libglib-2.0.so.0.3707.0)
        ==24404==    by 0x4E4B1A9: internal_open (in
        /usr/lib/libmbim-glib.so.4.2.0)
        ==24404==    by 0x4E4BAC5: device_new_ready (in
        /usr/lib/libmbim-glib.so.4.2.0)
        ==24404==    by 0x50CAF61: g_simple_async_result_complete (in
        /usr/lib/libgio-2.0.so.0.3707.0)
        ==24404==    by 0x50CB028: complete_in_idle_cb (in
        /usr/lib/libgio-2.0.so.0.3707.0)
        ==24404==    by 0x5602EEA: g_main_context_dispatch (in
        /usr/lib/libglib-2.0.so.0.3707.0)
        ==24404==    by 0x5603207: g_main_context_iterate.isra.13 (in
        /usr/lib/libglib-2.0.so.0.3707.0)
        ==24404==    by 0x56035D1: g_main_loop_run (in
        /usr/lib/libglib-2.0.so.0.3707.0)
        ==24404==    by 0x4010F8: main (in /usr/lib/mbim-proxy)
        ==24404==

 src/libmbim-glib/mbim-proxy.c | 26 +++++++++++++++++---------
 1 file changed, 17 insertions(+), 9 deletions(-)

commit c689c7700545feb16381a2e892fa1e00a4d54ee8
Author: Ben Chan <benchan@chromium.org>
Date:   Mon Jul 31 23:47:45 2017 -0700

    mbimcli: make output more consistent in capitalization

 src/mbimcli/mbimcli-basic-connect.c | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit f2f87bf2b9811ba7fa593ac2ab9852693cef08c2
Author: Ben Chan <benchan@chromium.org>
Date:   Mon Jul 31 10:50:34 2017 -0700

    build: add other source files that affect the output of --help-all

 docs/man/Makefile.am | 5 +++++
 1 file changed, 5 insertions(+)

commit f2c2df8e4879920923b0423f92ec2a66fbee054d
Author: Ben Chan <benchan@chromium.org>
Date:   Sat Jul 29 01:37:34 2017 -0700

    mbimcli: show unknown CID name as "unknown" instead of "(null)"

 src/mbimcli/mbimcli-basic-connect.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cf3c041f590a00b739c1b7eb145642c5ccc80185
Author: Ben Chan <benchan@chromium.org>
Date:   Thu Jul 27 19:45:55 2017 -0700

    mbimcli: new '--query-ip-packet-filters' action

    This patch adds a new '--query-ip-packet-filters' action to mbimcli
    for
    querying the IP packet filters currently set up on a MBIM device.

 src/mbimcli/Makefile.am             |   2 +
 src/mbimcli/mbimcli-basic-connect.c | 116
 +++++++++++++++++++++++++++++++++++-
 2 files changed, 117 insertions(+), 1 deletion(-)

commit 44c7593c716ac321d6b2640a86fce34e41d8fbb6
Author: Ben Chan <benchan@chromium.org>
Date:   Thu Jul 27 19:45:54 2017 -0700

    mbim-common,test: add unit tests for mbim_common_str_hex

 configure.ac                  |  1 +
 src/common/Makefile.am        |  2 +-
 src/common/test/Makefile.am   | 17 ++++++++++++++
 src/common/test/test-common.c | 54
 +++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 73 insertions(+), 1 deletion(-)

commit 8e64510e706d7192ec9e0db6c506d05beda9820c
Author: Ben Chan <benchan@chromium.org>
Date:   Thu Jul 27 19:45:53 2017 -0700

    mbim-common: turn __mbim_utils_str_hex into mbim_common_str_hex

    __mbim_utils_str_hex is a useful utility method for returning
    a hexadecimal
    string representation of a sequence of bytes in memory. This patch
    turns it
    into 'mbim_common_str_hex', which can be shared between libmbim-glib
    and
    mbimcli.

 configure.ac                                 |  7 ++++
 src/Makefile.am                              |  2 +-
 src/common/Makefile.am                       | 15 +++++++
 src/common/mbim-common.c                     | 61
 ++++++++++++++++++++++++++++
 src/common/mbim-common.h                     | 31 ++++++++++++++
 src/libmbim-glib/Makefile.am                 |  2 +
 src/libmbim-glib/mbim-device.c               | 15 +++----
 src/libmbim-glib/mbim-utils.c                | 36 ----------------
 src/libmbim-glib/mbim-utils.h                |  3 --
 src/libmbim-glib/test/Makefile.am            |  4 ++
 src/libmbim-glib/test/test-message-builder.c |  6 +--
 src/libmbim-glib/test/test-message-parser.c  |  6 +--
 12 files changed, 135 insertions(+), 53 deletions(-)

commit 0e2ad4993ebcbcbc52ca0b0cc13a65ecfcbd81c8
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jul 26 18:44:53 2017 -0700

    mbimcli: make 'session_id' variables consistently guint32

    This patch updates the code to consistently use guint32, instead of
    guint, for 'session_id' variables as SessionId is UINT32.

 src/mbimcli/mbimcli-basic-connect.c | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 06dd18bff47f94cb5a4ddadca414cec8bb3858d4
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jul 26 18:44:52 2017 -0700

    mbimcli,ms-firmware-id: fix memory leaks

 src/mbimcli/mbimcli-ms-firmware-id.c | 1 +
 1 file changed, 1 insertion(+)

commit 79010dab08f7a44c94e47dbe5e403cdeda3c6321
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jul 26 18:44:51 2017 -0700

    mbimcli,basic-connect: fix memory leaks

 src/mbimcli/mbimcli-basic-connect.c | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit 716c4850b9c2c4bdaa07f18fdf364bdf0719786b
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jul 26 18:44:50 2017 -0700

    mbimcli,atds: fix memory leaks

 src/mbimcli/mbimcli-atds.c | 2 ++
 1 file changed, 2 insertions(+)

commit a1cf1e233fef337a58a2a991a00b1b099a6f2b02
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jul 26 18:44:49 2017 -0700

    mbimcli,phonebook: fix memory leaks

 src/mbimcli/mbimcli-phonebook.c | 3 +++
 1 file changed, 3 insertions(+)

commit 8abc5808262cc3048983457d367533c786a19656
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jul 26 18:44:48 2017 -0700

    mbimcli,phonebook: add missing return statement in
    set_phonebook_delete_ready

    When mbim_message_phonebook_delete_response_parse fails,
    set_phonebook_delete_ready should shutdown with a failure status and
    return.

 src/mbimcli/mbimcli-phonebook.c | 2 ++
 1 file changed, 2 insertions(+)

commit 752855389c8fc7f23e74f2e9e4224dee4e28362d
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jul 26 11:33:29 2017 -0700

    mbimcli: ensure 'cancellable' in Context is always initialized

    As the Context struct is allocated via g_slice_new and its
    'cancellable' field
    is only set when a GCancellable is provided, there is no guarantee
    that the
    cancellable field is always initialized. This patch fixes the code
    to always
    initialize the cancellable field of the Context struct.

 src/mbimcli/mbimcli-atds.c             | 3 +--
 src/mbimcli/mbimcli-basic-connect.c    | 3 +--
 src/mbimcli/mbimcli-dss.c              | 3 +--
 src/mbimcli/mbimcli-ms-firmware-id.c   | 3 +--
 src/mbimcli/mbimcli-ms-host-shutdown.c | 3 +--
 src/mbimcli/mbimcli-phonebook.c        | 3 +--
 6 files changed, 6 insertions(+), 12 deletions(-)

commit 221ab6581f589ed720419c7459e6ae597ead4e05
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jul 26 00:35:58 2017 -0700

    mbimcli: wire up cancellable for query-ip-configuration action

 src/mbimcli/mbimcli-basic-connect.c | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 519b0815b11de2b7c441024ef4a05b76cde40d02
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jul 26 00:10:00 2017 -0700

    mbimcli,dss: fix a potential memory leak in set_dss_ready

 src/mbimcli/mbimcli-dss.c | 2 ++
 1 file changed, 2 insertions(+)

commit fc81452adabe554e2493aa1dda2af0ef0eaea184
Author: Ben Chan <benchan@chromium.org>
Date:   Tue Jul 25 23:42:34 2017 -0700

    mbimcli: avoid calling mbim_message_unref on NULL MbimMessage

 src/mbimcli/mbimcli-basic-connect.c | 1 -
 1 file changed, 1 deletion(-)

commit 242e7f738bcc7589dc08c901771a90e35f4ef738
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jul 18 11:12:45 2017 +0200

    mbim-device: plug memleak

        ==21554== 64 bytes in 1 blocks are definitely lost in loss record
        2,960 of 4,396
        ==21554==    at 0x4C2E10F: realloc (in
        /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
        ==21554==    by 0x644E0CF: g_realloc (in
        /usr/lib/libglib-2.0.so.0.5200.2)
        ==21554==    by 0x6469C06: ??? (in
        /usr/lib/libglib-2.0.so.0.5200.2)
        ==21554==    by 0x6469F94: g_string_insert_len (in
        /usr/lib/libglib-2.0.so.0.5200.2)
        ==21554==    by 0x64345E1: ??? (in
        /usr/lib/libglib-2.0.so.0.5200.2)
        ==21554==    by 0x643585A: g_build_path (in
        /usr/lib/libglib-2.0.so.0.5200.2)
        ==21554==    by 0x57C25E2: get_descriptors_filepath
        (mbim-device.c:837)
        ==21554==    by 0x57C267A: read_max_control_transfer
        (mbim-device.c:921)
        ==21554==    by 0x57C2F89: create_iochannel_with_socket
        (mbim-device.c:1161)
        ==21554==    by 0x57C2C06: wait_for_proxy_cb (mbim-device.c:1073)
        ==21554==    by 0x6449332: ??? (in
        /usr/lib/libglib-2.0.so.0.5200.2)
        ==21554==    by 0x64488B4: g_main_context_dispatch (in
        /usr/lib/libglib-2.0.so.0.5200.2)

 src/libmbim-glib/mbim-device.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 47c8b0b7e71ad208496c290e564406803276b816
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Jun 28 08:28:21 2017 -0700

    libmbim-glib: make gtk-doc work again on deprecated enumerators

    Commit e5b6807d6 "libmbim-glib: fix G_DEPRECATED_FOR annotations"
    replaced macro defintions with `static const int' definitions
    for those
    deprecated enumerators. However, gtk-doc doesn't seem to document
    `static const int' defintions. This patch works around the issue by
    adding a macro defintion on top of a `static const int' defintion.

 src/libmbim-glib/mbim-compat.h | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 5f5680f7b604771f8e9f4145e2a2bb41d9bb85a8
Author: Dan Williams <dcbw@redhat.com>
Date:   Wed Jun 28 10:57:26 2017 -0500

    mbimcli: make ATDS commands consistent with other subsystems

 src/mbimcli/mbimcli-atds.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1f86135579311bb22d391bde39024f8fb1d014b8
Author: Dan Williams <dcbw@redhat.com>
Date:   Tue Apr 18 15:47:25 2017 -0500

    atds: add AT&T Device Service implementation

    See
    https://code.wireshark.org/review/gitweb?p=wireshark.git;a=blob;f=epan/dissectors/packet-mbim.c

    ATDS/Operators seems to be the same as BasicConnect/VisibleProviders
    except that
    CellularClass has been replaced with a "Provider PLMN Mode".

    ATDS/RegisterState seems to be exactly the same as
    BasicConnect/RegisterState if
    the Wireshark dissector is to be believed.

    Doesn't implement ATDS/SetProjectionTables yet.

 data/Makefile.am                                   |   3 +-
 data/mbim-service-atds.json                        | 147 +++++++++
 docs/reference/libmbim-glib/Makefile.am            |   3 +-
 .../libmbim-glib/libmbim-glib-common.sections      |  17 ++
 docs/reference/libmbim-glib/libmbim-glib-docs.xml  |   1 +
 src/libmbim-glib/generated/Makefile.am             |  18 +-
 src/libmbim-glib/libmbim-glib.h                    |   1 +
 src/libmbim-glib/mbim-cid.c                        |  18 ++
 src/libmbim-glib/mbim-cid.h                        |  20 ++
 src/libmbim-glib/mbim-enums.h                      |  36 +++
 src/libmbim-glib/mbim-uuid.c                       |  13 +
 src/libmbim-glib/mbim-uuid.h                       |  11 +
 src/mbimcli/Makefile.am                            |   3 +-
 src/mbimcli/mbimcli-atds.c                         | 336
 +++++++++++++++++++++
 src/mbimcli/mbimcli.c                              |   8 +
 src/mbimcli/mbimcli.h                              |   4 +
 16 files changed, 633 insertions(+), 6 deletions(-)

commit e5b6807d6f2a8488878cd1cc1530f3b3fd92a2ec
Author: Ben Chan <benchan@chromium.org>
Date:   Tue Jun 27 23:37:43 2017 -0700

    libmbim-glib: fix G_DEPRECATED_FOR annotations

    mbim-compat.h defines a few deprecated enumerators as an alias
    to their
    equivalence using macros and annotates those macros with
    G_DEPRECATED_FOR, which may be expanded to
    `__attribute__((deprecated))'.

    Neither gcc nor clang supports `__attribute__((deprecated))'
    on macros.
    Thus, a G_DEPRECATED_FOR annotation before a macro definition is
    actually associated with the next identifier found after the macro
    definition, which is incorrect.

    Alternatively, the G_DEPRECATED_FOR annotation can be used on the
    deprecated enumerators. But only gcc 6 or above supports enumerator
    attributes.

    To address the issue, this patch defines the deprecated enumerators as
    `static const int' values, which can then be annotated with
    G_DEPRECATED_FOR.

 src/libmbim-glib/mbim-compat.h | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 895d9847e461cb03d9772a2a60f863f4265d1506
Author: Ben Chan <benchan@chromium.org>
Date:   Tue Jun 27 00:15:01 2017 -0700

    libmbim-glib: add MBIM_READY_INFO_FLAG_NONE to MbimReadyInfoFlag

    According to MBIM spec Rev 1.0 Errata-1 Table 10-17, a value 0 of the
    ReadyInfo field in MBIM_SUBSCRIBER_READY_INFO refers to
    MBIMReadyInfoFlagsNone and indicates that the device is in normal
    mode.

    This patch adds MBIM_READY_INFO_FLAG_NONE (0) to the MbimReadyInfoFlag
    enum, such that `mbimcli --query-subscriber-ready-info` shows 'Ready
    info' as 'none' instead of 'unknown' when the ReadyInfo field is 0.

 src/libmbim-glib/mbim-enums.h | 2 ++
 1 file changed, 2 insertions(+)

commit b6e03a03906b6b4d632b41f2039f4f62311278fc
Author: Ben Chan <benchan@chromium.org>
Date:   Mon Jun 26 20:58:22 2017 -0700

    glib: remove invocations of g_type_init()

    g_type_init() has been deprecated (and also marked with the attribute
    'deprecated') since glib 2.36 as the type system is automatically
    initialized. Since the minimum version of glib required by libmbim is
    2.36, calling g_type_init() isn't necessarily in the libmbim code.

 src/mbim-proxy/mbim-proxy.c | 4 ----
 src/mbimcli/mbimcli.c       | 4 ----
 2 files changed, 8 deletions(-)

commit e34fde1e097ed56506b64a1abe66774038ffde2b
Author: Ben Chan <benchan@chromium.org>
Date:   Thu Jun 22 04:21:04 2017 -0700

    build: only define WITH_UDEV if enabled

 configure.ac                   | 1 -
 src/libmbim-glib/mbim-device.c | 4 ++--
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 9896cdad8a027fba76965d81f9e61622ed0d80ea
Author: Jaroslav Stepanek <xstej70@gmail.com>
Date:   Mon Jun 5 13:50:04 2017 +0200

    mbim-network: add support for short help switch

    https://bugs.freedesktop.org/show_bug.cgi?id=101279

 utils/mbim-network.in | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 4148d2d9de1b62b86cd62414856a5c388a3f5f25
Author: Ben Chan <benchan@chromium.org>
Date:   Tue May 2 06:27:13 2017 -0700

    libmbim-glib,device: port create_iochannel to use GTask

 src/libmbim-glib/mbim-device.c | 163
 +++++++++++++++++++++--------------------
 1 file changed, 83 insertions(+), 80 deletions(-)

commit 205dc3b36f3ffac2fa6addc0110e3ab4d3c42f3a
Author: Ben Chan <benchan@chromium.org>
Date:   Tue May 2 06:27:12 2017 -0700

    libmbim-glib,device: port mbim_device_close to use GTask

 src/libmbim-glib/mbim-device.c | 53
 ++++++++++++++++++------------------------
 1 file changed, 22 insertions(+), 31 deletions(-)

commit 01fbb01748754185e715af01d03169c4d155d6ca
Author: Ben Chan <benchan@chromium.org>
Date:   Tue May 2 06:27:11 2017 -0700

    libmbim-glib,device: port mbim_device_open_full to use GTask

 src/libmbim-glib/mbim-device.c | 159
 ++++++++++++++++++++++-------------------
 1 file changed, 84 insertions(+), 75 deletions(-)

commit 50f359fbe8edc84dcfa8c13873e8f0bbf6e79bd3
Author: Ben Chan <benchan@chromium.org>
Date:   Tue May 2 06:27:10 2017 -0700

    libmbim-glib,device: port initable_init_async to use GTask

 src/libmbim-glib/mbim-device.c | 70
 +++++++++++++++---------------------------
 1 file changed, 24 insertions(+), 46 deletions(-)

commit ef772d671785d42fdb550ef9b064d210d43ba78a
Author: Ben Chan <benchan@chromium.org>
Date:   Mon Apr 24 10:48:40 2017 -0700

    build: require glib 2.36

    We want to start using new features like GTask, which is available in
    GLib 2.36.

 configure.ac | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 6c78817ecde8c0d303783b53d1137410e7900826
Author: Carlo Lobrano <c.lobrano@gmail.com>
Date:   Thu Mar 23 11:58:58 2017 +0100

    libmbim-glib,device: misplaced trace_transaction

    Moved trace_transaction with error message in the right context.

 src/libmbim-glib/mbim-device.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cad5a59e4edab65a0f477eec858e5eab99762452
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Mar 8 14:12:09 2017 +0100

    docs: update copyright year to 2017

 docs/reference/libmbim-glib/libmbim-glib-docs.xml | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 27592d6c104a8fa034107f96bca40218336a1c12
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Feb 8 23:32:40 2017 +0100

    libmbim-glib,device: destroy channel when closed

 src/libmbim-glib/mbim-device.c | 4 ++++
 1 file changed, 4 insertions(+)

commit bc21faa7a2567415035499e19221fa6826349d3f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Feb 8 21:29:44 2017 +0100

    libmbim-glib: return NULL on method returning string

    No big deal anyway due to the g_assert_not_reached(), so just to make
    compilers happy.

 src/libmbim-glib/mbim-cid.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ec84b21414ab1b86f23564650ff5a9dead1faf27
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Feb 8 21:21:26 2017 +0100

    libmbim-glib: allow printing cid from invalid service

    E.g. to avoid warnings like this:

        [08 feb 2017, 21:15:45] -Error ** mbim_cid_get_printable:
        assertion 'service > MBIM_SERVICE_INVALID' failed
        [08 feb 2017, 21:15:45] [Debug] [/dev/cdc-wdm1] Received message
        (translated)...
        >>>>>> Header:
        >>>>>>   length      = 48
        >>>>>>   type        = command-done (0x80000003)
        >>>>>>   transaction = 2
        >>>>>> Fragment header:
        >>>>>>   total   = 1
        >>>>>>   current = 0
        >>>>>> Contents:
        >>>>>>   status error = 'NoDeviceSupport' (0x00000009)
        >>>>>>   service      = 'invalid'
        (00000000-0000-0000-0000-000000000000)
        >>>>>>   cid          = '(null)' (0x00000001)

 src/libmbim-glib/mbim-cid.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d2cd0a2a2feb64548c9d3d2b2e1d781b652fd4eb
Author: Ben Chan <benchan@chromium.org>
Date:   Thu Feb 2 16:46:09 2017 -0800

    glib: guard invocations of g_type_init()

    g_type_init() has been deprecated (and also marked with the attribute
    'deprecated') since glib 2.36 as the type system is automatically
    initialized. Since the minimum version of glib required by libmbim is
    2.32, calling g_type_init() should be guarded with the
    GLIB_CHECK_VERSION macro. When libmbim later requires at least glib
    2.36, we can completely remove all invocations of g_type_init()
    from the
    code.

 src/mbim-proxy/mbim-proxy.c | 2 ++
 src/mbimcli/mbimcli.c       | 2 ++
 2 files changed, 4 insertions(+)

commit f5a34e57f6c543e893366c987402b9d4a56d96b0
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Feb 1 23:20:19 2017 +0100

    Revert "libmbim-glib,device: plug memleak in open timeout"

    This reverts commit f6249fee1710484a749a5b919ca130d36d64eb2d.

    Oops...

 src/libmbim-glib/mbim-device.c | 1 -
 1 file changed, 1 deletion(-)

commit f6249fee1710484a749a5b919ca130d36d64eb2d
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Feb 1 23:05:40 2017 +0100

    libmbim-glib,device: plug memleak in open timeout

 src/libmbim-glib/mbim-device.c | 1 +
 1 file changed, 1 insertion(+)

commit 8286e0b93f742295d0fcdfae655d97fe7bb0dcf4
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jan 15 23:47:56 2017 +0100

    libmbim-glib,device: fix segfault when cancellable already cancelled

    The g_cancellable_connect() method will also call the given callback
    when the input cancellable is already cancelled. This means that the
    cancellation callback should also handle the case where the
    transaction
    hasn't been stored in the tracking table yet.

    Thanks to Benoît Donnette <benoit.donnette@21net.com> for the
    report and
    the suggested fix.

    This is the port of the same bugfix from libqmi, see:
    https://bugs.freedesktop.org/show_bug.cgi?id=98283

 src/libmbim-glib/mbim-device.c | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 878e089d70814dcc5e39566bd0842697ee4b3364
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Nov 25 14:48:32 2016 +0100

    mbimcli: use g_clear_object() to cleanup cancellable after async
    operation

 src/mbimcli/mbimcli.c | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit ceb68e763672f096f8ef33d44db3db1dc2d5222e
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Nov 25 14:43:55 2016 +0100

    mbimcli: use g_unix_signal_add() to setup signals

    So that we can safely call GLib/GIO functions from within the signal
    handlers.

 src/mbimcli/mbimcli.c | 32 +++++++++++++++++---------------
 1 file changed, 17 insertions(+), 15 deletions(-)

commit 5d2acdaf9a0064e56bfe6479e153a1c44b0db1dc
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Nov 25 14:24:16 2016 +0100

    mbimcli: fix second ctrl+c handling in mbimcli

    A single ctrl+c cancels the GCancellable, and the second ctrl+c should
    have stopped the GMainLoop, but that was never happening.

 src/mbimcli/mbimcli.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5c3935b75fc4dd46bc469e18aabb312e74b5915d
Author: Dan Williams <dcbw@redhat.com>
Date:   Tue Oct 4 09:28:02 2016 -0500

    libmbim-glib: add MBIM_STATUS_ERROR_CONTEXT_NOT_SUPPORTED

    From the MBIM 1.0 specification Errata 1 document.

    http://www.usb.org/developers/docs/devclass_docs/MBIM10Errata1_073013.zip

 src/libmbim-glib/mbim-errors.h | 2 ++
 1 file changed, 2 insertions(+)

commit 4fed3fffe64bec88b5052d30df0257cd65abf5fe
Author: Dan Williams <dcbw@redhat.com>
Date:   Mon Aug 1 13:05:06 2016 -0500

    mbim-codegen: fix message name in generated code doc for parse
    functions

    At the point where the codegen happens, {name} is the name of the last
    function argument, not of the message.  Also fix up the documentation
    to
    say "Parses and returns parameters" instead of "Create a new request"
    since
    parsing doesn't create any requests.

    New: * Parses and returns parameters of the 'Signal State'
    notification command in the 'Basic Connect' service.
    Old: * Create a new request for the 'ErrorRateThreshold' notification
    command in the 'Basic Connect' service.

 build-aux/mbim-codegen/Message.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit badcf2a4d6e3462143cd555f05dbe2f3723d7ce6
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Jul 22 12:36:52 2016 +0200

    mbim-network: fix bashisms when checking arguments

 utils/mbim-network.in | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 6f87e17cd57bd735711349711ccf30b8746c2fcb
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Jul 13 11:36:11 2016 +0200

    libmbim-glib,message: avoid iconv()

    There are systems out there that come with a fake iconv()
    implementation that
    don't support translations to/from UTF-16LE. We can easily avoid
    that by using
    the built-in translations to UTF-16HE provided by GLib itself,
    we just need to
    take care of converting from HE to/from LE.

 src/libmbim-glib/mbim-message.c | 74
 +++++++++++++++++++++++++----------------
 1 file changed, 45 insertions(+), 29 deletions(-)

commit 79bdd9f1e782c27858b9c32f300f4fb4e6b12558
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jul 5 12:00:34 2016 +0200

    build: post release version bump to 1.15.0

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 50cddf48823f05ec124afad80c0d948184e19b00
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jul 5 11:26:18 2016 +0200

    release: bump version to 1.14.0

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 7804a99d6dbb16967beb67edd3644d56b9972092
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jul 5 11:19:42 2016 +0200

    build: update NEWS

 NEWS | 41 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 41 insertions(+)

commit 6cc33e0985428f2b1bc9c87ab59a9792d104cc64
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jun 6 22:25:42 2016 +0200

    docs: add missing documentation for the qmi-over-mbim service

 docs/reference/libmbim-glib/Makefile.am                  | 3 ++-
 docs/reference/libmbim-glib/libmbim-glib-common.sections | 6 ++++++
 docs/reference/libmbim-glib/libmbim-glib-docs.xml        | 1 +
 3 files changed, 9 insertions(+), 1 deletion(-)

commit 05ba9dc1136bf92bb276f34df315584b6a51bfb4
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jun 6 15:11:06 2016 +0200

    libmbim-glib,message: internal helper to apply padding

 src/libmbim-glib/mbim-message.c | 55
 ++++++++++++++++++++++-------------------
 1 file changed, 30 insertions(+), 25 deletions(-)

commit 809418e9026368acc9d3d5ffd6f2c585b6a3cd59
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jun 6 14:57:54 2016 +0200

    libmbim-glib,message: minor coding style fix

 src/libmbim-glib/mbim-message.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c86109b6006b851475c53ab8fee1b7b5c76c04b0
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jun 6 14:55:33 2016 +0200

    libmbim-glib,cid: user helpers symbols to define cid capabilities

 src/libmbim-glib/mbim-cid.c | 98
 ++++++++++++++++++++++++---------------------
 1 file changed, 53 insertions(+), 45 deletions(-)

commit b8b36aedfeea3e274f3b8a633e176bb1e8428370
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jun 6 14:50:37 2016 +0200

    libmbim-glib,uuid: define MBIM_SERVICE_LAST in internal compilation
    only

 src/libmbim-glib/mbim-cid.c  | 12 +++++-------
 src/libmbim-glib/mbim-uuid.c |  8 +++-----
 src/libmbim-glib/mbim-uuid.h |  6 ++++--
 3 files changed, 12 insertions(+), 14 deletions(-)

commit 7f5300b98b8011bb64bbf8b6dd66697ba37dece5
Author: Emil Ljungdahl <emil.ljungdahl@wisi.se>
Date:   Wed Apr 6 19:25:27 2016 +0200

    Avoid affecting the padding behavior for other services than QMI

 build-aux/mbim-codegen/Message.py       |  9 +++++----
 build-aux/mbim-codegen/Struct.py        |  9 +++++----
 data/mbim-service-qmi.json              |  6 ++++--
 src/libmbim-glib/mbim-message-private.h |  4 ++--
 src/libmbim-glib/mbim-message.c         | 10 +++++-----
 5 files changed, 21 insertions(+), 17 deletions(-)

commit 7733044d69ba54906dc26ea98747f1a3c32d7264
Author: Emil Ljungdahl <emil.ljungdahl@wisi.se>
Date:   Wed Apr 6 19:16:47 2016 +0200

    Added json file lost in original qmi-over-mbim patch

 data/mbim-service-qmi.json | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 7bf40d20b8afc071de26c77b9c0b668fcb799b90
Author: Collin McMillan <cmc@nd.edu>
Date:   Mon Apr 4 11:33:46 2016 +0200

    QMI via MBIM

    Signed-off-by: Bjørn Mork <bjorn@mork.no>

 build-aux/mbim-codegen/Message.py       |  8 ++++----
 build-aux/mbim-codegen/Struct.py        |  8 ++++----
 data/Makefile.am                        |  3 ++-
 src/libmbim-glib/generated/Makefile.am  | 18 +++++++++++++++---
 src/libmbim-glib/libmbim-glib.h         |  1 +
 src/libmbim-glib/mbim-cid.c             | 25 +++++++++++++++++++++----
 src/libmbim-glib/mbim-cid.h             | 12 ++++++++++++
 src/libmbim-glib/mbim-message-private.h |  2 ++
 src/libmbim-glib/mbim-message.c         | 25 ++++++++++++++++---------
 src/libmbim-glib/mbim-uuid.c            | 18 ++++++++++++++++--
 src/libmbim-glib/mbim-uuid.h            | 11 +++++++++++
 11 files changed, 104 insertions(+), 27 deletions(-)

commit a0578e5e15228999d1215df1bdadfb8774c5ecc3
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Jul 1 10:46:50 2016 +0200

    mbimcli: allow passing empty APN in --connect

 src/mbimcli/mbimcli-basic-connect.c | 38
 +++++++++++++++++--------------------
 1 file changed, 17 insertions(+), 21 deletions(-)

commit 3f4e777e4a2af7fcf8b020accb8949d0bcd91c5b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Jul 1 10:24:00 2016 +0200

    mbimcli: allow querying IP configuration out of the connection attempt

 src/mbimcli/mbimcli-basic-connect.c | 112
 +++++++++++++++++++++++++-----------
 1 file changed, 79 insertions(+), 33 deletions(-)

commit bcf3f09df4e8a765fae9d462dc087f3de619fde4
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Jun 30 10:05:53 2016 +0200

    mbim-network: allow using the mbim-proxy setup

 utils/mbim-network.in | 32 ++++++++++++++++++++++----------
 1 file changed, 22 insertions(+), 10 deletions(-)

commit 9eaf56e87ecd715ab9922e17b700dd5804884263
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Jun 30 10:00:40 2016 +0200

    mbim-network: allow specifying APN user/password in profile

 utils/mbim-network.in | 54
 ++++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 51 insertions(+), 3 deletions(-)

commit 506052b608c0ee55b27cb69028b7606de3fb5927
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Jun 30 09:38:57 2016 +0200

    mbim-network: use standard checks for empty variables

 utils/mbim-network.in | 28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit c252c998ea5c1516e2c2d30220c265e56a8dcfb7
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Jun 30 09:35:16 2016 +0200

    mbim-network: allow loading profile from a different path

    This effectively makes mbim-network work with multiple devices in
    a single system.

 utils/mbim-network.in | 74
 +++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 60 insertions(+), 14 deletions(-)

commit 202349ce952712cd37415d91b5511491f0769d65
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Apr 11 22:22:33 2016 +0200

    build: add missing GUDEV_CFLAGS and GUDEV_LIBS

    https://bugs.freedesktop.org/show_bug.cgi?id=94881

 src/libmbim-glib/Makefile.am | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 82b7cd5013bcff0c05dd91e6a7f9bbfbf3e53d0d
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Apr 10 13:53:53 2016 +0200

    build: really make gudev not mandatory

 configure.ac | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit cbab0ef37331702feb9a9eeca3f33395cba76e57
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Apr 10 13:11:56 2016 +0200

    build: make gudev optional

    There's really not much benefit on a hard build-dependency on gudev
    if we're
    just using it to get the path of the descriptors path, so provide
    an alternate
    implementation for now just using sysfs paths, and make gudev
    selection auto.

 configure.ac                   |  33 ++++++++++++
 src/libmbim-glib/mbim-device.c | 119
 ++++++++++++++++++++++++++++++++++-------
 2 files changed, 133 insertions(+), 19 deletions(-)

commit f1c3a97ab9e6577ec2bfd0aa4572800589b747fb
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Apr 10 00:00:47 2016 +0200

    build: update configure report

 configure.ac | 19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit d2a1a7f82ba01114f33113f97fc5a884a4a1a988
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Mar 20 17:57:56 2016 +0000

    build: Run configure script from builddir rather than srcdir

    If building from a clean git clone with builddir ≠ srcdir,
    the configure
    script is (correctly) generated in builddir by autoconf. Execute
    it from
    there, rather than from the srcdir, so that all the configure products
    (Makefiles, etc.) are generated in the builddir.

    https://bugs.freedesktop.org/show_bug.cgi?id=94639

 autogen.sh | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit e2b3db1a10ba7dd73eea4e96faeec126629b7c19
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Oct 10 14:56:32 2015 +0200

    mbimcli: avoid shadowing 'dup'

 src/mbimcli/mbimcli-helpers.c | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit bc15bede4aeca0651a5c85fb54d407453e7d5af8
Author: Shih-Yuan Lee (FourDollars) <sylee@canonical.com>
Date:   Thu Sep 24 16:32:41 2015 +0800

    libmbim-glib: Increase the retry interval to 5 seconds.

    Sierra Mobile Broadband EM7455 won't work while the retry interval is
    only one second.

    https://bugs.freedesktop.org/show_bug.cgi?id=91189

    Signed-off-by: Shih-Yuan Lee (FourDollars) <sylee@canonical.com>

 src/libmbim-glib/mbim-device.c | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 6cf74ebfae1dccf807bb34d88f2cd024d4b14da7
Author: David Ward <david.ward@ll.mit.edu>
Date:   Wed Sep 9 18:54:53 2015 -0400

    mbimcli: fix username/password checks with the '--connect' action

    Fixes: 4e58451a744dbc3f086e9c1dd2d7469ff70d50ef ("mbimcli: add
    support for Basic Connect session IDs")
    Signed-off-by: David Ward <david.ward@ll.mit.edu>

 src/mbimcli/mbimcli-basic-connect.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fd222fc1ee05c2c0c2c21bddec65b9b02f0bc718
Author: Dan Williams <dcbw@redhat.com>
Date:   Wed Sep 9 12:12:32 2015 -0500

    mbimcli: fix parsing --query-connection-state and --disconnect args
    after 4e58451

    From f6d10eb69eefeb190c9349fdbd3a23b0e838913e Mon Sep 17 00:00:00 2001
    From: Dan Williams <dcbw@redhat.com>
    Date: Wed, 9 Sep 2015 12:06:00 -0500
    Subject: [PATCH] mbimcli: fix parsing --query-connection-state and
     --disconnect args after 4e58451

    Fixes: 4e58451a744dbc3f086e9c1dd2d7469ff70d50ef ("mbimcli: add
    support for Basic Connect session IDs")
    Reported-by: David Ward

 src/mbimcli/mbimcli-basic-connect.c | 34
 ++++++++++++++++++++++++++++++++--
 1 file changed, 32 insertions(+), 2 deletions(-)

commit 4e58451a744dbc3f086e9c1dd2d7469ff70d50ef
Author: Dan Williams <dcbw@redhat.com>
Date:   Mon Aug 17 12:19:05 2015 -0500

    mbimcli: add support for Basic Connect session IDs

    --query-connection-state=[SessionID]
    --disconnect=[SessionID]
    --connect=["key=value,..."]

    As part of enabling session IDs, we must also convert --connect
    over to a key=value format for all its arguments, but still
    preserve backwards compat with the old format.

 src/mbimcli/mbimcli-basic-connect.c | 284
 ++++++++++++++++++++++++++++--------
 src/mbimcli/mbimcli-helpers.c       | 148 +++++++++++++++++++
 src/mbimcli/mbimcli-helpers.h       |  10 ++
 3 files changed, 385 insertions(+), 57 deletions(-)

commit 8b6316667b438bb2aa99c8029f95542d74ee7136
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Jun 5 12:54:33 2015 +0200

    mbimcli: longer timeout for '--connect' operation

 src/mbimcli/mbimcli-basic-connect.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 44d5aac6044f02241de4ea94df0d57fc4487adb9
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Jun 5 12:54:16 2015 +0200

    mbimcli: longer timeout for '--[attach|detach]-packet-service'
    operations

 src/mbimcli/mbimcli-basic-connect.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3affee76e17eca6b51eaa6682f9683e4fb565ee3
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jun 1 08:09:02 2015 +0200

    mbimcli: longer timeout for '--register-automatic' operation

 src/mbimcli/mbimcli-basic-connect.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d939587ef7fff0195a45fb8418d2911dfbb52c99
Author: Dan Williams <dcbw@redhat.com>
Date:   Mon May 4 11:23:00 2015 -0500

    mbimcli: report IP configuration on connect

 src/mbimcli/mbimcli-basic-connect.c |  65 ++++++++++++++++-
 src/mbimcli/mbimcli-dss.c           |  86 ++++++++++++++++++----
 src/mbimcli/mbimcli-helpers.c       | 142
 ++++++++++++++++++++++++++++++++++++
 src/mbimcli/mbimcli-helpers.h       |   4 +
 4 files changed, 280 insertions(+), 17 deletions(-)

commit 0ad5f9ce6269b73e6bc8d0d5821ed7059f17b2ff
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Feb 25 13:18:41 2015 +0100

    libmbim-glib,message: allow building messages of custom services

    Once a service has been registered, we should allow users of the
    library to
    actually build Command messages with the new service.

    https://bugs.freedesktop.org/show_bug.cgi?id=77225

 src/libmbim-glib/mbim-message.c      |  3 +--
 src/libmbim-glib/test/test-message.c | 45
 ++++++++++++++++++++++++++++++------
 2 files changed, 39 insertions(+), 9 deletions(-)

commit 9d2435448912fe9af86369def253f558c49db272
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Feb 25 13:17:42 2015 +0100

    libmbim-glib,uuid: don't assert if service id is neither generic
    nor registered

    Just warn and return NULL.

 src/libmbim-glib/mbim-uuid.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 8b08e300a26d8f596cdd0aabb70dca6d295954fa
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Feb 23 20:01:52 2015 +0100

    mbim-network: improved --help output with more detailed information

 utils/mbim-network.in | 26 +++++++++++++++++++++++---
 1 file changed, 23 insertions(+), 3 deletions(-)

commit 8423c70340fb2a13c0f7824a86aed25a8d12f78c
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jan 25 21:21:27 2015 +0100

    mbimcli: add command completion

    https://bugs.freedesktop.org/show_bug.cgi?id=87901

 src/mbimcli/Makefile.am        | 12 ++++++
 src/mbimcli/mbimcli-completion | 83
 ++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 95 insertions(+)

commit 688b094d3c56408fd6d8d202099ada294839b168
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 17 19:34:01 2015 +0100

    mbim-proxy: block function error signals when checking if device is
    opened or not

 src/libmbim-glib/mbim-proxy.c | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 9d8acbe9e5edbb1fb9bfdbc47d5fda1631578523
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 17 19:12:11 2015 +0100

    mbim-proxy: upon new client, always check if device really open with
    a command

    Never assume that mbim_device_is_open() will return the valid open
    status of the
    real device. If we're in the middle of a suspend/resume cycle,
    the logic will
    think that the session is open, while in reality it may not be.

    To really make sure that we're open, explicitly send a Command
    message to the
    device, and react on the possible NotOpened error by re-opening the
    device right
    away.

 src/libmbim-glib/mbim-proxy.c | 129
 +++++++++++++++++++++++++++++++++---------
 1 file changed, 102 insertions(+), 27 deletions(-)

commit 7ab8135fb2970db32bfd0cfcc170f690e1409a2a
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 17 18:32:42 2015 +0100

    mbim-device: trace transaction status within the MbimDevice

 src/libmbim-glib/mbim-device.c | 24 ++++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit 8a8104a9b5952a451b6346b6a188815f3ea0a508
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 17 18:31:53 2015 +0100

    mbim-device: explictly maintain a reference to the MbimDevice in
    the transaction

    We were already doing this as g_simple_async_result_new() was taking
    one itself,
    so this is just to make the code clearer and to ease next changes.

 src/libmbim-glib/mbim-device.c | 3 +++
 1 file changed, 3 insertions(+)

commit 732918344d9994f9e87ec77ff3a052710ec84629
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Jan 17 18:37:18 2015 +0100

    mbim-device: only return transaction if it gets released

    And avoid segfault in weird situations....

    E.g. if we send Open(3) and we get Close-Done(3) (as with a Telit
    LN930 device)
    the logic  was segfaulting. The reason being that
    device_release_transaction()
    was returning a valid Transaction (that with ID 3) but wasn't being
    released
    from the internal HT (as we were asking for Open-Done, not Close-Done
    or Invalid).

        [17 ene 2015, 18:09:23] [Debug] [/dev/cdc-wdm0,3] transaction
        open: store
        [17 ene 2015, 18:09:23] [Debug] [/dev/cdc-wdm0] Sent message...
        <<<<<< RAW:
        <<<<<<   length = 16
        <<<<<<   data   = 01:00:00:00:10:00:00:00:03:00:00:00:00:02:00:00

        [17 ene 2015, 18:09:23] [Debug] [/dev/cdc-wdm0] Sent message
        (translated)...
        <<<<<< Header:
        <<<<<<   length      = 16
        <<<<<<   type        = open (0x00000001)
        <<<<<<   transaction = 3
        <<<<<< Contents:
        <<<<<<   max_control_transfer = 512

        [17 ene 2015, 18:09:23] [Debug] [/dev/cdc-wdm0] Received
        message...
        >>>>>> RAW:
        >>>>>>   length = 16
        >>>>>>   data   = 02:00:00:80:10:00:00:00:03:00:00:00:00:00:00:00

        [17 ene 2015, 18:09:23] [Debug] [/dev/cdc-wdm0,3] transaction
        open: complete: error
        [17 ene 2015, 18:09:23] [Debug] getting open done result failed:
        closed
        [17 ene 2015, 18:09:23] [Debug] Client (6) connection closed...
        [17 ene 2015, 18:09:23] -Warning ** error opening device:
        Unexpected response message type: 0x80000002
        **
        Mbim:ERROR:mbim-device.c:2205:finalize: assertion failed:
        (g_hash_table_size (self->priv->transactions[i]) == 0)

        Program received signal SIGABRT, Aborted.
        0x00007ffff6f56a97 in raise () from /usr/lib/libc.so.6
        (gdb) bt
        #0  0x00007ffff6f56a97 in raise () from /usr/lib/libc.so.6
        #1  0x00007ffff6f57e6a in abort () from /usr/lib/libc.so.6
        #2  0x00007ffff73357f5 in g_assertion_message () from
        /usr/lib/libglib-2.0.so.0
        #3  0x00007ffff733588a in g_assertion_message_expr () from
        /usr/lib/libglib-2.0.so.0
        #4  0x00007ffff7bb44c3 in finalize (object=0x617100) at
        mbim-device.c:2205
        #5  0x00007ffff75e925a in g_object_unref () from
        /usr/lib/libgobject-2.0.so.0
        #6  0x00007ffff7bb4bd7 in client_set_device (client=0x607300,
        device=0x0) at mbim-proxy.c:172
        #7  0x00007ffff7bb4cd8 in client_unref (client=0x607300)
        at mbim-proxy.c:199
        #8  0x00007ffff7bb522f in request_complete_and_free
        (request=0x613350) at mbim-proxy.c:369
        #9  0x00007ffff7bb59d1 in proxy_config_internal_device_open_ready
        (self=0x60f880, res=0x6494a0, request=0x613350) at
        mbim-proxy.c:616
        #10 0x00007ffff78976d7 in g_simple_async_result_complete ()
        from /usr/lib/libgio-2.0.so.0
        #11 0x00007ffff7897739 in ?? () from /usr/lib/libgio-2.0.so.0
        #12 0x00007ffff730f91d in g_main_context_dispatch () from
        /usr/lib/libglib-2.0.so.0
        #13 0x00007ffff730fcf8 in ?? () from /usr/lib/libglib-2.0.so.0
        #14 0x00007ffff7310022 in g_main_loop_run () from
        /usr/lib/libglib-2.0.so.0
        #15 0x000000000040153b in main (argc=1, argv=0x7fffffffead8)
        at mbim-proxy.c:243

    Conflicts:
            src/libmbim-glib/mbim-device.c

 src/libmbim-glib/mbim-device.c | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit c7611301e65ffe4d9f96b6ff9f8904d41a32cab1
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jan 13 17:14:58 2015 +0100

    build: post release version bump to 1.13.0

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b0758615d6a829d64647e3bda5d01d1f2bad3983
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jan 13 14:24:57 2015 +0100

    release: bump version to 1.12.0

 configure.ac | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 262371ff1978e709115f10421ca5ddf02228956e
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jan 13 14:23:37 2015 +0100

    build: use absolute paths for the ignored files in subdirs

 .gitignore | 90
 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 45 insertions(+), 45 deletions(-)

commit fd52fdb212e8f54dda4fef1d756da9cfcc3edc46
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jan 13 09:39:42 2015 +0100

    libmbim-glib,proxy: root user always allowed

    Even if MBIM_USERNAME is defined to a non-root user, root should
    always be able
    to access the proxy. E.g. ModemManager (run as root) must be able
    to launch and
    access the proxy even if MBIM_USERNAME was set to a non-root user.

 src/libmbim-glib/mbim-utils.c | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 5ad9573a05abd86595e08063bad94915cf104766
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Dec 30 13:50:16 2014 +0100

    libmbim-glib,utils: avoid getpwnam() call if --enable-mbim-username
    not used

    If --enable-mbim-username isn't explicitly used, we should just
    check for the
    root user UID, without using getpwnam(). See e.g. these SELinux
    warnings:

    SELinux is preventing /usr/bin/bash from read access on the file
    /etc/passwd.

        *****  Plugin catchall (100. confidence) suggests
        **************************

        If you believe that bash should be allowed read access on the
        passwd file by default.
        Then you should report this as a bug.
        You can generate a local policy module to allow this access.
        Do allow this access for now by executing:
        # grep mbim-proxy /var/log/audit/audit.log | audit2allow -M mypol
        # semodule -i mypol.pp

 configure.ac                  | 20 ++++++++++++++------
 src/libmbim-glib/mbim-utils.c |  9 +++++++++
 src/mbim-proxy/Makefile.am    |  2 +-
 3 files changed, 24 insertions(+), 7 deletions(-)

commit 967a815344dc05ec7c8e6ec2fb1ca2b853074a03
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Dec 30 13:46:06 2014 +0100

    build: ignore built files

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit 5c6a052df40bd58fe5cc40bbbecf06fb63f00acf
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Dec 30 12:41:25 2014 +0100

    build: update NEWS

 NEWS | 38 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit 20fedf79c9b4e2463d31ba5c1c75bd37d0a835f9
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Dec 28 18:42:04 2014 +0100

    libmbim-glib,proxy: translate device wrong-state errors into function
    not-opened errors

    We're forcing close the MbimDevice whenever we detect a not-opened
    error; so if we
    afterwards get more commands from the clients, don't just timeout
    the requests, instead
    return our own generated function error messages specifying
    not-opened.

 src/libmbim-glib/mbim-proxy.c | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 1eb52758833dfbf7431f979f1f28ce4beacf3072
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Dec 28 18:37:41 2014 +0100

    libmbim-glib,proxy: force close device if not-opened error detected

 src/libmbim-glib/mbim-proxy.c | 25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit c8ce23695006266e304e3d5309d3e0303f2c308c
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Dec 28 18:32:33 2014 +0100

    libmbim-glib,message: new mbim_message_function_error_new()

    To be used by the proxy to mimic modem-generated commands.

 .../libmbim-glib/libmbim-glib-common.sections      |  1 +
 src/libmbim-glib/mbim-message.c                    | 27
 ++++++++++++++++++++++
 src/libmbim-glib/mbim-message.h                    |  2 ++
 3 files changed, 30 insertions(+)

commit 6be914e2801d2f091293b0686053b27198768815
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Dec 28 18:28:15 2014 +0100

    libmbim-glib,device: don't segfault if force-closed during message
    processing

    (mbim-proxy:17046): GLib-CRITICAL **: g_byte_array_remove_range:
    assertion 'array' failed

    Program received signal SIGTRAP, Trace/breakpoint trap.
    0x00007ffff7316ae0 in g_logv () from /usr/lib/libglib-2.0.so.0
    (gdb) bt
    #0  0x00007ffff7316ae0 in g_logv () from /usr/lib/libglib-2.0.so.0
    #1  0x00007ffff7316d1f in g_log () from /usr/lib/libglib-2.0.so.0
    #2  0x00007ffff72e49ba in g_byte_array_remove_range () from
    /usr/lib/libglib-2.0.so.0
    #3  0x00007ffff7bb126d in parse_response (self=0x618100) at
    mbim-device.c:642
    #4  0x00007ffff7bb151c in data_available (source=0x64ab60,
    condition=G_IO_IN, self=0x618100) at mbim-device.c:708
    #5  0x00007ffff730f91d in g_main_context_dispatch () from
    /usr/lib/libglib-2.0.so.0
    #6  0x00007ffff730fcf8 in ?? () from /usr/lib/libglib-2.0.so.0
    #7  0x00007ffff7310022 in g_main_loop_run () from
    /usr/lib/libglib-2.0.so.0
    #8  0x000000000040153b in main (argc=1, argv=0x7fffffffeac8)
    at mbim-proxy.c:243
    (gdb) fr 3
    #3  0x00007ffff7bb126d in parse_response (self=0x618100) at
    mbim-device.c:642
    642             g_byte_array_remove_range (self->priv->response,
    0, in_length);
    (gdb) p self->priv->response
    $1 = (GByteArray *) 0x0

 src/libmbim-glib/mbim-device.c | 5 +++++
 1 file changed, 5 insertions(+)

commit 68e3d695d331569c70d8c0a031852600a9a8174f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Dec 28 18:21:33 2014 +0100

    libmbim-glib,device: emit error signal also when function errors
    match within transactions

 src/libmbim-glib/mbim-device.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 8e51649f07aa917a9a0896a35673468693be29be
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Dec 28 17:11:14 2014 +0100

    libmbim-glib,message: new helper method to parse responses

    The MBIM "Command", "Open" and "Close" request messages can be
    replied using
    either a type specific response (e.g. "Command Done", or "Open Done"
    or "Close
    Done" or instead using a generic "Function Error" message.

    In order to ease the users of the library to look for errors in
    the received
    responses, the new mbim_message_response_get_result() method expects
    any of those two previous messages.

    We also bump version of the library to 1.11.1, to indicate when the
    new API
    was introduced, but this is Not a real release.

 configure.ac                                       |  2 +-
 .../libmbim-glib/libmbim-glib-common.sections      |  2 +
 src/libmbim-glib/mbim-device.c                     |  6 +-
 src/libmbim-glib/mbim-message.c                    | 70
 ++++++++++++++++++++++
 src/libmbim-glib/mbim-message.h                    |  7 +++
 src/mbimcli/mbimcli-basic-connect.c                | 26 ++++----
 src/mbimcli/mbimcli-dss.c                          |  2 +-
 src/mbimcli/mbimcli-ms-firmware-id.c               |  2 +-
 src/mbimcli/mbimcli-ms-host-shutdown.c             |  2 +-
 src/mbimcli/mbimcli-phonebook.c                    |  8 +--
 10 files changed, 102 insertions(+), 25 deletions(-)

commit 575cd0a3ec2f691c1d541c000469245fb1c96c87
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Dec 28 13:05:40 2014 +0100

    libmbim-glib,device: match function errors within transactions

    Or we won't get e.g. NotOpened errors forwarded through the MbimProxy.

 src/libmbim-glib/mbim-device.c | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit 3f24b9a96d41e6588e8f14482855b445691a0958
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Dec 28 16:01:44 2014 +0100

    libmbim-glib,message: fix size of error message

 src/libmbim-glib/mbim-message.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eed18cce294fdd575bbf60217fa5a1364a4bde63
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Dec 24 13:44:26 2014 +0100

    AUTHORS: update

 AUTHORS | 29 ++++++++++++++++-------------
 1 file changed, 16 insertions(+), 13 deletions(-)

commit ead5714be56e2d1ea699f72098c4262447c2accb
Author: Roshan Pius <rpius@chromium.org>
Date:   Mon Dec 22 13:43:25 2014 -0800

    libmbim-glib,proxy: Correct the driver name in the MBIM proxy
    UDEV rule.

    Fixing a bug in the previous commit to add udev rules for MBIM proxy
    devices.

 src/mbim-proxy/76-mbim-proxy-device-ownership.rules.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3333eb4a5c2401559732023b9a4139a20d74743e
Author: Roshan Pius <rpius@chromium.org>
Date:   Mon Dec 22 09:33:19 2014 -0800

    libmbim-glib,proxy: Change ownership of MBIM devices to the configured
    user.

    Adding a udev rule to change ownership of all MBIM devices to the
    configured user specified at compile time using --enable-mbim-username
    flag.

 Makefile.am                                        |  4 ++-
 configure.ac                                       | 34
 ++++++++++++++++------
 .../76-mbim-proxy-device-ownership.rules.in        | 12 ++++++++
 src/mbim-proxy/Makefile.am                         |  9 ++++++
 4 files changed, 49 insertions(+), 10 deletions(-)

commit 0f7fa9f88710f34f1931d95b9f1b1b1f07b9c757
Author: Boris Egorov <egorov@linux.com>
Date:   Mon Dec 8 14:05:49 2014 +0600

    utils,mbim-network: fix bashisms

    See https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=772325

    Signed-off-by: Boris Egorov <egorov@linux.com>

 utils/mbim-network.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 93ea3d04dc0f85427c3e4414f46bf346d8cc9e66
Author: Roshan Pius <rpius@chromium.org>
Date:   Fri Nov 14 17:23:08 2014 -0800

    libmbim,utils: new internal __mbim_user_allowed() method

    Allows to check whether the user is allowed to use the MBIM device.

    Also fixes mbim_proxy_open() to make sure we always set the GError
    when FALSE is
    returned.

 src/libmbim-glib/mbim-proxy.c | 39
 ++++++---------------------------------
 src/libmbim-glib/mbim-utils.c | 33 +++++++++++++++++++++++++++++++++
 src/libmbim-glib/mbim-utils.h |  2 ++
 3 files changed, 41 insertions(+), 33 deletions(-)

commit 763ee0a8746e056292ddd40c74fff66bdac3c088
Author: Roshan Pius <rpius@chromium.org>
Date:   Fri Nov 14 16:58:56 2014 -0800

    build: rename '--enable-mbim-proxy-username' to
    '--enable-mbim-username'

    This shouldn't be a proxy-only setting. We're going to chown the
    MBIM devices to
    this specific user, so we'll re-use this setting for that as well.

 configure.ac                  | 25 +++++++++++--------------
 src/libmbim-glib/mbim-proxy.c | 12 ++++++------
 2 files changed, 17 insertions(+), 20 deletions(-)

commit ec14ebce79fbff907ccbe3acf68838657579e152
Author: Roshan Pius <rpius@chromium.org>
Date:   Fri Nov 7 09:20:20 2014 -0800

    libmbim-glib,proxy: add a configure flag to set the user ID of
    MBIM proxy

    Currently, the MBIM proxy process assumes that it is run as root
    user and
    that all incoming client connection users are also root.
    However, it's not always preferable to run the MBIM proxy as root for
    security reasons. On some platforms, the MBIM proxy could be
    constrained
    to run as a less-privileged user and specially granted the
    permission to
    access the MBIM device. So, adding a compile time flag in libmbim
    to check
    for the specified user, rather than assume it to be the root user. If
    the flag is
    not sent, it'll revert to the existing behaviour of checking for
    user=root(i.e UID=0)

 configure.ac                  | 11 +++++++++++
 src/libmbim-glib/mbim-proxy.c | 38 ++++++++++++++++++++++++++++++++------
 2 files changed, 43 insertions(+), 6 deletions(-)

commit c65d3d8ee54d5b8bfa454c7770a5936bbd0341de
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Nov 10 18:33:42 2014 +0100

    libmbim-glib: always attach timeout and idles to the thread default
    main context

    The standard timeout/idle methods will attach the sources to the
    default
    context, not the thread default context. So, create the GSources
    ourselves
    and attach them to the thread default context.

 src/libmbim-glib/mbim-device.c | 29 +++++++++++++++++++----------
 1 file changed, 19 insertions(+), 10 deletions(-)

commit e0a6ed9cf70bac34290ae6e9610f915844c35360
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Nov 9 21:32:07 2014 +0100

    libmbim-glib: always attach sources to the thread default main context

    If NULL is specified in g_source_attach() it will attach to the
    default context,
    not to the thread-default one if one was given with
    g_main_context_push_thread_default().

    This caused that MbimDevices started in the non-main thread would
    still attach
    their socket listening sources to the GMainContext in the main thread.

 src/libmbim-glib/mbim-device.c | 22 +++++++++++++---------
 src/libmbim-glib/mbim-proxy.c  |  2 +-
 2 files changed, 14 insertions(+), 10 deletions(-)

commit a735809afb8f1ae6adc17f3ae308706047275a88
Author: Ben Chan <benchan@chromium.org>
Date:   Mon Aug 11 23:35:10 2014 -0700

    test: fix memory leak in test_merge_standard_list_none_full

 src/libmbim-glib/test/test-proxy-helpers.c | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 536bdae90b8533d8bea5cc92f685011b58a2616f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Aug 4 15:18:05 2014 +0200

    release: bump version to 1.11.0 (development)

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9ba71eca56693db0e1cdc2dc7fd193bb02237020
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Aug 4 11:14:01 2014 +0200

    release: bump version to 1.10.0

    libtool versioning was also updated to reflect the API break.

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 1a264c66a7e5923e8e6bd5bdb7dff9b59618059b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Aug 4 11:12:49 2014 +0200

    build: update NEWS

 NEWS | 26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit efe75527d6254c6e076a2e7e3fc7328313ae3e29
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Aug 4 11:17:13 2014 +0200

    data: include new proxy control service in dist

 data/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3c2e1b0df496842372178d07acb398d05a13f00d
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Aug 2 14:12:46 2014 +0200

    libmbim-glib,device: plug memleak

 src/libmbim-glib/mbim-device.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 9ad75d9a0c1e8fd1afedaaa9279b96154b3d59ad
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Aug 2 13:53:28 2014 +0200

    libmbim-glib,proxy: don't re-configure global indications if merged
    unchanged

    Currently we're defaulting to enable the standard services list;
    so whenever
    clients want to re-configure their standard services list (e.g. just
    enabling
    some of the indications), we just end up having the full standard
    list again.

    So, avoid multiple re-configures in the device, just compare and
    only send the
    new setup to the device if the global list changes.

 src/libmbim-glib/mbim-proxy.c | 110
 +++++++++++++++++++++++++++++-------------
 1 file changed, 76 insertions(+), 34 deletions(-)

commit 1f828309808150f8ebc0d069263564888fc6826f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Aug 2 13:27:03 2014 +0200

    libmbim-glib,proxy-helpers: list comparison in helpers API

 src/libmbim-glib/mbim-proxy-helpers.c      | 70 +++++++++++++++++++++++
 src/libmbim-glib/mbim-proxy-helpers.h      |  4 ++
 src/libmbim-glib/test/test-proxy-helpers.c | 89
 ++++--------------------------
 3 files changed, 86 insertions(+), 77 deletions(-)

commit 8702adf1b912b055103db942c7d185bd62f564e7
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Aug 2 12:21:10 2014 +0200

    libmbim-glib,proxy-helpers: fix list size reporting

 src/libmbim-glib/mbim-proxy-helpers.c      | 101 +++++++++++-------
 src/libmbim-glib/mbim-proxy-helpers.h      |  12 ++-
 src/libmbim-glib/mbim-proxy.c              |  35 ++++---
 src/libmbim-glib/test/test-proxy-helpers.c | 161
 +++++++++++++++++++----------
 4 files changed, 194 insertions(+), 115 deletions(-)

commit d658e3be3a2e2402393f0ace64e4a03dd5c73a69
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Aug 2 06:24:24 2014 +0200

    libmbim-glib: destroy iochannel on dispose

 src/libmbim-glib/mbim-device.c | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 2c64635dd8dae2ecb4d5c684353f606f0f268797
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Aug 2 06:18:21 2014 +0200

    libmbim-glib,proxy-helpers: allow merging with empty lists

 src/libmbim-glib/mbim-proxy-helpers.c      | 13 +++++++----
 src/libmbim-glib/test/test-proxy-helpers.c | 36
 ++++++++++++++++++++++++++++++
 2 files changed, 45 insertions(+), 4 deletions(-)

commit c8fedd8a070dadfb67e8aad9dcf61343de05c0dd
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Aug 2 06:12:05 2014 +0200

    libmbim-glib,proxy: plug memleak

 src/libmbim-glib/mbim-proxy.c | 1 +
 1 file changed, 1 insertion(+)

commit 975b94ec89968221b08fca0bb44c0aeaf67d6e32
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Aug 2 05:39:00 2014 +0200

    libmbim-glib,proxy: plug memleak

 src/libmbim-glib/mbim-proxy.c | 1 +
 1 file changed, 1 insertion(+)

commit 9283d15613586f54ccfc3ecc121561418078b31e
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat Aug 2 05:35:38 2014 +0200

    libmbim-glib,proxy: print service subscribe lists as traces

 src/libmbim-glib/mbim-proxy-helpers.c | 35
 +++++++++++++++++++++++++++++++++++
 src/libmbim-glib/mbim-proxy-helpers.h |  1 +
 src/libmbim-glib/mbim-proxy.c         | 10 ++++++++++
 3 files changed, 46 insertions(+)

commit 597af10f02fac452de2d41b9c1e7da85c14e00f1
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Jul 31 18:39:14 2014 +0200

    docs,libmbim-glib: split services in generic vs other

 docs/reference/libmbim-glib/libmbim-glib-docs.xml | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit c906c939cb392fd800e53acc100f2c61dfe6fd03
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Jul 31 18:35:34 2014 +0200

    docs,libmbim-glib: public property and signal names

 docs/reference/libmbim-glib/libmbim-glib-common.sections | 12
 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit bd752d64c1c9640106ab3d71c6ae9ab7c8d548c4
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Jul 31 18:34:48 2014 +0200

    docs,libmbim-glib: add missing symbols

 docs/reference/libmbim-glib/libmbim-glib-common.sections | 3 +++
 1 file changed, 3 insertions(+)

commit c155c151b63f19b40c7ff6850fba8883ab8dfdd8
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jul 29 13:10:15 2014 +0200

    libmbim-glib,test: setup proxy helper tests

 .gitignore                                 |   1 +
 src/libmbim-glib/test/Makefile.am          |  19 +-
 src/libmbim-glib/test/test-proxy-helpers.c | 516
 +++++++++++++++++++++++++++++
 3 files changed, 535 insertions(+), 1 deletion(-)

commit c7b5aee0e5209b5b723d6e23ef06a9aa48fb5fda
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jul 29 14:35:43 2014 +0200

    libmbim-glib,proxy-helpers: increase number of cids before
    reallocating

    Otherwise we'll go writing out of bounds.

 src/libmbim-glib/mbim-proxy-helpers.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dc00622c3d8b42e7b76cd4ae04aad23a43142a89
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jul 29 13:09:26 2014 +0200

    libmbim-glib,proxy-helpers: allow merging full CIDs list into a subset

 src/libmbim-glib/mbim-proxy-helpers.c | 7 +++++++
 1 file changed, 7 insertions(+)

commit 9f670e1418954333638e6a9252d5c7c715b65374
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jul 29 12:43:34 2014 +0200

    libmbim-glib,proxy-helpers: update limits of the standard services
    list

    The size of the standard services list needs to be 1 + the number
    of services to
    include; so explicitly use that logic when computing the size,
    instead of
    relying on another unrelated enum value.

 src/libmbim-glib/mbim-proxy-helpers.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b9f222f61061b25e2ba7a6ef943d858a3bec4d02
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jul 29 00:11:56 2014 +0200

    libmbim-glib,proxy: setup new proxy helpers

    Which will be easier to test via unit tests

 src/libmbim-glib/Makefile.am          |   3 +-
 src/libmbim-glib/mbim-proxy-helpers.c | 145
 ++++++++++++++++++++++++++++++++++
 src/libmbim-glib/mbim-proxy-helpers.h |  48 +++++++++++
 src/libmbim-glib/mbim-proxy.c         | 112 ++------------------------
 4 files changed, 202 insertions(+), 106 deletions(-)

commit 3d51c14c9d7335936c061ea82703e40e170b3564
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 23:37:01 2014 +0200

    libmbim-glib,proxy: fix reading uninitialized byte

 src/libmbim-glib/mbim-proxy.c | 1 +
 1 file changed, 1 insertion(+)

commit 5d81ce6d0c221435c4f07de373cdd560972ccd34
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 23:29:55 2014 +0200

    libmbim-glib,proxy: untrack-ing clients may be called multiple times

 src/libmbim-glib/mbim-proxy.c | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 477a08257d4e3e4a91d018a3ebf104c39506d4e2
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 22:54:07 2014 +0200

    libmbim-glib,mbim-proxy: keep separately the original transaction id

 src/libmbim-glib/mbim-proxy.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 83be4e5461dc17bc9ac27d48995f007394e7cc9f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 22:48:17 2014 +0200

    libmbim-glib,proxy: don't assert when checking ongoing config

 src/libmbim-glib/mbim-proxy.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7a8a325467c98534ea54e42a7fa89a0bd61b1efb
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 22:35:31 2014 +0200

    mbim-proxy: wait up to 30s if last device is gone

    A device being 'gone' doesn't only mean that it was disconnected
    and we can no
    longer talk to it; it may also be that the proxy couldn't perform
    the full open
    sequence and therefore it removes it from its records.

 src/mbim-proxy/mbim-proxy.c | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit 1888013fec1579996c77f8ff8fc41baba418bec4
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 22:31:26 2014 +0200

    libmbim-glib,proxy: untrack device if it wasn't opened properly

 src/libmbim-glib/mbim-proxy.c | 16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit 082d61b4777c5840d6089e7c6a37d49ca4e1c5e2
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 22:31:07 2014 +0200

    libmbim-glib,device: some helper logs to know why device got closed

 src/libmbim-glib/mbim-device.c | 5 +++++
 1 file changed, 5 insertions(+)

commit 19039cfa178397496a662358ec91ed3101eecf72
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 21:55:28 2014 +0200

    libmbim-glib,proxy: use the provided timeout for retries in
    mbim_device_open()

 data/mbim-service-proxy-control.json |  4 ++-
 src/libmbim-glib/mbim-device.c       |  6 ++--
 src/libmbim-glib/mbim-proxy.c        | 55
 ++++++++++++++----------------------
 3 files changed, 28 insertions(+), 37 deletions(-)

commit bc8208734336412c18f801be625801bb2edd9602
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 21:46:40 2014 +0200

    libmbim-glib,device: don't assume that having iochannel means open

    Instead, track the real status (closed/opening/open).

 src/libmbim-glib/mbim-device.c | 41
 +++++++++++++++++++++++++++++++++++++++--
 1 file changed, 39 insertions(+), 2 deletions(-)

commit e2414ea528e33accb9b03a2c967c5a1e24d71b0c
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 21:36:23 2014 +0200

    libmbim-glib,proxy: perform the device open at MBIM Proxy Config

    And make sure we don't try to open the MbimDevice twice upon
    different requests
    from clients; just queue the results to be completed.

 src/libmbim-glib/mbim-proxy.c | 224
 ++++++++++++++++++++++++++++++++++++------
 1 file changed, 192 insertions(+), 32 deletions(-)

commit 823ea9845d881d9668a52c3504defa0d1296b523
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 20:29:46 2014 +0200

    libmbim-glib,proxy: don't allow MBIM Proxy Config with different paths

 src/libmbim-glib/mbim-proxy.c | 74
 ++++++++++++++++++++++++-------------------
 1 file changed, 42 insertions(+), 32 deletions(-)

commit 6c79e0b71af0d0da7367139c9671d7c87c0a2d72
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 20:19:53 2014 +0200

    libmbim-glib,proxy: only allow one MBIM Proxy Config at the same time

 src/libmbim-glib/mbim-proxy.c | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 3bede6f14c0474cdd0aec47e5a146081bed8467f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 20:13:35 2014 +0200

    libmbim-glib,proxy: remove unneeded variable in Client

 src/libmbim-glib/mbim-proxy.c | 1 -
 1 file changed, 1 deletion(-)

commit 9aee132e0bbe8767a9fde5a80bf22a3a9b73210b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 20:09:49 2014 +0200

    libmbim-glib,proxy: use standard Request for MBIM Proxy Config

 src/libmbim-glib/mbim-proxy.c | 97
 ++++++++++++++++++-------------------------
 1 file changed, 40 insertions(+), 57 deletions(-)

commit 52a6bd513662daa0590354a264f562280641df29
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 19:59:24 2014 +0200

    libmbim-glib,proxy: use standard Request for MBIM Open

 src/libmbim-glib/mbim-proxy.c | 71
 +++++++++++++------------------------------
 1 file changed, 21 insertions(+), 50 deletions(-)

commit 32cb2f9027354abadb21561389aecb7d7b90f7b8
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 19:50:31 2014 +0200

    libmbim-glib,proxy: use standard Request for MBIM Close

 src/libmbim-glib/mbim-proxy.c | 14 ++++----------
 1 file changed, 4 insertions(+), 10 deletions(-)

commit 95b93a8e505740b7e6726a48f46186dc97a7a571
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 19:48:10 2014 +0200

    libmbim-glib,proxy: send back response as part of the request
    completion

 src/libmbim-glib/mbim-proxy.c | 49
 ++++++++++++++++++++++---------------------
 1 file changed, 25 insertions(+), 24 deletions(-)

commit d4981f2050fcf9624788df60069c1c439e4dfe8e
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 19:40:56 2014 +0200

    libmbim-glib,proxy: move standard command processor to its own method

 src/libmbim-glib/mbim-proxy.c | 59
 +++++++++++++++++++++++++------------------
 1 file changed, 35 insertions(+), 24 deletions(-)

commit ebf3baf49503e7e9a14f40ffb18fe5db57f0caaf
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 19:31:01 2014 +0200

    libmbim-glib,proxy: prefer the API to update the message transaction
    id

 src/libmbim-glib/mbim-message.c | 5 -----
 src/libmbim-glib/mbim-proxy.c   | 2 +-
 2 files changed, 1 insertion(+), 6 deletions(-)

commit 8673de9b04af1004b77e630cc7ae11d17c2bb2f0
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 19:26:46 2014 +0200

    libmbim-glib,proxy: setup a request API

 src/libmbim-glib/mbim-proxy.c | 72
 +++++++++++++++++++++++++------------------
 1 file changed, 42 insertions(+), 30 deletions(-)

commit 1c8ce7549f0471577a45ece78c41a895ae35a06f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 19:17:07 2014 +0200

    libmbim-glib,proxy: always try to pass around the proxy pointer early

 src/libmbim-glib/mbim-proxy.c | 115
 ++++++++++++++++++++++--------------------
 1 file changed, 61 insertions(+), 54 deletions(-)

commit 2836888a256db80ba85485d61778d067f68c8c97
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 19:05:48 2014 +0200

    libmbim-glib,proxy: keep response in the Request struct

 src/libmbim-glib/mbim-proxy.c | 37 +++++++++++++++++++------------------
 1 file changed, 19 insertions(+), 18 deletions(-)

commit 2f3dcdceaeba29545ad8e03d711978202b42aae5
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 19:00:45 2014 +0200

    libmbim-glib,proxy: when device notifies removal, process it in the
    proxy only

 src/libmbim-glib/mbim-proxy.c | 85
 +++++++++++++++++++++++--------------------
 1 file changed, 46 insertions(+), 39 deletions(-)

commit 5d06cd2a17ef9d932bc841937029a76e80f62554
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 18:39:42 2014 +0200

    libmbim-glib,proxy: plug memleak

 src/libmbim-glib/mbim-proxy.c | 1 +
 1 file changed, 1 insertion(+)

commit 2c3300cf048500cd39c42d41ad068d35bd6fdd39
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 18:39:33 2014 +0200

    libmbim-glib,proxy: small refactor

 src/libmbim-glib/mbim-proxy.c | 17 ++++++++---------
 1 file changed, 8 insertions(+), 9 deletions(-)

commit e30961e576d367ad6943e25756f75badca963521
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 17:38:59 2014 +0200

    libmbim-glib,proxy: setup a reference counted Client info

    Make sure every async operation has a valid reference to the Client
    info, so
    that we don't need to check explicitly whether it is disconnected
    or not. If it
    is disconnected, we'll just fail the send().

    Also, setup methods to track/untrack clients. When untrack-ing,
    clients get
    disconnected explicitly.

 src/libmbim-glib/mbim-proxy.c | 345
 +++++++++++++++++++++++-------------------
 1 file changed, 190 insertions(+), 155 deletions(-)

commit 1d27aaf21fbf342a6209cd12c6f0e8f0c74a9e17
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jul 28 15:11:15 2014 +0200

    libmbim-glib,proxy: reorder code a bit

 src/libmbim-glib/mbim-proxy.c | 186
 ++++++++++++++++++++++--------------------
 1 file changed, 99 insertions(+), 87 deletions(-)

commit 3b4adb2734ca07479e6284b2736be8737d6954e8
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jul 27 15:13:55 2014 +0200

    libmbim-glib,device: hard error if proxy cfg command fails while
    opening

 src/libmbim-glib/mbim-device.c | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 64279c8a67fbafb4bf2ffb61805f5c2ad8e989cb
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jul 27 15:11:48 2014 +0200

    libmbim-glib,device: consolidate open error path

 src/libmbim-glib/mbim-device.c | 36 ++++++++++++++++++++++--------------
 1 file changed, 22 insertions(+), 14 deletions(-)

commit 89644f55cc360b5eb89191f5096ad94635b0a1b2
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jul 27 14:28:40 2014 +0200

    libmbim-glib,uuid: proxy-control is the new last service

 src/libmbim-glib/mbim-uuid.c | 6 ++++--
 src/libmbim-glib/mbim-uuid.h | 1 +
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 83beeeef6521e87a49feea13123b9d2110dabc3b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jul 27 14:18:57 2014 +0200

    libmbim-glib,device: refactor a bit open() state machine

 src/libmbim-glib/mbim-device.c | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit 9adbfde7379a4aed19741fb447df74ed957c510b
Author: Greg Suarez <gpsuarez2512@gmail.com>
Date:   Wed Jul 23 14:21:25 2014 -0700

    libmbim-glib,proxy: Allow for --no-close and --no-open options
    by mbimcli

    To support the --no-close option the proxy will no longer send
    the close
    message to the device. The proxy will also only exit once all devices
    are removed.  Thus the proxy connects to the
    MBIM_DEVICE_SIGNAL_REMOVED
    signal for each device. A new property, MBIM_PROXY_N_DEVICES,
    was added
    to indicate the number of devices the proxy is managing.

    To support the --no-open option the proxy now calls the
    mbim_device_new() upon receiving the
    MBIM_CID_PROXY_CONTROL_CONFIGURATION with the device path.

 src/libmbim-glib/mbim-proxy.c | 287
 +++++++++++++++++++++++-------------------
 src/libmbim-glib/mbim-proxy.h |   2 +
 2 files changed, 157 insertions(+), 132 deletions(-)

commit b2c7f2d9e6e40f24d0dfa943d0f14cb89ed156f9
Author: Greg Suarez <gpsuarez2512@gmail.com>
Date:   Wed Jul 23 14:21:24 2014 -0700

    mbim-proxy: Exit when all devices are removed

    Exit when all devices are removed instead of when there are no clients
    connected.  This is done to allow for --no-close and --no-open options
    in mbimcli.

 src/mbim-proxy/mbim-proxy.c | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit 9db69f4e22c63d56f6b1d2438b96e9e4dc7bd222
Author: Greg Suarez <gpsuarez2512@gmail.com>
Date:   Wed Jul 23 14:21:23 2014 -0700

    libmbim-glib: mbim-device: Emit MBIM_DEVICE_SIGNAL_REMOVED when
    device is removed

    Emit the MBIM_DEVICE_SIGNAL_REMOVED when G_IO_HUP is received on the
    GIOChannel.

 src/libmbim-glib/mbim-device.c | 20 ++++++++++++++++++++
 src/libmbim-glib/mbim-device.h |  1 +
 2 files changed, 21 insertions(+)

commit cc831bea3f9ac56286841eb1abc741646689e562
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jul 6 21:10:28 2014 +0200

    libmbim-glib,proxy: don't assume device, always needs to be given

 src/libmbim-glib/mbim-proxy.c | 3 ---
 1 file changed, 3 deletions(-)

commit 9880e0d80dc3fe5482a749748d0682f0584c2e80
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jul 6 21:06:11 2014 +0200

    libmbim-glib,proxy: close device, then free client

    Avoids unref-ing the device if there is none.

    (mbim-proxy:3227): GLib-GObject-CRITICAL **: g_object_unref: assertion
    'G_IS_OBJECT (object)' failed

    Program received signal SIGTRAP, Trace/breakpoint trap.
    0x00007ffff7325993 in g_logv () from /usr/lib/libglib-2.0.so.0
    (gdb) bt
    #0  0x00007ffff7325993 in g_logv () from /usr/lib/libglib-2.0.so.0
    #1  0x00007ffff7325af2 in g_log () from /usr/lib/libglib-2.0.so.0
    #2  0x00007ffff7bb7676 in connection_close (client=0x60fd90)
    at mbim-proxy.c:232
    #3  0x00007ffff7bb8dbd in connection_readable_cb (socket=0x617520,
    condition=(G_IO_IN | G_IO_HUP), client=0x60fd90) at mbim-proxy.c:892
    #4  0x00007ffff789fb63 in ?? () from /usr/lib/libgio-2.0.so.0
    #5  0x00007ffff731ea65 in g_main_context_dispatch () from
    /usr/lib/libglib-2.0.so.0
    #6  0x00007ffff731edc8 in ?? () from /usr/lib/libglib-2.0.so.0
    #7  0x00007ffff731f08a in g_main_loop_run () from
    /usr/lib/libglib-2.0.so.0
    #8  0x0000000000401421 in main (argc=1, argv=0x7fffffffeb18)
    at mbim-proxy.c:214

 src/libmbim-glib/mbim-proxy.c | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit 5a6b509ed61cb9391148163f2b6cbe456882394c
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jul 6 21:04:56 2014 +0200

    libmbim-glib,device: unexpected host messages shouldn't be warnings

 src/libmbim-glib/mbim-device.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b9d945cc19972ced0830804ec547ff1d8f92ce20
Author: Greg Suarez <gpsuarez2512@gmail.com>
Date:   Wed Jul 2 10:52:55 2014 -0700

    libmbim-glib,proxy: clamp standard service subscribe list to
    basic-connect to dss

 src/libmbim-glib/mbim-proxy.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d703b5ec94320560145de6eb3f99363ea4e09cda
Author: Greg Suarez <gpsuarez2512@gmail.com>
Date:   Wed Jul 2 10:52:54 2014 -0700

    libmbim-glib,proxy: don't forward non-standard indications unless
    explicity registered

    Ensure that non-standard indications are not forwared unless the CID
    has been explicitly registered via
    MBIM_CID_DEVICE_SERVICE_SUBSCRIBE_LIST.

    Section 10.5.30.1 of the MBIM Specifiction states:
    "Upon OPEN_DONE completion, notifications for CIDs defined in this
    specification are enabled (aka subscribed to) by default, and vendor
    extension notifications are off by default."

 src/libmbim-glib/mbim-proxy.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 455002ded5e2d19f6946b60b8b48fcb60e3331f5
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jun 22 16:27:35 2014 +0200

    libmbim-glib,proxy: fix endianness in built responses

 src/libmbim-glib/mbim-proxy.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2cbb82fe0b8c2d18edca3fcee6cca0da4fc5aebd
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jun 22 16:27:11 2014 +0200

    libmbim-glib,proxy: use mbim_uuid_cmp() to compare UUIDs

 src/libmbim-glib/mbim-proxy.c | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 8b7817fa5b6247b46765674f1bdf9bd1631a9a9b
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jun 22 16:17:25 2014 +0200

    libmbim-glib,proxy: don't reallocate buffer to reply, just ref
    original request

 src/libmbim-glib/mbim-proxy.c | 29 +++++++++++++----------------
 1 file changed, 13 insertions(+), 16 deletions(-)

commit 4ff1fb5b233bb0fe5bb8d391eb42653f8dfce240
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Jun 22 16:01:17 2014 +0200

    libmbim-glib: coding style fixes

 src/libmbim-glib/mbim-proxy.c | 42
 +++++++++++++++++++-----------------------
 1 file changed, 19 insertions(+), 23 deletions(-)

commit 46f4cef74472f33a089e57418e2cf19ae5540783
Author: Greg Suarez <gpsuarez2512@gmail.com>
Date:   Mon Jun 9 12:06:58 2014 -0700

    libmbim-glib: changed copyright from Greg Suarez to Smith Micro
    Software, Inc.

 src/libmbim-glib/mbim-device.c | 2 +-
 src/libmbim-glib/mbim-proxy.c  | 2 +-
 src/libmbim-glib/mbim-proxy.h  | 2 +-
 src/libmbim-glib/mbim-uuid.c   | 2 +-
 src/mbim-proxy/mbim-proxy.c    | 2 +-
 5 files changed, 5 insertions(+), 5 deletions(-)

commit 0a6db2e81e45120df6ae0d05dd9cd56caabc5804
Author: Greg Suarez <gpsuarez2512@gmail.com>
Date:   Mon Jun 9 12:00:06 2014 -0700

    libmbim-glib,proxy: filter indications based on
    MBIM_CID_BASIC_CONNECT_DEVICE_SERVICE_SUBSCRIBE_LIST

    Previously mbim-proxy tracked and filtered indications of non-standard
    services based on whether a client has sent a message to the
    device with
    a matching UUID. This patch removes that tracking and filtering and
    instead tracks and filters indications based on the client sending
    the MBIM_CID_BASIC_CONNECT_DEVICE_SERVICE_SUBSCRIBE_LIST command to
    the device.

    The client will receive all indications if it never sends the
    MBIM_CID_BASIC_CONNECT_DEVICE_SERVICE_SUBSCRIBE_LIST command.
    Once the client sends the
    MBIM_CID_BASIC_CONNECT_DEVICE_SERVICE_SUBSCRIBE_LIST command, the
    client will only receive indications specified in the command.

 src/libmbim-glib/mbim-proxy.c | 308
 +++++++++++++++++++++++++++++++++++-------
 1 file changed, 260 insertions(+), 48 deletions(-)

commit 2fb5c309d2d8d0987bd73acae9b91fee1d334396
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat May 24 19:45:36 2014 +0800

    libmbim-glib,proxy: single default timeout for every operation

 src/libmbim-glib/mbim-proxy.c | 35 ++++++-----------------------------
 1 file changed, 6 insertions(+), 29 deletions(-)

commit 9b3c33b4b350b8682d3fed657879accf3edefde4
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat May 24 19:13:29 2014 +0800

    libmbim-glib,proxy: refactor message filtering

 src/libmbim-glib/mbim-proxy.c | 29 ++++++++++++++---------------
 1 file changed, 14 insertions(+), 15 deletions(-)

commit a6779abdc7e106ce48ef185aea3c7b9477b93c8a
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat May 24 12:57:03 2014 +0200

    mbimcli: don't use the proxy by default, new '--device-open-proxy,-p'
    option

 src/mbimcli/mbimcli.c | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 4c86eef6534bf28eb86409bd89270787905dd8bd
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat May 24 12:52:06 2014 +0200

    docs,libmbim-glib: add proxy reference documentation

 docs/reference/libmbim-glib/libmbim-glib-docs.xml | 1 +
 1 file changed, 1 insertion(+)

commit 1210f309dac4b3bbe83e1e04f628433a48f5d970
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat May 24 12:49:09 2014 +0200

    libmbim-glib: add missing MBIM_DEVICE_OPEN_FLAGS_NONE documentation.

 src/libmbim-glib/mbim-device.h | 1 +
 1 file changed, 1 insertion(+)

commit f83deaaa40e429a33c1195b1a96b8c3be35f42f6
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sat May 24 12:47:44 2014 +0200

    docs,libmbim-glib: include proxy related API in docs

    For now, hide all the private implementations which are not supposed
    to be
    used out of libmbim-glib (e.g. mbim_message_open_done_new()).

 .../libmbim-glib/libmbim-glib-common.sections      | 33
 ++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit 624c405e3212ccdc96d5f7dfffb8b9f7e755235c
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri May 23 15:11:37 2014 +0200

    libmbim-glib,device: add missing documentation for
    mbim_device_open_full()

 src/libmbim-glib/mbim-device.c | 27 +++++++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit 3dd57ec0a7631da559208a996025eb625e395984
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri May 23 15:09:31 2014 +0200

    libmbim-glib,device: provide a open_full_finish() method

    Instead of relying that the implementations for the open() and
    open_full()
    methods depend on each other (in the API), just setup a different
    finish()
    method for the new open_full() method.

 src/libmbim-glib/mbim-device.c | 15 ++++++++++++---
 src/libmbim-glib/mbim-device.h | 15 +++++++++------
 2 files changed, 21 insertions(+), 9 deletions(-)

commit 5ec2e089dd0ee5b59be34936cd8dbfcf49fe8437
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri May 23 15:05:36 2014 +0200

    build: fix several coding style issues

 .gitignore                     |  2 +-
 configure.ac                   |  2 +-
 src/libmbim-glib/mbim-cid.c    |  1 +
 src/libmbim-glib/mbim-device.c | 16 ++++++++--------
 src/libmbim-glib/mbim-device.h |  2 --
 src/libmbim-glib/mbim-proxy.c  | 26 +++++++++++++-------------
 src/libmbim-glib/mbim-uuid.c   |  4 ++--
 7 files changed, 26 insertions(+), 27 deletions(-)

commit 1f4d2fad25e48bcf4af902a31e76764babeb2a5c
Author: Greg Suarez <gpsuarez2512@gmail.com>
Date:   Wed Apr 16 09:48:25 2014 -0700

    libmbim: Add mbim-proxy support

    This patch implements the mbim-proxy support to allow mulitple clients
    to have concurrent access to the MBIM device through libmbim.

    The implementation is heavily based on qmi-proxy.

    The function mbim_device_open_full() is provided for clients to
    specify that
    the device should be opened through the mbim-proxy via the flag
    MBIM_DEVICE_OPEN_FLAGS_PROXY.

    The function mbim_device_open() will behave as it has before and
    open the
    device directly.

    Proxy Control:
    A new service UUID is created to allow for clients to control
    the proxy.
    This service is currently only used to pass on the device path
    (/dev/cdc-wdm*)
    the client is requesting to open. In the future CIDs will be added
    to allow
    for setting the MaxControlMessage size and setting timeout for
    specific
    messages.

    Unknown UUIDs:
    Currently the mbim-proxy will allow messages with unknown UUIDs to
    pass through.
    The proxy will track unknown UUIDs sent by the client and device
    notifications
    matching the tracked UUID will be sent to the client.  Device
    notifications
    of known UUIDs will be sent to all connected clients.

    Signed-off-by: Greg Suarez <gsuarez@smithmicro.com>

 .gitignore                              |  10 +-
 configure.ac                            |  10 +
 data/Makefile.am                        |   3 +-
 data/mbim-service-proxy-control.json    |  15 +
 src/Makefile.am                         |   2 +-
 src/libmbim-glib/Makefile.am            |   7 +-
 src/libmbim-glib/generated/Makefile.am  |  18 +-
 src/libmbim-glib/libmbim-glib.h         |   1 +
 src/libmbim-glib/mbim-cid.c             |  22 +-
 src/libmbim-glib/mbim-cid.h             |  12 +
 src/libmbim-glib/mbim-device.c          | 447 ++++++++++++---
 src/libmbim-glib/mbim-device.h          |  20 +
 src/libmbim-glib/mbim-message-private.h |   4 +
 src/libmbim-glib/mbim-message.c         |  56 +-
 src/libmbim-glib/mbim-message.h         |  16 +-
 src/libmbim-glib/mbim-proxy.c           | 938
 ++++++++++++++++++++++++++++++++
 src/libmbim-glib/mbim-proxy.h           |  59 ++
 src/libmbim-glib/mbim-uuid.c            |  16 +-
 src/libmbim-glib/mbim-uuid.h            |  11 +
 src/mbim-proxy/Makefile.am              |  16 +
 src/mbim-proxy/mbim-proxy.c             | 223 ++++++++
 src/mbimcli/mbimcli.c                   |  11 +-
 22 files changed, 1804 insertions(+), 113 deletions(-)

commit 294d99843aed68db5e3234a701aa7b338ddf12bd
Author: Yunlian Jiang <yunlian@google.com>
Date:   Tue Jul 22 08:02:46 2014 -0700

    libmbim-glib,test: fix a memory leak in test-message-parser

    This fixes a memory leak in test-message-parser.

 src/libmbim-glib/test/test-message-parser.c | 1 +
 1 file changed, 1 insertion(+)

commit 3e9b6c1d738eb4ade7c311a5cc9fe4987e8402e5
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Fri Jul 11 11:47:12 2014 +0200

    build: update copyright years and authors list

 AUTHORS                                           | 15 ++++++++++++++-
 build-aux/mbim-codegen/Message.py                 |  2 +-
 build-aux/mbim-codegen/ObjectList.py              |  2 +-
 build-aux/mbim-codegen/Struct.py                  |  2 +-
 build-aux/mbim-codegen/utils.py                   |  4 ++--
 docs/reference/libmbim-glib/libmbim-glib-docs.xml |  2 +-
 src/libmbim-glib/libmbim-glib.h                   |  2 +-
 src/libmbim-glib/mbim-cid.c                       |  2 +-
 src/libmbim-glib/mbim-cid.h                       |  2 +-
 src/libmbim-glib/mbim-device.c                    |  2 +-
 src/libmbim-glib/mbim-device.h                    |  2 +-
 src/libmbim-glib/mbim-enums.h                     |  2 +-
 src/libmbim-glib/mbim-errors.h                    |  2 +-
 src/libmbim-glib/mbim-message-private.h           |  2 +-
 src/libmbim-glib/mbim-message.c                   |  2 +-
 src/libmbim-glib/mbim-message.h                   |  2 +-
 src/libmbim-glib/mbim-utils.c                     |  2 +-
 src/libmbim-glib/mbim-utils.h                     |  2 +-
 src/libmbim-glib/mbim-uuid.c                      |  2 +-
 src/libmbim-glib/mbim-uuid.h                      |  2 +-
 src/libmbim-glib/mbim-version.h.in                |  1 +
 src/libmbim-glib/test/test-cid.c                  |  2 +-
 src/libmbim-glib/test/test-fragment.c             |  2 +-
 src/libmbim-glib/test/test-message-builder.c      |  2 +-
 src/libmbim-glib/test/test-message-parser.c       |  2 +-
 src/libmbim-glib/test/test-message.c              |  2 +-
 src/libmbim-glib/test/test-uuid.c                 |  2 +-
 src/mbimcli/mbimcli-basic-connect.c               |  2 +-
 src/mbimcli/mbimcli-phonebook.c                   |  2 +-
 src/mbimcli/mbimcli.c                             |  4 ++--
 src/mbimcli/mbimcli.h                             |  2 +-
 31 files changed, 46 insertions(+), 32 deletions(-)

commit 66e379dfa3e0446398e34d7056ab443cccca7feb
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Jul 10 10:30:26 2014 +0200

    libmbim-glib,test: new parser tester for Register State responses

 src/libmbim-glib/test/test-message-parser.c | 82
 +++++++++++++++++++++++++++++
 1 file changed, 82 insertions(+)

commit 835602a65f8e9656f2b642b5ba073d9f0ad12e95
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Jul 10 10:29:23 2014 +0200

    libmbim-glib,enums: API break: update automatic attach flag value

    MBIM_REGISTRATION_FLAG_PACKET_SERVICE_AUTOMATIC_ATTACH is bit 2 in
    the mask
    (only shift 1 left needed), not bit 3.

 src/libmbim-glib/mbim-enums.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ce3ac13428a11eee62e3f844798854fa074ef35e
Author: Prathmesh Prabhu <pprabhu@chromium.org>
Date:   Thu Jun 19 08:59:52 2014 -0700

    libmbim-glib: print parsed packet even for unmatched transaction

 src/libmbim-glib/mbim-device.c | 19 +++++++++++++++----
 1 file changed, 15 insertions(+), 4 deletions(-)

commit 55e40ead6b708f51cd0faa5a4c69d827cd1acf43
Author: Prathmesh Prabhu <pprabhu@chromium.org>
Date:   Wed Jun 18 07:52:37 2014 -0700

    libmbim-glib: add additional GMM cause codes to MbimNwError

 src/libmbim-glib/mbim-enums.h | 2 ++
 1 file changed, 2 insertions(+)

commit 6f2a64292e16bd8a8e6c6b79d898a693eb372b45
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Jun 10 17:10:45 2014 +0200

    libmbim-glib,device: match transaction also by type

    There's this Huawei EM820W which replies several OPEN DONE messages,
    even using
    a transaction ID which doesn't belong to the original OPEN message.

      Hardware |   manufacturer: 'Huawei'
               |          model: 'MBIM [12D1:1571]'
               |       revision: '11.810.10.02.00'

    E.g.

    Send OPEN message (transaction 1)
        <<<<<< RAW:
        <<<<<<   length = 16
        <<<<<<   data   = 01:00:00:00:10:00:00:00:01:00:00:00:00:06:00:00

    Get OPEN DONE message (transaction 1)
        >>>>>> RAW:
        >>>>>>   length = 16
        >>>>>>   data   = 01:00:00:80:10:00:00:00:01:00:00:00:00:00:00:00

    Send COMMAND message (transaction 2)
        <<<<<< RAW:
        <<<<<<   length = 48
        <<<<<<   data   = 03:00:00:00:30:00:00:00:02:00:00:00:01:00:...

    Receive OPEN DONE message (transaction 2) <---------- ERROR
        >>>>>> RAW:
        >>>>>>   length = 16
        >>>>>>   data   = 01:00:00:80:10:00:00:00:02:00:00:00:00:00:00:00

    Then, get the COMMAND DONE message (transaction 2) as we expected
        >>>>>> RAW:
        >>>>>>   length = 208
        >>>>>>   data   =
        03:00:00:80:D0:00:00:00:02:00:00:00:01:00:00:00:...

    So, in order to handle this, match responses not only by transaction
    ID, but
    also by expected message type. The expected message type is the that
    of the
    message which was originally used to create the transaction,
    i.e. not the
    type of the message expected to complete it.

 src/libmbim-glib/mbim-device.c | 46
 +++++++++++++++++++++++++++---------------
 1 file changed, 30 insertions(+), 16 deletions(-)

commit b8860570bcd212db2628639e2045645ca00f7c24
Author: Ben Chan <benchan@chromium.org>
Date:   Wed May 21 17:40:27 2014 -0700

    libmbim-glib: consistently use spaces for indentation

 src/libmbim-glib/mbim-compat.c     | 26 +++++++++++++-------------
 src/libmbim-glib/mbim-compat.h     | 10 +++++-----
 src/libmbim-glib/mbim-version.h.in |  2 +-
 3 files changed, 19 insertions(+), 19 deletions(-)

commit bae1e141dd6b265de46e143fd05d2077224b1c72
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Apr 10 17:18:55 2014 +0200

    libmbim-glib,uuid: fix mbim_service_lookup_name() declaration

 src/libmbim-glib/mbim-uuid.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 23c26c50bec555c4d98b0f5df4fdf9987b1fbc24
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Apr 10 17:15:35 2014 +0200

    libmbim-glib,uuid: add missing documentation for the new custom
    service methods

 src/libmbim-glib/mbim-uuid.c | 21 ++++++++++++++++++++-
 1 file changed, 20 insertions(+), 1 deletion(-)

commit f7d3ec13cc9b2c5952b7db84f269423a4049e8a9
Author: Arnaud Desmier <adesmier@sequans.com>
Date:   Thu Apr 10 11:18:47 2014 +0200

    libmbim: add support for custom services

     * use mbim_register_custom_service API to register a new service.
     * use mbim_unregister_custom_service API to unregister it.

 .../libmbim-glib/libmbim-glib-common.sections      |   4 +
 src/libmbim-glib/mbim-message.c                    |   8 +-
 src/libmbim-glib/mbim-uuid.c                       | 121
 ++++++++++++++++++++-
 src/libmbim-glib/mbim-uuid.h                       |  11 ++
 src/libmbim-glib/test/test-uuid.c                  |  31 ++++++
 5 files changed, 170 insertions(+), 5 deletions(-)

commit b1ae81a75a1a68ea1c7316047528e79092bf0d37
Author: Ben Chan <benchan@chromium.org>
Date:   Sun Mar 9 13:52:18 2014 -0700

    libmbim-glib: add additional GMM cause codes to MbimNwError

    This patch adds additional GMM cause codes defined in the 3GPP
    TS 24.008
    specification to MbimNwError.

 src/libmbim-glib/mbim-enums.h | 68
 ++++++++++++++++++++++++++++++++++---------
 1 file changed, 55 insertions(+), 13 deletions(-)

commit 4bc439802257e037c7979c45f8a26f794350e854
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Sun Mar 9 22:19:10 2014 +0100

    data: add libmbim icon

 docs/libmbim-icon.svg | 197
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 197 insertions(+)

commit a96fea153550f1b0cdf0f6e3413bdeec5ddb541e
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Mar 6 14:29:15 2014 +0100

    release: bump version to 1.9.0 (development)

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ab20987de38ca08953f387f6b59f5e44794d5332
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Mar 6 12:30:56 2014 +0100

    release: bump version to 1.8.0

 configure.ac | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit c4ac72feba717c7f4f11986f53959c1c5f76c131
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Mar 6 12:59:27 2014 +0100

    NEWS: update

 NEWS | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit b579fb2f5dd52cea4825d39106b0cb22959036ff
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Mar 6 12:30:10 2014 +0100

    libmbim-glib,docs: add short descriptions to the sections

 src/libmbim-glib/mbim-cid.c    | 1 +
 src/libmbim-glib/mbim-enums.h  | 1 +
 src/libmbim-glib/mbim-errors.h | 1 +
 src/libmbim-glib/mbim-uuid.c   | 1 +
 4 files changed, 4 insertions(+)

commit bff421b8b813be29909d05f8619b52788591f3e4
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Mar 6 12:23:40 2014 +0100

    libmbim-glib: small layer for backwards compatibility

 .../libmbim-glib/libmbim-glib-common.sections      |  8 +++
 docs/reference/libmbim-glib/libmbim-glib-docs.xml  |  9 +--
 src/libmbim-glib/Makefile.am                       |  6 +-
 src/libmbim-glib/libmbim-glib.h                    |  3 +
 src/libmbim-glib/mbim-compat.c                     | 83
 ++++++++++++++++++++++
 src/libmbim-glib/mbim-compat.h                     | 75
 +++++++++++++++++++
 6 files changed, 178 insertions(+), 6 deletions(-)

commit d33dc227e0a6eaf9004dee59afc86b5e8fc3a6a4
Author: Ben Chan <benchan@chromium.org>
Date:   Tue Feb 18 12:42:44 2014 -0800

    libmbim-glib: fix typo in MBIM_CID_DEVICE_SERVICE_SUBSCRIBE_LIST

    This patch renames 'MBIM_CID_DEVICE_SERVICE_SUBSCRIBER_LIST' to
    'MBIM_CID_DEVICE_SERVICE_SUBSCRIBE_LIST' to be consistent with
    the MBIM
    specification. This CID is for subscribing notifications for CIDs that
    the host is interested in, and is not related to mobile 'subscriber'.

 data/mbim-service-basic-connect.json         | 2 +-
 src/libmbim-glib/mbim-cid.c                  | 2 +-
 src/libmbim-glib/mbim-cid.h                  | 4 ++--
 src/libmbim-glib/test/test-message-builder.c | 8 ++++----
 4 files changed, 8 insertions(+), 8 deletions(-)

commit c1380f571a821b650e41cabe194ebfe9a847fdba
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Mar 5 21:45:22 2014 -0800

    libmbim-glib,mbimcli: consistently use spaces for indentation

 src/libmbim-glib/mbim-message-private.h     |  2 +-
 src/libmbim-glib/mbim-message.c             |  4 +--
 src/libmbim-glib/mbim-utils.c               | 44
 ++++++++++++++---------------
 src/libmbim-glib/test/test-message-parser.c |  2 +-
 src/mbimcli/mbimcli-basic-connect.c         | 16 +++++------
 src/mbimcli/mbimcli-dss.c                   |  2 +-
 src/mbimcli/mbimcli-phonebook.c             | 16 +++++------
 src/mbimcli/mbimcli.c                       |  6 ++--
 8 files changed, 46 insertions(+), 46 deletions(-)

commit 4743526c7c28f087b368973dcffdab69197caf6f
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Mar 5 11:18:16 2014 +0100

    license: add GPLv2+ license in addition to the LGPLv2+ one

    This is not a license change; the library is still LGPLv2+, and the
    command line
    tool GPLv2+.

    For reference, see libqmi bug:
      https://bugs.freedesktop.org/show_bug.cgi?id=74220

 COPYING     | 663
 +++++++++++++++++++++++-------------------------------------
 COPYING.LIB | 502 +++++++++++++++++++++++++++++++++++++++++++++
 Makefile.am |   4 +-
 README      |   6 +-
 4 files changed, 760 insertions(+), 415 deletions(-)

commit e6fa398d9d5b51951b024e161b7bfe668d8f8fd6
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Mar 5 10:56:55 2014 +0100

    docs: add documentation for the new 'MS Host Shutdown' service

 docs/reference/libmbim-glib/Makefile.am                  | 3 ++-
 docs/reference/libmbim-glib/libmbim-glib-common.sections | 6 ++++++
 docs/reference/libmbim-glib/libmbim-glib-docs.xml        | 1 +
 3 files changed, 9 insertions(+), 1 deletion(-)

commit 14d87407a892505837fb9a410fed479e3cc1cec4
Author: Ben Chan <benchan@chromium.org>
Date:   Tue Mar 4 11:56:27 2014 -0800

    mbimcli: new '--ms-notify-host-shutdown' action

 src/mbimcli/Makefile.am                |   3 +-
 src/mbimcli/mbimcli-ms-host-shutdown.c | 160
 +++++++++++++++++++++++++++++++++
 src/mbimcli/mbimcli.c                  |  18 ++--
 src/mbimcli/mbimcli.h                  |  40 +++++----
 4 files changed, 197 insertions(+), 24 deletions(-)

commit 854c32968eab2f637b5fb33a79fba74ed48434ab
Author: Ben Chan <benchan@chromium.org>
Date:   Tue Mar 4 11:56:26 2014 -0800

    ms-host-shutdown: add support for the Microsoft Host Shutdown service

 data/Makefile.am                             |  3 +-
 data/mbim-service-ms-host-shutdown.json      | 11 ++++++
 src/libmbim-glib/generated/Makefile.am       | 18 ++++++++--
 src/libmbim-glib/libmbim-glib.h              |  1 +
 src/libmbim-glib/mbim-cid.c                  | 23 ++++++++++---
 src/libmbim-glib/mbim-cid.h                  | 12 +++++++
 src/libmbim-glib/mbim-message.c              |  2 +-
 src/libmbim-glib/mbim-uuid.c                 | 15 +++++++-
 src/libmbim-glib/mbim-uuid.h                 | 29 +++++++++++-----
 src/libmbim-glib/test/test-cid.c             | 25 +++++++++-----
 src/libmbim-glib/test/test-message-builder.c | 51
 ++++++++++++++++++++++++++++
 src/libmbim-glib/test/test-uuid.c            | 24 ++++++++-----
 12 files changed, 179 insertions(+), 35 deletions(-)

commit cdba6091aeb9be338073954e6506e1a88b1839d2
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Mar 5 09:07:17 2014 +0100

    libmbim-glib,uuid: validate str contents before converting to UUID

    And avoid sscanf(). A single loop to validate contents and build
    the result is
    enough.

 src/libmbim-glib/mbim-uuid.c | 56
 +++++++++++++++++++++++---------------------
 1 file changed, 29 insertions(+), 27 deletions(-)

commit 378d71b61de6bd910659c02a52360262662a06bf
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Wed Mar 5 08:56:13 2014 +0100

    mbimcli: new helper method to read uints from strings

 src/mbimcli/Makefile.am         |  4 ++--
 src/mbimcli/mbimcli-dss.c       | 18 ++-------------
 src/mbimcli/mbimcli-helpers.c   | 49
 +++++++++++++++++++++++++++++++++++++++++
 src/mbimcli/mbimcli-helpers.h   | 31 ++++++++++++++++++++++++++
 src/mbimcli/mbimcli-phonebook.c |  9 ++------
 src/mbimcli/mbimcli.c           | 25 ++-------------------
 6 files changed, 88 insertions(+), 48 deletions(-)

commit f493cf758320e0d49cc95ffc28ef7554d277ab3e
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Mar 4 20:26:50 2014 +0100

    mbimcli,dss: use the new 'mbim_uuid_from_printable()'

 src/mbimcli/mbimcli-dss.c | 35 +----------------------------------
 1 file changed, 1 insertion(+), 34 deletions(-)

commit 8fa0b491f0d01cf6dd640a3dda179d2f3e0027be
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Mar 4 20:25:25 2014 +0100

    libmbim-glib,uuid: make sure sscanf() reads 16 items

 src/libmbim-glib/mbim-uuid.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 59a932dbbe99677091bbe81d3d82293cae1a842d
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Mar 4 20:24:20 2014 +0100

    libmbim-glib,uuid: check dashes positions before the sscanf()

    The sscanf() parser seems not good enough to catch mismatched dashes.

 src/libmbim-glib/mbim-uuid.c | 29 +++++++++++++++++------------
 1 file changed, 17 insertions(+), 12 deletions(-)

commit 82ca529fb5efeeb23cb636fe1b5fc0d849f45964
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Mar 4 20:10:29 2014 +0100

    libmbim-glib,uuid: new 'mbim_uuid_from_printable()'

 .../libmbim-glib/libmbim-glib-common.sections      |  1 +
 src/libmbim-glib/mbim-uuid.c                       | 52 ++++++++++++++-
 src/libmbim-glib/mbim-uuid.h                       |  8 ++-
 src/libmbim-glib/test/test-uuid.c                  | 77
 ++++++++++++++++++++++
 4 files changed, 134 insertions(+), 4 deletions(-)

commit 5764ec47873540e3e356b9af2bcfdd1fab066a0c
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Tue Mar 4 20:06:06 2014 +0100

    mbimcli: fix minor style issues

 src/mbimcli/mbimcli-dss.c | 134
 ++++++++++++++++++++++------------------------
 src/mbimcli/mbimcli.c     |   2 +-
 2 files changed, 65 insertions(+), 71 deletions(-)

commit 40be0255d31a845757a87eb52c31a32751de0b72
Author: Scott Lee <sclee@nvidia.com>
Date:   Tue Mar 4 19:42:11 2014 +0100

    mbimcli: new --dss-connect and --dss-disconnect actions

 src/mbimcli/Makefile.am   |   3 +-
 src/mbimcli/mbimcli-dss.c | 325
 ++++++++++++++++++++++++++++++++++++++++++++++
 src/mbimcli/mbimcli.c     |   8 ++
 src/mbimcli/mbimcli.h     |   6 +
 4 files changed, 341 insertions(+), 1 deletion(-)

commit d6e052b88463ee6c257fe34678bb60ecf795ec5e
Author: Ben Chan <benchan@chromium.org>
Date:   Tue Mar 4 00:17:23 2014 -0800

    mbimcli: increase timeout of device open operation

    A MBIM device typically delays its response to an 'Open' command
    when it
    has not completed the initialization process. This patch increases the
    timeout of the MBIM device open operation from 15s to 30s to handle
    situations where the device takes much longer to initialize.

 src/mbimcli/mbimcli.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5732b5518b866b3c2101739e9b223e0701a4333c
Author: Ben Chan <benchan@chromium.org>
Date:   Fri Feb 28 23:56:37 2014 -0800

    basic-connect: implement 'Emergency Mode' notification handling

 data/mbim-service-basic-connect.json | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit ca3300247d257d668b86921315a7d8d3fa2f47f0
Author: Ben Chan <benchan@chromium.org>
Date:   Fri Feb 28 23:49:51 2014 -0800

    basic-connect: fix notification code generation

 data/mbim-service-basic-connect.json | 24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit f9e62cff4974d1ad34eeef539cda8106d80630e8
Author: Ben Chan <benchan@chromium.org>
Date:   Thu Feb 27 21:43:17 2014 -0800

    mbimcli: new '--set-radio-state' action

 src/mbimcli/mbimcli-basic-connect.c | 34
 ++++++++++++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 2555c13a887f9a14e0d263c98189891e25a96c85
Author: Ben Chan <benchan@chromium.org>
Date:   Thu Feb 27 10:23:40 2014 -0800

    mbimcli: check status code in command-done message before parsing
    response

    This patch adds missing mbim_message_command_done_get_result()
    checks in
    mbimcli to ensure that the status code in a command-done message
    reports
    no error before parsing further parsing the response. It also adds
    missing mbim_message_unref() calls to ensure that the response
    is freed
    in case of an error.

 src/mbimcli/mbimcli-basic-connect.c  | 34
 ++++++++++++++++++++++++++++++----
 src/mbimcli/mbimcli-ms-firmware-id.c |  4 +++-
 src/mbimcli/mbimcli-phonebook.c      | 16 ++++++++++++----
 3 files changed, 45 insertions(+), 9 deletions(-)

commit b358180ac684ac37e15e3a6c5eab31dda10d2a81
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Thu Feb 27 10:02:10 2014 +0100

    docs: add missing documentation for the MS Firmware ID service

 docs/reference/libmbim-glib/Makefile.am                  | 3 ++-
 docs/reference/libmbim-glib/libmbim-glib-common.sections | 6 ++++++
 docs/reference/libmbim-glib/libmbim-glib-docs.xml        | 1 +
 3 files changed, 9 insertions(+), 1 deletion(-)

commit 4b719a8f38bd46151a41e6e7ce6be3f7082f8f5d
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Feb 26 22:26:49 2014 -0800

    mbimcli: new '--ms-query-firmware-id' action

 src/mbimcli/Makefile.am              |   3 +-
 src/mbimcli/mbimcli-ms-firmware-id.c | 174
 +++++++++++++++++++++++++++++++++++
 src/mbimcli/mbimcli.c                |   8 ++
 src/mbimcli/mbimcli.h                |  20 ++--
 4 files changed, 196 insertions(+), 9 deletions(-)

commit d482a37156a70a7b778ed0c1aaeecdc9b5a7a8dd
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Feb 26 22:26:48 2014 -0800

    ms-firmware-id: add support for the Microsoft Firmware ID service

 data/Makefile.am                            |  3 +-
 data/mbim-service-ms-firmware-id.json       | 13 ++++++++
 src/libmbim-glib/generated/Makefile.am      | 18 ++++++++--
 src/libmbim-glib/libmbim-glib.h             |  1 +
 src/libmbim-glib/mbim-cid.c                 | 22 +++++++++---
 src/libmbim-glib/mbim-cid.h                 | 12 +++++++
 src/libmbim-glib/mbim-message.c             |  2 +-
 src/libmbim-glib/mbim-uuid.c                | 15 ++++++++-
 src/libmbim-glib/mbim-uuid.h                | 27 ++++++++++-----
 src/libmbim-glib/test/test-cid.c            | 23 +++++++++----
 src/libmbim-glib/test/test-message-parser.c | 52
 +++++++++++++++++++++++++++++
 src/libmbim-glib/test/test-uuid.c           | 21 ++++++++----
 12 files changed, 177 insertions(+), 32 deletions(-)

commit 263b020d05f73e74be618c6e854a1461c5957c05
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Feb 26 21:37:20 2014 -0800

    mbimcli: fix a typo

 src/mbimcli/mbimcli-phonebook.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 49d1e245e11274b12fe1d71943b0bef92335a0fe
Author: Ben Chan <benchan@chromium.org>
Date:   Tue Feb 25 01:46:27 2014 -0800

    mbimcli: consolidate VALIDATE_UNKNOWN definitions in one common place

 src/mbimcli/mbimcli-basic-connect.c | 30 ------------------------------
 src/mbimcli/mbimcli-phonebook.c     |  8 +-------
 src/mbimcli/mbimcli.h               |  2 ++
 3 files changed, 3 insertions(+), 37 deletions(-)

commit 6b61ffec739c334d9dcf042aab4c74d425e0c75a
Author: Ben Chan <benchan@chromium.org>
Date:   Tue Feb 25 23:00:58 2014 -0800

    basic-connect: implement 'Subscriber Ready Status' notification
    handling

 data/mbim-service-basic-connect.json | 17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit dded15874b8d86f87fd5bacae63d9dc8e81fca0f
Author: Ben Chan <benchan@chromium.org>
Date:   Mon Feb 24 09:12:57 2014 -0800

    mbimcli: use g_strfreev instead of g_free to free g_strsplit results

    This patch modifies set_pin_input_parse and set_connect_activate_parse
    in mbimcli-basic-connect.c to duplicate the strings in a string array,
    before returning them to the caller, so that the string array can be
    properly freed with g_strfreev.

 src/mbimcli/mbimcli-basic-connect.c | 15 +++++++--------
 1 file changed, 7 insertions(+), 8 deletions(-)

commit 3fa4e1bbf6aea94a275a97029a90e2ed4022396b
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Feb 19 23:16:29 2014 -0800

    basic-connect,stk: make naming more consistent

    Also fixes a few indentation issues.

 data/mbim-service-basic-connect.json | 8 ++++----
 data/mbim-service-stk.json           | 8 ++++----
 2 files changed, 8 insertions(+), 8 deletions(-)

commit b86066de7d5677a0e99724b03e17bf2622ac7d80
Author: Ben Chan <benchan@chromium.org>
Date:   Tue Feb 18 11:27:33 2014 -0800

    libmbim-glib: fix typo in MbimRegistrationFlag

    This patch renames
    'MBIM_REGISTRATION_FLAG_MANUAL_PACKET_SERVICE_AUTOMATIC_ATTACH' in
    MbimRegistrationFlag to
    'MBIM_REGISTRATION_FLAG_PACKET_SERVICE_AUTOMATIC_ATTACH' to be
    consistent with the MBIM specification.

 src/libmbim-glib/mbim-enums.h | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit ea5aefddb7b492088cc33b7b4e59487418a57d6a
Author: Ben Chan <benchan@chromium.org>
Date:   Mon Feb 10 09:23:54 2014 -0800

    mbimcli: fix incorrect enumeration type conversions

    This patch fixes the following incorrect enumeration type conversions:

    mbimcli-basic-connect.c:298:52: error: implicit conversion from
    enumeration type 'MbimVoiceClass' to different enumeration type
    'MbimDeviceType'
          [-Werror,-Wenum-conversion]
        voice_class_str = mbim_device_type_get_string (voice_class);
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~  ^~~~~~~~~~~

    mbimcli-basic-connect.c:1595:51: error: implicit conversion from
    enumeration type 'MbimActivationCommand' to different enumeration type
    'MbimActivationState'
          [-Werror,-Wenum-conversion]
                                                      MBIM_ACTIVATION_COMMAND_ACTIVATE,
                                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

 src/mbimcli/mbimcli-basic-connect.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 50e173ed81ff498e7c0f00dcd11b02e136c8979b
Author: Ben Chan <benchan@chromium.org>
Date:   Mon Feb 10 09:23:53 2014 -0800

    libmbim-glib: remove invalid Context Type UUID conversion

    This patch removes the following invalid conversion from UUID_DSS to a
    MBIM Context Type enumeration type:

    mbim-uuid.c:343:16: error: implicit conversion from enumeration type
    'MbimService' to
          different enumeration type 'MbimContextType'
          [-Werror,-Wenum-conversion]
            return MBIM_SERVICE_DSS;
            ~~~~~~ ^~~~~~~~~~~~~~~~

 src/libmbim-glib/mbim-uuid.c | 3 ---
 1 file changed, 3 deletions(-)

commit 3e5ab128bcf286bf80af684414dee5c4c4add009
Author: Greg Suarez <gpsuarez2512@gmail.com>
Date:   Wed Feb 5 11:12:28 2014 -0800

    libmbim-glib: mbim-device: Decouple logic for cancellable from
    timeout when storing transaction

    Decouple the logic for connecting a cancellable from adding a timeout.
    Also check if the cancellable has been connected already.

    Signed-off-by: Greg Suarez <gpsuarez2512@gmail.com>

 src/libmbim-glib/mbim-device.c | 24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit d7823dbaebfd62cfe3a34c83346be56236194284
Author: Greg Suarez <gpsuarez2512@gmail.com>
Date:   Wed Feb 5 11:12:27 2014 -0800

    libmbim-glib: mbim-device: Fix adding multiple timeouts for a
    transaction

    When receiving multiple fragments device_store_transaction() is called
    for each fragment received thus adding a timeout callback for each
    fragment.  A timeout callback is only removed when all fragments are
    received thus leaving dangling timeout callbacks.  This leads to
    a crash
    when the MbimDevice is finalized.

    This patch checks if the transaction has already registered a timeout
    callback before adding a new one.

    Signed-off-by: Greg Suarez <gpsuarez2512@gmail.com>

 src/libmbim-glib/mbim-device.c | 33 ++++++++++++++++++---------------
 1 file changed, 18 insertions(+), 15 deletions(-)

commit 6e86345af53eea76aad1afb2cc78140fe317f104
Author: Aleksander Morgado <aleksander@aleksander.es>
Date:   Mon Jan 20 16:26:50 2014 +0100

    build: ignore python cache

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit 40a1df25869025faf3c857724d3e028ac553b91d
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Dec 10 21:57:13 2013 +0100

    release: bump version to 1.7.0 (development)

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 094f0bac4befc51fd7bb232e856061774188fae7
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Dec 10 21:14:53 2013 +0100

    release: bump version to 1.6.0

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 24bfaff2dc656a6c37bbb83f5b0be93031a2ece2
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Dec 10 21:13:48 2013 +0100

    NEWS: update

 NEWS | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 6b9f19c7a18c766f5afe7aded03dd77443920aa6
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Dec 10 19:42:22 2013 +0100

    build: move source code under src/

 .gitignore                                         | 42 ++++++++---------
 Makefile.am                                        |  2 +-
 autogen.sh                                         |  2 +-
 configure.ac                                       | 13 +++---
 docs/man/Makefile.am                               |  6 +--
 docs/reference/libmbim-glib/Makefile.am            | 32 ++++++-------
 src/Makefile.am                                    |  2 +
 {libmbim-glib => src/libmbim-glib}/Makefile.am     | 10 ++---
 .../libmbim-glib}/generated/Makefile.am            | 24 +++++-----
 {libmbim-glib => src/libmbim-glib}/libmbim-glib.h  |  0
 {libmbim-glib => src/libmbim-glib}/mbim-cid.c      |  0
 {libmbim-glib => src/libmbim-glib}/mbim-cid.h      |  0
 {libmbim-glib => src/libmbim-glib}/mbim-device.c   |  0
 {libmbim-glib => src/libmbim-glib}/mbim-device.h   |  0
 {libmbim-glib => src/libmbim-glib}/mbim-enums.h    |  0
 {libmbim-glib => src/libmbim-glib}/mbim-errors.h   |  0
 .../libmbim-glib}/mbim-message-private.h           |  0
 {libmbim-glib => src/libmbim-glib}/mbim-message.c  |  0
 {libmbim-glib => src/libmbim-glib}/mbim-message.h  |  0
 {libmbim-glib => src/libmbim-glib}/mbim-utils.c    |  0
 {libmbim-glib => src/libmbim-glib}/mbim-utils.h    |  0
 {libmbim-glib => src/libmbim-glib}/mbim-uuid.c     |  0
 {libmbim-glib => src/libmbim-glib}/mbim-uuid.h     |  0
 .../libmbim-glib}/mbim-version.h.in                |  0
 .../libmbim-glib}/test/Makefile.am                 | 52
 +++++++++++-----------
 {libmbim-glib => src/libmbim-glib}/test/test-cid.c |  0
 .../libmbim-glib}/test/test-fragment.c             |  0
 .../libmbim-glib}/test/test-message-builder.c      |  0
 .../libmbim-glib}/test/test-message-parser.c       |  0
 .../libmbim-glib}/test/test-message.c              |  0
 .../libmbim-glib}/test/test-uuid.c                 |  0
 {cli => src/mbimcli}/Makefile.am                   | 10 ++---
 {cli => src/mbimcli}/mbimcli-basic-connect.c       |  0
 {cli => src/mbimcli}/mbimcli-phonebook.c           |  0
 {cli => src/mbimcli}/mbimcli.c                     |  0
 {cli => src/mbimcli}/mbimcli.h                     |  0
 36 files changed, 99 insertions(+), 96 deletions(-)

commit be4bc12a1c5a4855d0ab7d1ad465433ed3e33c09
Author: Ben Chan <benchan@chromium.org>
Date:   Wed Dec 4 18:51:51 2013 -0800

    mbimcli: increase timeout for --query-visible-providers to 120s

 cli/mbimcli-basic-connect.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0f211135785480e8eb844d3f22d926f53381f62a
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Oct 9 09:45:08 2013 +0200

    mbimcli,phonebook: merge '--phonebook-entry-update' into
    '--phonebook-write'

    Just let '--phonebook-write' have an additional optional argument
    indicating
    the entry index to update. If no index given, a new entry will
    be created.

 cli/mbimcli-phonebook.c | 92
 ++++++++++++++++++++-----------------------------
 1 file changed, 38 insertions(+), 54 deletions(-)

commit cdee1a96ec514fae02b62fe43083e2fc9f3a3bfb
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Oct 9 09:30:30 2013 +0200

    mbimcli: fix some coding style issues

 cli/Makefile.am         |  2 +-
 cli/mbimcli-phonebook.c | 73
 ++++++++++++++++++++++++-------------------------
 cli/mbimcli.c           |  2 +-
 3 files changed, 38 insertions(+), 39 deletions(-)

commit fdda0a78941247e916e538fc3ac62cff542925fc
Author: Raju <kadiri.raju@gmail.com>
Date:   Wed Oct 9 00:05:21 2013 +0530

    mbimcli: implement phonebook support

 cli/Makefile.am         |   3 +-
 cli/mbimcli-phonebook.c | 494
 ++++++++++++++++++++++++++++++++++++++++++++++++
 cli/mbimcli.c           |  10 +-
 cli/mbimcli.h           |   5 +-
 4 files changed, 509 insertions(+), 3 deletions(-)

commit d7e224573eacfa9844b1f02f910ddd3692118023
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Oct 3 17:34:32 2013 +0200

    docs: project logo

 docs/libmbim-logo.png | Bin 0 -> 6046 bytes
 docs/libmbim-logo.svg | 217
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 217 insertions(+)

commit 74250cc94f0c5812d4e52db2cdcca0607fa163bb
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Sep 13 19:27:29 2013 +0200

    mbim-network: use 'dot' instead of 'source' to load profiles

    Same as in libqmi's commit 9bcf031b39bcc47da274001bf36fd62618e2a789.

 utils/mbim-network.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3f3e65d978daf111b1acf02845d8c817cbc61d21
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Sep 13 17:08:03 2013 +0200

    build: generate manpage for 'mbim-network'

 .gitignore           |  1 +
 docs/man/Makefile.am | 20 +++++++++++++++++---
 2 files changed, 18 insertions(+), 3 deletions(-)

commit 0d6f103b9ad99b27e030d37724c1cc2d6be5782d
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Sep 13 17:07:41 2013 +0200

    mbim-network: implement --help and --version

 .gitignore                              |  2 ++
 utils/Makefile.am                       | 10 +++++++++-
 utils/{mbim-network => mbim-network.in} | 33
 +++++++++++++++++++++++++++++++++
 3 files changed, 44 insertions(+), 1 deletion(-)

commit 22d9c8440970a5490b9c5847af7c4aa4d004d913
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Sep 13 16:24:43 2013 +0200

    build: generate manpage for 'mbimcli'

 .gitignore           |  2 ++
 configure.ac         |  7 ++++++-
 docs/Makefile.am     |  2 +-
 docs/man/Makefile.am | 21 +++++++++++++++++++++
 4 files changed, 30 insertions(+), 2 deletions(-)

commit 4fe2e05c360d4cbbc75f2c4960b92f9447d550af
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Aug 14 15:39:46 2013 +0200

    utils,mbim-network: program is GPLv2+

 utils/mbim-network | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 675542eff661caa733977d93051ada49b56e4c8f
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Aug 14 15:37:31 2013 +0200

    build: provide README file

 .gitignore | 1 -
 README     | 2 ++
 autogen.sh | 2 +-
 3 files changed, 3 insertions(+), 2 deletions(-)

commit 25cc3ed88d25b17c18fb32f46f96b560834387d3
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Aug 14 15:32:21 2013 +0200

    license: update text to latest LGPLv2.1

 COPYING | 216
 +++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 118 insertions(+), 98 deletions(-)

commit e54f98353a3141cd3d96a2f06a3e6dfefde11495
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Jul 24 08:56:36 2013 +0200

    build: fix dist, don't distribute codegen-generated files

 libmbim-glib/generated/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d1a9d3154525c17f0e022087131a52b4edfb0d8a
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Jul 16 09:32:46 2013 +0200

    build: filter out non public symbols

    https://bugs.freedesktop.org/show_bug.cgi?id=66949

 libmbim-glib/Makefile.am           | 20 +++++++++++++-------
 libmbim-glib/generated/Makefile.am |  2 +-
 libmbim-glib/test/Makefile.am      | 18 ++++++++++++------
 3 files changed, 26 insertions(+), 14 deletions(-)

commit 5c4a0d16a2e4cfd1e9a0cf7ab31c71cadf5ebb01
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jun 24 19:30:51 2013 +0200

    release: bump version to 1.5.0 (development)

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4e234f1e78ab3078b911090b728a5a2c64dd8d65
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jun 24 19:10:39 2013 +0200

    release: bump version to 1.4.0

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 5f88e25da7d5c465de6b5d39917403b16b9be4b5
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jun 24 19:09:02 2013 +0200

    NEWS: update

 NEWS | 34 ++++++++++++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 05dd2f30c679012790be4204e4e801fb0b73dca5
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jun 24 18:20:16 2013 +0200

    libmbim-glib: improve message traces when receiving

 libmbim-glib/mbim-device.c | 24 ++++++++++++++++++------
 1 file changed, 18 insertions(+), 6 deletions(-)

commit f78c4bb8e1611abc67798eb1767775df52f4fe80
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 21:31:33 2013 +0200

    libmbim-glib,test: update one test to have non multiple of 4
    byte-arrays

 libmbim-glib/test/test-message-builder.c | 24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit cb334b7e064432958272ba8196c881f58e8c2e67
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 21:30:41 2013 +0200

    libmbim-glib: when appending byte-arrays, ensure padding is also
    added when needed

 libmbim-glib/mbim-message.c | 16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit 1754a32e0b0f6f663c8e5b5527b360417679ded0
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jun 24 17:29:35 2013 +0200

    libmbim-glib,test: add tests for 'Multicarrier Providers' command
    builder

 libmbim-glib/test/test-message-builder.c | 109
 +++++++++++++++++++++++++++++++
 1 file changed, 109 insertions(+)

commit 0b2cea33ae59512cb6b715c1d591b8878f2d3565
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 21:24:05 2013 +0200

    libmbim-glib,test: fix visible providers response parser

 libmbim-glib/test/test-message-parser.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1b8fe7e167ac3e740fd0394d68dcc281fe1b0c2b
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 21:23:17 2013 +0200

    libmbim-glib: when appending strings, ensure padding is also added
    when needed

 libmbim-glib/mbim-message.c | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 581e918b5104bf80bfe399eeaa73e98f505011a3
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 21:13:07 2013 +0200

    basic-connect: implement 'Multicarrier Providers' command handling

 data/mbim-service-basic-connect.json | 26 +++++++++++++++++++++++++-
 1 file changed, 25 insertions(+), 1 deletion(-)

commit a55fdca1f7eb21fbe1a31a3363d5a3e4258ab2ec
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 21:11:52 2013 +0200

    libmbim-glib,test: add tests for 'DSS connect' command builder

 libmbim-glib/test/test-message-builder.c | 70
 ++++++++++++++++++++++++++++++++
 1 file changed, 70 insertions(+)

commit a46114b72d53a62bb0a2991d9f0130cc9351926b
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 21:03:12 2013 +0200

    dss: add support for the DSS service

 data/Makefile.am                                     |  3 ++-
 data/mbim-service-dss.json                           | 20
 ++++++++++++++++++++
 docs/reference/libmbim-glib/Makefile.am              |  3 ++-
 .../libmbim-glib/libmbim-glib-common.sections        |  5 +++++
 docs/reference/libmbim-glib/libmbim-glib-docs.xml    |  1 +
 libmbim-glib/generated/Makefile.am                   | 18
 +++++++++++++++---
 libmbim-glib/libmbim-glib.h                          |  1 +
 libmbim-glib/mbim-enums.h                            | 15 +++++++++++++++
 8 files changed, 61 insertions(+), 5 deletions(-)

commit f6af3c11c2874146241246618809e3fe3f34ef12
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 20:23:32 2013 +0200

    libmbim-glib,test: add tests for 'IP Packet Filters' command builder

 libmbim-glib/test/test-message-builder.c | 256
 +++++++++++++++++++++++++++++++
 1 file changed, 256 insertions(+)

commit 1f3fd3e749064279e31ada5895314ff31f0a41f9
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 20:19:00 2013 +0200

    libmbim-glib,test: add tests for 'IP Packet Filters' response parser

 libmbim-glib/test/test-message-parser.c | 237
 ++++++++++++++++++++++++++++++++
 1 file changed, 237 insertions(+)

commit 41f5df0bfc60e8c99a6c631286ce1200ebc7eb65
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 19:29:11 2013 +0200

    basic-connect: implement 'IP Packet Filters' command handling

 data/mbim-service-basic-connect.json | 42
 +++++++++++++++++++++++++++++++++++-
 1 file changed, 41 insertions(+), 1 deletion(-)

commit 491435b0ca78bf75ec726891c3ae6303dc265584
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 20:12:56 2013 +0200

    mbim-codegen: handle reading/writing byte-arrays with shared length
    field

 build-aux/mbim-codegen/Message.py   |   6 +-
 build-aux/mbim-codegen/Struct.py    |  55 ++++++++++++------
 libmbim-glib/mbim-message-private.h |   3 +-
 libmbim-glib/mbim-message.c         | 111
 +++++++++++++++++++++++++++---------
 4 files changed, 126 insertions(+), 49 deletions(-)

commit 580c0f25d86268768869c84634403210c9c08824
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 18:34:27 2013 +0200

    basic-connect: implement 'Emergency Mode' command handling

 data/mbim-service-basic-connect.json                     | 14
 +++++++++++++-
 docs/reference/libmbim-glib/libmbim-glib-common.sections |  5 +++++
 libmbim-glib/mbim-enums.h                                | 15
 +++++++++++++++
 3 files changed, 33 insertions(+), 1 deletion(-)

commit af590c7668133c9c083d04ca5e57d0a4ef00de80
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 18:23:12 2013 +0200

    basic-connect: implement 'Network Idle Hint' command handling

 data/mbim-service-basic-connect.json                     | 14
 +++++++++++++-
 docs/reference/libmbim-glib/libmbim-glib-common.sections |  5 +++++
 libmbim-glib/mbim-enums.h                                | 15
 +++++++++++++++
 3 files changed, 33 insertions(+), 1 deletion(-)

commit 4ff6b1f7812cee6bfdb0d4db2a740bc020bd013f
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jun 24 00:47:23 2013 +0200

    libmbim-glib,test: add tests for STK command builders

 libmbim-glib/test/test-message-builder.c | 223
 ++++++++++++++++++++++++++++++-
 1 file changed, 222 insertions(+), 1 deletion(-)

commit 76408a2fddac55a3e040081195059a8b8d2efdbf
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jun 24 01:03:12 2013 +0200

    mbim-codegen: check message type when parsing

 build-aux/mbim-codegen/Message.py | 23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit 6f0c6c4526c40e1c502e1cd9132de80e7645729f
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jun 24 00:47:56 2013 +0200

    libmbim-glib,test: consolidate message builder test names

 libmbim-glib/test/test-message-builder.c | 32
 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit a8904fb2dd6c5c8931e97df16ba540cd07be6d98
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jun 24 00:45:17 2013 +0200

    libmbim-glib,test: add tests for STK response and notification parsers

 libmbim-glib/test/test-message-parser.c | 321
 ++++++++++++++++++++++++++++++++
 1 file changed, 321 insertions(+)

commit 77c65d2153b205c7540c45a6155a6faa3fe0841e
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jun 24 11:19:10 2013 +0200

    mbim-codegen: fix offset after reading 'ref-byte-array'

 build-aux/mbim-codegen/Message.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 68881b7c467e6ea0dc774578b477ba84ec1043cd
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jun 24 00:31:23 2013 +0200

    stk: add support for the STK service

 build-aux/mbim-codegen/Message.py                  | 24 ++++++++---
 build-aux/mbim-codegen/Struct.py                   |  6 +--
 data/Makefile.am                                   |  3 +-
 data/mbim-service-stk.json                         | 47
 +++++++++++++++++++++
 docs/reference/libmbim-glib/Makefile.am            |  3 +-
 .../libmbim-glib/libmbim-glib-common.sections      | 10 +++++
 docs/reference/libmbim-glib/libmbim-glib-docs.xml  |  1 +
 libmbim-glib/generated/Makefile.am                 | 18 ++++++--
 libmbim-glib/libmbim-glib.h                        |  1 +
 libmbim-glib/mbim-enums.h                          | 39
 ++++++++++++++++++
 libmbim-glib/mbim-message-private.h                |  6 ++-
 libmbim-glib/mbim-message.c                        | 48
 ++++++++++++----------
 12 files changed, 169 insertions(+), 37 deletions(-)

commit 94fb16c9120249a09855528935d57129fefb2423
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jun 24 00:05:40 2013 +0200

    phonebook: add support for the Phonebook service

 data/Makefile.am                                   |  3 +-
 data/mbim-service-phonebook.json                   | 89
 ++++++++++++++++++++++
 docs/reference/libmbim-glib/Makefile.am            |  3 +-
 .../libmbim-glib/libmbim-glib-common.sections      | 15 ++++
 docs/reference/libmbim-glib/libmbim-glib-docs.xml  |  1 +
 libmbim-glib/generated/Makefile.am                 | 18 ++++-
 libmbim-glib/libmbim-glib.h                        |  1 +
 libmbim-glib/mbim-enums.h                          | 42 ++++++++++
 8 files changed, 167 insertions(+), 5 deletions(-)

commit d7c2d2cc79e3f6cca2b4d7c96042fa14f1b505c5
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 20:17:57 2013 +0200

    mbimcli: new '--query-packet-statistics' action

 cli/mbimcli-basic-connect.c | 85
 ++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 84 insertions(+), 1 deletion(-)

commit 299f28be47463249033945edb0f21eeb107715ac
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 20:04:40 2013 +0200

    basic-connect: implement 'Packet Statistics' command handling

 data/mbim-service-basic-connect.json | 25 ++++++++++++++++++++++++-
 1 file changed, 24 insertions(+), 1 deletion(-)

commit fd6e9f615ef386278bea7b0ff6bc7c6021709a96
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 19:50:07 2013 +0200

    libmbim-glib,test: rename parser and builder tests

 .gitignore                                         |  4 +--
 libmbim-glib/test/Makefile.am                      | 20 +++++------
 ...ge-command-builder.c => test-message-builder.c} | 32 ++++++++---------
 ...st-message-contents.c => test-message-parser.c} | 40
 +++++++++++-----------
 4 files changed, 48 insertions(+), 48 deletions(-)

commit ab3da3ff9708cc3c98b395908de042ac9b1aa31e
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 19:46:48 2013 +0200

    libmbim-glib,test: test AUTH AKAP response parser

 libmbim-glib/test/test-message-contents.c | 117
 +++++++++++++++++++++++++++++-
 1 file changed, 115 insertions(+), 2 deletions(-)

commit 153ede9b69d95b8841122119477cdd3ef5a12608
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 19:33:10 2013 +0200

    libmbim-glib,test: test AUTH AKAP query builder

 libmbim-glib/test/test-message-command-builder.c | 86
 ++++++++++++++++++++++--
 1 file changed, 82 insertions(+), 4 deletions(-)

commit 2d2b83cf1670da2d6b22150fb70928a442dd07ee
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 19:32:30 2013 +0200

    mbim-codegen: when byte-array not given with OL pair, it goes to
    the fixed array

 libmbim-glib/mbim-message.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit afa70cc4a511b158687b73a57396e96519d2c084
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 18:58:29 2013 +0200

    auth: add support for the Auth service

 data/Makefile.am                                  |  3 +-
 data/mbim-service-auth.json                       | 89
 +++++++++++++++++++++++
 docs/reference/libmbim-glib/Makefile.am           |  3 +-
 docs/reference/libmbim-glib/libmbim-glib-docs.xml |  1 +
 libmbim-glib/generated/Makefile.am                | 18 ++++-
 libmbim-glib/libmbim-glib.h                       |  1 +
 6 files changed, 110 insertions(+), 5 deletions(-)

commit 648fdd9d4fce3cd1a031faf3eae71ad2281425e0
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 18:37:16 2013 +0200

    mbim-codegen: add support for fixed-sized byte arrays

 build-aux/mbim-codegen/Message.py | 51
 ++++++++++++++++++++++++++++++++-------
 build-aux/mbim-codegen/Struct.py  | 20 +++++++++++++++
 2 files changed, 62 insertions(+), 9 deletions(-)

commit 01a2852a712a4046f6d9a0214c062bebd14c54f6
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 17:32:06 2013 +0200

    mbim-codegen: rename 'byte-array' format to 'unsized-byte-array'

    We only used this format type in the Service Activation command,
    and the format
    did indeed not have a specific size field for the byte array.

 build-aux/mbim-codegen/Message.py    | 20 ++++++++++----------
 build-aux/mbim-codegen/Struct.py     | 10 +++++-----
 data/mbim-service-basic-connect.json |  4 ++--
 3 files changed, 17 insertions(+), 17 deletions(-)

commit e4c0ceec8e7b0ac8b397e8a3273a48d12121aed2
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 17:10:58 2013 +0200

    libmbim-glib,test: test USSD response parser

 libmbim-glib/test/test-message-contents.c | 75
 +++++++++++++++++++++++++++++++
 1 file changed, 75 insertions(+)

commit a45411e2067296b272ad5908e9f5718101e41a72
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 16:58:41 2013 +0200

    libmbim-glib,test: test USSD set command builder

 libmbim-glib/test/test-message-command-builder.c | 73
 ++++++++++++++++++++++++
 1 file changed, 73 insertions(+)

commit ba4fc29d418da0dbaf4e7c0d972e868bfe6bfa2e
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 16:26:42 2013 +0200

    ussd: add support for the USSD service

 data/Makefile.am                                   |  3 +-
 data/mbim-service-ussd.json                        | 38 +++++++++++++++++
 docs/reference/libmbim-glib/Makefile.am            |  3 +-
 .../libmbim-glib/libmbim-glib-common.sections      | 15 +++++++
 docs/reference/libmbim-glib/libmbim-glib-docs.xml  |  1 +
 libmbim-glib/generated/Makefile.am                 | 18 ++++++--
 libmbim-glib/libmbim-glib.h                        |  1 +
 libmbim-glib/mbim-enums.h                          | 49
 ++++++++++++++++++++++
 8 files changed, 123 insertions(+), 5 deletions(-)

commit d89e0b39f531f6063dcb3f4e4dabe935dacd1799
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 16:39:09 2013 +0200

    libmbim-glib,api: fix USSD CID enumeration

 libmbim-glib/mbim-cid.h | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a125076790517e77ffab383467e2e2ac65305ba1
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 16:38:51 2013 +0200

    mbim-codegen: allow empty command name

    For the case when there is a single command in the service (e.g. USSD)

 build-aux/mbim-codegen/Message.py | 14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 03ea37c31a121548d8d8620d4dc8166cdf0fc589
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 23 16:37:59 2013 +0200

    mbim-codegen: fix byte-array handling

 build-aux/mbim-codegen/Message.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3e222813c9d09d6bfcfe5d3edeec31ac68fd37c8
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 20 17:49:32 2013 +0200

    libmbim-glib,test: test 'Device Service Subscriber List' request
    creator

 libmbim-glib/test/test-message-command-builder.c | 92
 ++++++++++++++++++++++++
 1 file changed, 92 insertions(+)

commit 7eafd632376d6f4f428046553f8ccef71ffd40e4
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 20 17:49:04 2013 +0200

    mbim-codegen: support setting arrays of struct references

 build-aux/mbim-codegen/Struct.py | 28 ++++++++++++++++++++++++++--
 1 file changed, 26 insertions(+), 2 deletions(-)

commit 9f9d5dc4f6b6b10a5f5f7ebf30c36bec407ef064
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Jun 19 19:00:39 2013 +0200

    basic-connect: implement 'Device Service Subscriber List' command
    handling

 data/mbim-service-basic-connect.json | 29 ++++++++++++++++++++++++++++-
 1 file changed, 28 insertions(+), 1 deletion(-)

commit 62655bf10b11e3a6db6e1072fef52d5f846a703d
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Jun 19 19:00:07 2013 +0200

    libmbim-glib: implement guint32/64 array setting

 libmbim-glib/mbim-message.c | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit e3500df1ba21944154d35a13c305d5369af0fbb7
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Jun 18 17:55:27 2013 +0200

    mbim-codegen: handle optional fields flagged with 'available-if'
    in setters

 build-aux/mbim-codegen/Message.py | 52
 +++++++++++++++++++++++++--------------
 1 file changed, 33 insertions(+), 19 deletions(-)

commit 51e0bc2ad78be8626866dfe7371d64089328f0a9
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 16 16:03:07 2013 +0200

    libmbim-glib,tests: unit tests for 'SMS Read' responses

 libmbim-glib/test/test-message-contents.c | 294
 ++++++++++++++++++++++++++++++
 1 file changed, 294 insertions(+)

commit bf256a696d77a116834fca266fc557ae3fe34c62
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 16 14:39:09 2013 +0200

    build: use gtester testing support and remove '--with-tests'
    configure switch

 .gitignore                    |  3 ++
 Makefile.am                   |  6 +--
 configure.ac                  | 13 -------
 gtester.make                  | 91
 +++++++++++++++++++++++++++++++++++++++++++
 libmbim-glib/test/Makefile.am | 18 +++------
 5 files changed, 102 insertions(+), 29 deletions(-)

commit 1cf3cb04083ee320786bd19edc347c29951cd3ae
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 16 11:59:03 2013 +0200

    sms: add support for SMS service

 data/Makefile.am                                   |   3 +-
 data/mbim-service-sms.json                         | 181
 +++++++++++++++++++++
 docs/reference/libmbim-glib/Makefile.am            |   3 +-
 .../libmbim-glib/libmbim-glib-common.sections      |  35 ++++
 docs/reference/libmbim-glib/libmbim-glib-docs.xml  |   1 +
 libmbim-glib/generated/Makefile.am                 |  18 +-
 libmbim-glib/libmbim-glib.h                        |   1 +
 libmbim-glib/mbim-enums.h                          | 136 ++++++++++++++++
 8 files changed, 373 insertions(+), 5 deletions(-)

commit 09a6e891e22a959c8809064ecb6946415c5451e6
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 16 17:01:14 2013 +0200

    mbim-codegen: include service name in methods if not the 'Basic
    Connect' service

 build-aux/mbim-codegen/Message.py | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 1408d27b0c567c5c35208f92c47379af6d06758a
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 16 16:02:08 2013 +0200

    mbim-codegen: handle 'ref-byte-array' type fields

    Which are byte-arrays specified as offset+length.

 build-aux/mbim-codegen/Message.py   | 34 +++++++++++++-----
 build-aux/mbim-codegen/Struct.py    | 29 ++++++++++-----
 libmbim-glib/mbim-message-private.h |  4 +++
 libmbim-glib/mbim-message.c         | 70
 +++++++++++++++++++++++++++++++++----
 4 files changed, 114 insertions(+), 23 deletions(-)

commit adfdd94e35ca79b13a58a082356604cfff00814f
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 16 13:37:13 2013 +0200

    mbim-codegen: handle optional fields flagged with 'available-if'

    A given MBIM message may contain fields which can be processed in
    different ways
    depending on the value of another field. This is the case for
    e.g. "SMS Read"
    Query operations, where the list of messages may be formatted as
    either PDU or
    CDMA, depending on the value of the 'Format' field.

    So, we now support to have fields configured like this:

       { "name"             : "Something",
         "format"           : "string" ,
         "available-if"     : { "field"     : "ConditionField",
                                "operation" : "==",
                                "value"     : "0" } },
       { "name"             : "OtherSomething",
         "format"           : "string" ,
         "available-if"     : { "field"     : "ConditionField",
                                "operation" : "==",
                                "value"     : "1" } },

    Meaning that:
     * Field "Something" will be given if "ConditionField" == 0
     * Otherwise, Field "OtherSomething" will be given if "ConditionField"
     == 1

    Note that in the message parser, BOTH fields will be provided,
    but only one
    will contain valid data.

 build-aux/mbim-codegen/Message.py | 73
 +++++++++++++++++++++++++++++++--------
 1 file changed, 58 insertions(+), 15 deletions(-)

commit ae24423cfa5e738ccdffbd9171e326faa3f5f3cd
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 16 12:50:23 2013 +0200

    mbim-codegen: handle 'byte-array' fields in Structs

 build-aux/mbim-codegen/Struct.py | 25 ++++++++++++++++++++++++-
 1 file changed, 24 insertions(+), 1 deletion(-)

commit 01e005edd7f0b1c9805833b07b8181a91193bdab
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jun 16 12:49:51 2013 +0200

    mbim-codegen: don't setup reader offset if no fields in message

 build-aux/mbim-codegen/Message.py | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit dd4307edd0a9f22590daf5706d9d47b191f569a4
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 13 13:42:09 2013 +0200

    build: fix builds with srcdir!=builddir

 cli/Makefile.am                         | 1 +
 docs/reference/libmbim-glib/Makefile.am | 2 ++
 libmbim-glib/Makefile.am                | 1 +
 libmbim-glib/generated/Makefile.am      | 1 +
 libmbim-glib/test/Makefile.am           | 6 ++++++
 5 files changed, 11 insertions(+)

commit 0c2a91b816124d209e8ee45114a127b2f2703bd5
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 13 12:50:18 2013 +0200

    release: bump version to 1.3.0 (development)

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a575bd33230ffca58e55d8b306b637ae880ad4be
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 13 12:38:39 2013 +0200

    release: bump version to 1.2.0

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 832b6fba372f42e2aed8f4153c655f6012010eb2
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 13 12:36:53 2013 +0200

    NEWS: update

 NEWS | 23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit aa8f3597c538767687a62409c10f60b35048f03e
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 13 12:46:15 2013 +0200

    build: use mailing list as contact address

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c7f7352d9b5dd4f55c7433c4f337b82c25d855ed
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 13 12:45:15 2013 +0200

    docs: reorder version symbols

 docs/reference/libmbim-glib/libmbim-glib-common.sections | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 910f8dd00cfd691ea4cd3e8dd380a68563561d06
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 13 12:24:42 2013 +0200

    build: setup libtool versioning for libmbim-glib

 configure.ac             | 21 +++++++++++++++++++++
 libmbim-glib/Makefile.am |  3 +++
 2 files changed, 24 insertions(+)

commit 9ac63c70d3c6b534063b1d04eab18db5b159b0aa
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 13 12:18:51 2013 +0200

    libmbim-glib,api: provide version info

 .gitignore                                         |  1 +
 configure.ac                                       | 20 ++++++-
 .../libmbim-glib/libmbim-glib-common.sections      |  8 +++
 docs/reference/libmbim-glib/libmbim-glib-docs.xml  |  1 +
 libmbim-glib/Makefile.am                           |  5 ++
 libmbim-glib/libmbim-glib.h                        |  1 +
 libmbim-glib/mbim-version.h.in                     | 69
 ++++++++++++++++++++++
 7 files changed, 104 insertions(+), 1 deletion(-)

commit 01ce054d8de1aefb4240a234ca7687293fac8530
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 6 14:17:30 2013 +0200

    basic-connect: implement 'Service Activation' command handling

    Also add unit tests for the message builder and response parser,
    as we're
    testing the new 'byte-array' type reader.

 data/mbim-service-basic-connect.json             | 13 ++++++
 libmbim-glib/test/test-message-command-builder.c | 59
 ++++++++++++++++++++++++
 libmbim-glib/test/test-message-contents.c        | 52
 +++++++++++++++++++++
 3 files changed, 124 insertions(+)

commit 51680ce50be75789897529bd3b9750a09150a97b
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 6 13:59:54 2013 +0200

    libmbim-glib: move message parser methods to private interface

 libmbim-glib/mbim-message-private.h | 35
 +++++++++++++++++++++++++++++++++++
 libmbim-glib/mbim-message.h         | 34
 ----------------------------------
 2 files changed, 35 insertions(+), 34 deletions(-)

commit 3ddfb1487cbb0c7127acf0b9e2d99a58c7513c2d
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 6 13:57:27 2013 +0200

    mbim-codegen: support new 'byte-array' type

 build-aux/mbim-codegen/Message.py | 49
 ++++++++++++++++++++++++++++++++-------
 1 file changed, 41 insertions(+), 8 deletions(-)

commit 1780b65ad786a580ab74fdb5b7b5da59315276f9
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 6 13:57:15 2013 +0200

    libmbim-glib: handle reading/writing raw byte arrays

 libmbim-glib/mbim-message-private.h |  6 ++++++
 libmbim-glib/mbim-message.c         | 34
 ++++++++++++++++++++++++++++++++++
 libmbim-glib/mbim-message.h         |  7 +++++--
 3 files changed, 45 insertions(+), 2 deletions(-)

commit c4f6331b4d1305f1ae6a554344fc2b019633d22b
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 6 13:18:55 2013 +0200

    libmbim-glib,test: unit test for the visible providers response

 libmbim-glib/test/test-message-contents.c | 109
 ++++++++++++++++++++++++++++++
 1 file changed, 109 insertions(+)

commit 2b6155213ed1316603dbde7d63196549ec91dba6
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 6 12:00:29 2013 +0200

    mbimcli: new '--query-visible-providers' action

 cli/mbimcli-basic-connect.c | 92
 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 92 insertions(+)

commit f941ce30bc994fc4ef6adcf3ad2384560065e467
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 6 11:55:38 2013 +0200

    mbimcli: new '--query-preferred-providers' action

 cli/mbimcli-basic-connect.c | 92
 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 92 insertions(+)

commit 218602afbf2a4aa03c3caf1065d3677ec1878574
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 6 11:42:38 2013 +0200

    mbimcli: new '--query-home-provider' action

 cli/mbimcli-basic-connect.c | 78
 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 78 insertions(+)

commit 80895569724cf12a60ebe8195baf7cd06461cd59
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Jun 5 18:52:33 2013 +0200

    basic-connect: implement 'Visible Providers' command handling

 data/mbim-service-basic-connect.json                     | 14
 ++++++++++++++
 docs/reference/libmbim-glib/libmbim-glib-common.sections |  5 +++++
 libmbim-glib/mbim-enums.h                                | 15
 +++++++++++++++
 3 files changed, 34 insertions(+)

commit 96836b9dcf01de82145aec0a29a5a3e554265eb9
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Jun 5 18:45:58 2013 +0200

    basic-connect: implement 'Preferred Providers' command handling

 data/mbim-service-basic-connect.json | 24 ++++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit 376ecc3f449aae42d21fb53aab244718f27dca38
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Jun 5 17:57:01 2013 +0200

    basic-connect: implement 'Home Provider' command handling

 data/mbim-service-basic-connect.json               | 29
 ++++++++++++++++++++++
 .../libmbim-glib/libmbim-glib-common.sections      |  5 ++++
 libmbim-glib/mbim-enums.h                          | 25
 +++++++++++++++++++
 3 files changed, 59 insertions(+)

commit ea51336e218c656b01fdca1bad1ca0b52484dc9d
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jun 6 12:45:45 2013 +0200

    libmbim-glib: fix reading strings within structs

    https://bugs.freedesktop.org/show_bug.cgi?id=65452

 build-aux/mbim-codegen/Message.py | 4 ++--
 build-aux/mbim-codegen/Struct.py  | 4 ++--
 libmbim-glib/mbim-message.c       | 6 ++++--
 libmbim-glib/mbim-message.h       | 2 ++
 4 files changed, 10 insertions(+), 6 deletions(-)

commit af4299e9cb8160275d20938fd42ddb1ab347fa87
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Jun 4 17:43:05 2013 +0200

    cli: new '--query-signal-state' option

    E.g.:
        $ sudo mbimcli -d /dev/cdc-wdm0 --query-signal-state
        [/dev/cdc-wdm0] Signal state:
                      RSSI [0-31,99]: '10'
                 Error rate [0-7,99]: '99'
            Signal strength interval: '5'
                      RSSI threshold: '5'
                Error rate threshold: '0'

 cli/mbimcli-basic-connect.c | 75
 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 75 insertions(+)

commit 69c0239869825d9304f10fd05960f5150683f046
Author: Shawn J. Goff <shawn.goff@accelecon.com>
Date:   Fri May 31 12:56:01 2013 -0400

    mbim-network: query ready status and registration state before
    connecting

    Some modems (such as the 340u) requre these two queries before it
    will attach to the packet service.

    Signed-off-by: Shawn J. Goff <shawn.goff@accelecon.com>

 utils/mbim-network | 27 ++++++++++++++++++++++++++-
 1 file changed, 26 insertions(+), 1 deletion(-)

commit 474b0e2332faf381972b6bbd0b11bbd503da1c44
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu May 30 14:00:23 2013 +0200

    mbim-network: explicitly attach to packet service during connection
    setup

 utils/mbim-network | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 967f0c948fd65b079cbc99c0b0859968ba08552f
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu May 30 13:55:35 2013 +0200

    mbim-network: setup MBIM session keeping TRIDs between commands

 utils/mbim-network | 77
 ++++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 75 insertions(+), 2 deletions(-)

commit 253255f4ca7dfdca3402ac30ccd0fc7a79d86be5
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu May 30 13:40:07 2013 +0200

    cli: new '--noop' action

    Allow opening or closeing a device without running any action.

    E.g.:

    Open device:
      $> sudo mbimcli -d /dev/cdc-wdm0 --noop --no-close
      [/dev/cdc-wdm1] Session not closed:
                TRID: '2'

    Run a command:
      $> sudo mbimcli -d /dev/cdc-wdm1 --query-radio-state --no-open=2
      --no-close
      [/dev/cdc-wdm1] Radio state retrieved:
                 Hardware Radio State: 'on'
                 Software Radio State: 'on'
      [/dev/cdc-wdm1] Session not closed:
                TRID: '3'

    Close device:
      $> sudo mbimcli -d /dev/cdc-wdm0 --noop --no-open=3

 cli/mbimcli.c | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 85c830ef87770d151d096b4279494363fd79de66
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu May 30 13:26:47 2013 +0200

    cli: new --no-open option

    We now can open the MBIM device only once, like starting a session,
    and properly
    follow the transaction IDs to use.

    We also now dump the next transaction id when --no-close is given.

    E.g.:

    $ sudo mbimcli -d /dev/cdc-wdm1 --query-radio-state --no-close
    [/dev/cdc-wdm1] Radio state retrieved:
                 Hardware Radio State: 'on'
                 Software Radio State: 'on'
    [/dev/cdc-wdm1] Session not closed:
                TRID: '3'

    $ sudo mbimcli -d /dev/cdc-wdm1 --query-radio-state --no-open=3
    --no-close
    [/dev/cdc-wdm1] Radio state retrieved:
                 Hardware Radio State: 'on'
                 Software Radio State: 'on'
    [/dev/cdc-wdm1] Session not closed:
                TRID: '4'

    $ sudo mbimcli -d /dev/cdc-wdm1 --query-radio-state --no-open=4
    --no-close
    [/dev/cdc-wdm1] Radio state retrieved:
                 Hardware Radio State: 'on'
                 Software Radio State: 'on'
    [/dev/cdc-wdm1] Session not closed:
                TRID: '5'

    $ sudo mbimcli -d /dev/cdc-wdm1 --query-radio-state --no-open=5
    [/dev/cdc-wdm1] Radio state retrieved:
                 Hardware Radio State: 'on'
                 Software Radio State: 'on'

 cli/mbimcli.c | 69
 +++++++++++++++++++++++++++++++++++++++++++++++++++++------
 1 file changed, 63 insertions(+), 6 deletions(-)

commit 73c7e8faf3896feede31507313b53e224efd1cb3
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu May 30 13:01:46 2013 +0200

    libmbim-glib, device: new properties to handle in-session support

    When a MbimDevice is created, one can then set the 'device-in-session'
    boolean
    property to specify that the device shouldn't attempt to send OPEN
    or CLOSE
    messages.

    Also, a new 'device-transaction-id' property is added to be able
    to specify
    which is the first transaction ID to use by the MbimDevice.

 .../libmbim-glib/libmbim-glib-common.sections      |  2 +
 libmbim-glib/mbim-device.c                         | 54
 ++++++++++++++++++++++
 libmbim-glib/mbim-device.h                         |  4 +-
 3 files changed, 59 insertions(+), 1 deletion(-)

commit 6fda134dc27d8d24f1cd3638b65a29d86f18e1d6
Author: Shawn J. Goff <shawn7400@gmail.com>
Date:   Tue May 28 10:09:59 2013 -0400

    mbimcli: use G_GUINT_64_FORMAT not "%lu" to format a guint64

 cli/mbimcli-basic-connect.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3fd1a15573fc0dff3db5a1609e38feca8cf8d168
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu May 30 12:16:25 2013 +0200

    libmbim-glib,tests: new Subscriber Ready Status response parser test

 libmbim-glib/test/test-message-contents.c | 102
 ++++++++++++++++++++++++++++++
 1 file changed, 102 insertions(+)

commit c454956ea4c1e71aad401d2b77bfb06dc7561a1b
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu May 30 12:15:57 2013 +0200

    libmbim-glib,mbim-message: fix string array reading

    https://bugs.freedesktop.org/show_bug.cgi?id=65166

 libmbim-glib/mbim-message.c | 35 ++++++-----------------------------
 1 file changed, 6 insertions(+), 29 deletions(-)

commit c6e85eb1dae14eecb1958d096fe3b8c499b630f1
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 22 15:55:39 2013 +0200

    release: update NEWS

    Shit, left this in a branch somewhere... well, it'll be there for
    the next
    release :)

 NEWS | 31 +++++++++++++++++++++++++++++++
 1 file changed, 31 insertions(+)

commit f64729fe893f0931e8e3cc872a457b282325bf4c
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 22 16:30:45 2013 +0200

    release: bump version to 1.1.0 (development)

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0e71ca1626d77a60924f3363db7243325532ca31
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 22 16:20:29 2013 +0200

    release: bump version to 1.0.0

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 93a7bd93a4a443d0164af067a5dda21e9f0b141b
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 22 15:39:55 2013 +0200

    mbimcli: add missing newlines in several errors printed

 cli/mbimcli-basic-connect.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 2d948cb9a8990af7f0eeb15c7f437dd77c593afd
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 22 15:37:12 2013 +0200

    utils: new 'mbim-network' script

    Equivalent to the 'qmi-network' script in libqmi, it helps to launch
    a MBIM
    based connection from the shell.

 Makefile.am        |   2 +-
 configure.ac       |   1 +
 utils/Makefile.am  |   2 +
 utils/mbim-network | 150
 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 154 insertions(+), 1 deletion(-)

commit 983ca22789f53fb2311cacb202224e5c901b742c
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 22 15:22:52 2013 +0200

    mbimcli: new '--no-close' global option to keep the Device open

    When launching a connection through mbimcli, we need to keep the
    MbimDevice
    open, i.e. we should not explicitly close it, or the connection will
    also be
    lost. E.g:

    $ sudo mbimcli -d /dev/cdc-wdm0 --connect="Internet"
        [/dev/cdc-wdm0] Successfully connected
        [/dev/cdc-wdm0] Connection status:
                  Session ID: '0'
            Activation state: 'activated'
            Voice call state: 'none'
                     IP type: 'ipv4'
                Context type: 'internet'
               Network error: 'unknown'

    $ sudo mbimcli -d /dev/cdc-wdm0 --disconnect="0"
        error: operation failed: ContextNotActivated

    $ sudo mbimcli -d /dev/cdc-wdm0 --connect="Internet" --no-close
        [/dev/cdc-wdm0] Successfully connected
        [/dev/cdc-wdm0] Connection status:
                  Session ID: '0'
            Activation state: 'activated'
            Voice call state: 'none'
                     IP type: 'ipv4'
                Context type: 'internet'
               Network error: 'unknown'

    $ sudo mbimcli -d /dev/cdc-wdm0 --disconnect="0"
    [/dev/cdc-wdm0] Successfully disconnected
    [/dev/cdc-wdm0] Connection status:
                  Session ID: '0'
            Activation state: 'deactivated'
            Voice call state: 'none'
                     IP type: 'default'
                Context type: 'internet'
               Network error: 'unknown'

 cli/mbimcli.c | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit e27ad84cdb5f7a7d5dd4137da3d6cbe5fd67d365
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 22 15:08:42 2013 +0200

    mbimcli: assume session ID '0' when disconnecting

    We do assume session ID '0' when connecting, just assume the same
    one when
    disconnecting.

 cli/mbimcli-basic-connect.c | 21 ++++++---------------
 1 file changed, 6 insertions(+), 15 deletions(-)

commit 30808cd574c3d30ba801685dcfbd6875f7fbae45
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 22 12:58:45 2013 +0200

    mbimcli: new attach, detach and packet service status query operations

 cli/mbimcli-basic-connect.c | 145
 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 145 insertions(+)

commit a8bb313295c943c60a10e3e31055cfd2d58f2cc2
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 22 12:31:52 2013 +0200

    mbimcli: new automatic register and registration state query
    operations

 cli/mbimcli-basic-connect.c | 141
 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 141 insertions(+)

commit a0109efc83d27cf68abbc59ca1408e1006af27a1
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 22 12:06:51 2013 +0200

    mbimcli: new connect, disconnect and connection state query operations

 cli/mbimcli-basic-connect.c | 283
 +++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 280 insertions(+), 3 deletions(-)

commit 6cc55eb01ce28f1bbc4112fdba79b621c13766f5
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 22 12:06:16 2013 +0200

    libmbim-glib: add 'MBIM_NW_ERROR_UNKNOWN'

    When a reply comes with a NwError field which is not needed, the
    modem may set
    it to 0.

 libmbim-glib/mbim-enums.h | 2 ++
 1 file changed, 2 insertions(+)

commit e3bfbe40bfad75674af003730204efb30e782fd2
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 22 10:57:43 2013 +0200

    mbimcli: don't name the action based on the MBIM command

    Naming the action based on the service and command ID is just
    confusing as hell,
    so leave the confusion only internally.

 cli/mbimcli-basic-connect.c | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 130d501e3163b33d0e593f9503a8dc8b8ae10f93
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 22 10:48:01 2013 +0200

    mbimcli: new enter, enable, disable, change PIN operations

 cli/mbimcli-basic-connect.c | 191
 ++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 174 insertions(+), 17 deletions(-)

commit eacedac68ec8af525f85c71f573aaa06bdba8142
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 22 10:47:11 2013 +0200

    libmbim-glib: add 'MBIM_PIN_TYPE_UNKNOWN'

    When a reply comes with a PinType field which is not needed, the
    modem may set
    it to 0.

 libmbim-glib/mbim-enums.h | 2 ++
 1 file changed, 2 insertions(+)

commit a96e09f20eb9e9a8fb33a22b17b1b2d72c96d734
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 18:14:09 2013 +0200

    mbim-codegen: fix generation of struct _free() methods

 build-aux/mbim-codegen/Struct.py | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0c30e9c27b82cb9c136afe3194ac01bb90b37e28
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 17:30:34 2013 +0200

    docs: add missing section documentations

 libmbim-glib/mbim-cid.c   | 7 +++++++
 libmbim-glib/mbim-enums.h | 7 +++++++
 libmbim-glib/mbim-uuid.c  | 7 +++++++
 3 files changed, 21 insertions(+)

commit dafaa83761a9514bccfe64c9fc2c3ff7ceeb23cf
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 17:21:50 2013 +0200

    docs: setup sections for commands

 build-aux/mbim-codegen/Message.py                  | 32
 ++++++++++++++++++++--
 build-aux/mbim-codegen/ObjectList.py               | 18 ++++++------
 build-aux/mbim-codegen/Struct.py                   |  2 +-
 docs/reference/libmbim-glib/Makefile.am            | 18 +++++++++++-
 ...b-sections.txt => libmbim-glib-common.sections} |  0
 docs/reference/libmbim-glib/libmbim-glib-docs.xml  |  5 ++++
 6 files changed, 61 insertions(+), 14 deletions(-)

commit e237b5e2b499a25fc7a11ee7a1fc3877cf4cd6c4
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 16:57:28 2013 +0200

    mbim-codegen: generate section for all service specific data types

 build-aux/mbim-codegen/ObjectList.py | 19 +++++++++++++++++++
 build-aux/mbim-codegen/Struct.py     | 18 ++++++++++++++++++
 2 files changed, 37 insertions(+)

commit e73d0a50b1d78d38d36001ba70d900081630f216
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 16:57:06 2013 +0200

    mbim-codegen: require a 'Service' entry in the data file

 build-aux/mbim-codegen/ObjectList.py | 6 ++++++
 data/mbim-service-basic-connect.json | 4 ++++
 2 files changed, 10 insertions(+)

commit a7bacab3aaa70dccb8767e543ef6b455ddaf266e
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 16:31:47 2013 +0200

    mbim-codegen: only generate _free() and _array_free() methods
    when needed

 build-aux/mbim-codegen/Message.py    |  2 +-
 build-aux/mbim-codegen/ObjectList.py | 23 +++++++++
 build-aux/mbim-codegen/Struct.py     | 90
 +++++++++++++++++++++++-------------
 3 files changed, 82 insertions(+), 33 deletions(-)

commit d5af6a58ad8f6c2aca9865300536f4f6d43724a8
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 15:14:59 2013 +0200

    mbim-codegen: document generated structs

 build-aux/mbim-codegen/Struct.py | 46
 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 46 insertions(+)

commit dee368d110aa1c65cb4481da1d5c0e42d31381a2
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 14:41:59 2013 +0200

    libmbim-glib,message: fix documentation

 libmbim-glib/mbim-message.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4e5ac4671e0a6b40da174ac91c5408d7a47c916c
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 14:40:46 2013 +0200

    templates: include documentation for the _get_string() methods in
    the errors

 build-aux/templates/mbim-error-types-template.c | 8 ++++++++
 1 file changed, 8 insertions(+)

commit e7a28a9c9cb1ccbd7c6f39c90161e38502b5bd38
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 14:40:22 2013 +0200

    libmbim-glib,cid: add missing method documentations

 libmbim-glib/mbim-cid.c | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 6a54897e3d07cf04bbbc0cb331be4e63a8021b44
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 14:39:56 2013 +0200

    libmbim-glib,device: document signals

 libmbim-glib/mbim-device.c | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 6fcfb4eaa8a111778b6339f5af836f9a7b9e57e9
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 14:29:07 2013 +0200

    libmbim-glib,device: fix documentation

 libmbim-glib/mbim-device.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7c7f538aa704fcc923b76fa779bf82b770fe295e
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 14:27:49 2013 +0200

    docs: rework libmbim-glib sections

 .../libmbim-glib/libmbim-glib-sections.txt         | 439
 +++++++++------------
 1 file changed, 197 insertions(+), 242 deletions(-)

commit 2243afaf392364b4ff0f4010f236cb05a6829943
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 13:56:35 2013 +0200

    libmbim-glib,message: define the MbimMessage privately

    Even if for now it's a typedef of GByteArray, don't force the API
    to always
    remain like that.

 libmbim-glib/mbim-device.c          |  2 +-
 libmbim-glib/mbim-message-private.h |  9 +++++++++
 libmbim-glib/mbim-message.c         | 10 +++++-----
 libmbim-glib/mbim-message.h         |  2 +-
 4 files changed, 16 insertions(+), 7 deletions(-)

commit 5a6be505c8dff409d69e31fa4a7052b3df5c3ccd
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 11:35:46 2013 +0200

    libmbim-glib,message: document missing fields

 libmbim-glib/mbim-message.c | 5 ++++-
 libmbim-glib/mbim-message.h | 2 ++
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 3c9362c3b98b392bf97689b4a3cdb46c65717686
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 11:35:31 2013 +0200

    libmbim-glib: builder declarations moved to the private message header

 libmbim-glib/mbim-message-private.h              | 84
 ++++++++++++++++++++++++
 libmbim-glib/mbim-message.h                      | 81
 -----------------------
 libmbim-glib/test/test-message-command-builder.c |  1 +
 3 files changed, 85 insertions(+), 81 deletions(-)

commit a1784a7ba977ad4c5a2acc6344fbbaac352fbff8
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 10:37:45 2013 +0200

    libmbim-glib,uuid: avoid gtk-doc problems with __attribute__

    See https://bugzilla.gnome.org/show_bug.cgi?id=655128

 libmbim-glib/mbim-uuid.h | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 6107ecd417ff5d7bf11279a74d3a9999eac2f391
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue May 21 10:07:45 2013 +0200

    build: add default distcheck flags

 Makefile.am | 4 ++++
 1 file changed, 4 insertions(+)

commit 7953e95e8261cb2faaa938558b25ea2d439a739c
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 15 18:00:00 2013 +0200

    docs: setup building documentation

 .gitignore                                         |  16 +
 Makefile.am                                        |   2 +-
 configure.ac                                       |   6 +-
 docs/Makefile.am                                   |   1 +
 docs/reference/Makefile.am                         |   1 +
 docs/reference/libmbim-glib/Makefile.am            |  76 ++++
 docs/reference/libmbim-glib/libmbim-glib-docs.xml  |  65 ++++
 .../libmbim-glib/libmbim-glib-sections.txt         | 412
 +++++++++++++++++++++
 docs/reference/libmbim-glib/version.xml.in         |   1 +
 9 files changed, 578 insertions(+), 2 deletions(-)

commit 1cbfa858d9327f34a42671f1fb9765a2cecdcb94
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 15 17:52:11 2013 +0200

    build: fix passing arguments to autogen.sh

 autogen.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 51c11418eea6368cbc6db74a4bdb19ab8d3b8b6e
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 15 17:51:50 2013 +0200

    build: better check for top-level source directory

 autogen.sh | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2e212d39f8bc0904ce5ad4f195c4b775283ea7f5
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed May 15 17:50:42 2013 +0200

    build: look for gtk-doc

 .gitignore   | 1 +
 autogen.sh   | 1 +
 configure.ac | 4 ++++
 3 files changed, 6 insertions(+)

commit d8fb10acfa467480171cc14d2060c73a9b938c7d
Author: Dan Williams <dcbw@redhat.com>
Date:   Fri May 17 14:19:55 2013 -0500

    libmbim-glib: use g_set_error_literal() where appropriate

 libmbim-glib/mbim-device.c  | 16 ++++++++--------
 libmbim-glib/mbim-message.c |  8 ++++----
 2 files changed, 12 insertions(+), 12 deletions(-)

commit ce13933c70b1ce4576ed283e0a5e0030b0cdfff7
Author: Marius B. Kotsbak <marius@kotsbak.com>
Date:   Fri May 17 21:22:40 2013 +0200

    libmbim-glib: fix compile warning/error.

    Use g_set_error_literal(...) instead of g_set_error(...)
    when no printf format string used.

 libmbim-glib/mbim-message.c | 24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit cb669e86fcb44db73f4de135e2d57c9ec68760f6
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri May 17 23:04:32 2013 +0200

    build: use -Wformat-security

 m4/compiler-warnings.m4 | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 953e5c4d0eb17d6effe027546dc4e3f9d93e3b55
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Apr 17 16:17:02 2013 +0200

    release: bump version to 0.0.2

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a9ec433ba1f35772d586c8b3172f92f9595dbecb
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Apr 17 12:08:25 2013 +0200

    mbim-device: try to get max control message size from the descriptors
    file

    Logic provided by Bjørn Mork <bjorn@mork.no>

    When the ioctl() call fails (e.g. Linux < 3.10), we try to read the
    max control
    message size for MBIM devices by reading the descriptors file
    ourselves, without
    using libusb.

    The implementation ignores the possibility of one device using
    multiple CDC MBIM
    descriptors with different wMaxControlMessage values, or another
    interface
    specific functional descriptor using the exact same code and length
    but belonging
    to another class (Bjørn actually bets *two* beers that this will
    never happen).

 configure.ac               |   3 +-
 libmbim-glib/mbim-device.c | 134
 ++++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 134 insertions(+), 3 deletions(-)

commit c310e9e32c799594b83542795e972bf2a98940eb
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Apr 16 22:33:03 2013 +0200

    libmbim-glib,device: retry the 'Open' command several times

 libmbim-glib/mbim-device.c | 49
 ++++++++++++++++++++++++++++++++++------------
 1 file changed, 36 insertions(+), 13 deletions(-)

commit df0804ca512cf8ada3a7262f0edeb07f2c6f7ead
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Apr 14 21:12:57 2013 +0200

    mbim-codegen: huge refactor

    I really don't want to split this change into different commits...

    The overall changes are:
     * Skip using Value classes, it just complicates the logic a bit
     here. MBIM is
       not as complicated as QMI, so it's fine to define all the logic
       of the
       generation into 2 main parts: Message creation/parsing and
       Struct types.

     * Support for IPv4 and IPv6 values and arrays. If any of the MBIM
     protocol
       designers reads this, be aware that I've been cursing you all in
       the past
       few days. If you decided to reference IPs as offsets, why the
       hell don't
       you do the same when the values are defined within a struct?

     * Implement the 'IP configuration' message handling

     * Support for appending structs and arrays of structs into
     messages. Not fully
       implemented yet, anyway.

 build-aux/mbim-codegen/Container.py        |  93 ----
 build-aux/mbim-codegen/Makefile.am         |   9 -
 build-aux/mbim-codegen/Message.py          | 695
 +++++++++++++++++++++--------
 build-aux/mbim-codegen/Struct.py           | 270 ++++++++++-
 build-aux/mbim-codegen/Value.py            |  70 ---
 build-aux/mbim-codegen/ValueString.py      |  55 ---
 build-aux/mbim-codegen/ValueStringArray.py |  60 ---
 build-aux/mbim-codegen/ValueStruct.py      |  60 ---
 build-aux/mbim-codegen/ValueStructArray.py |  63 ---
 build-aux/mbim-codegen/ValueUint32.py      |  55 ---
 build-aux/mbim-codegen/ValueUint32Array.py |  57 ---
 build-aux/mbim-codegen/ValueUint64.py      |  55 ---
 build-aux/mbim-codegen/ValueUuid.py        |  55 ---
 data/mbim-service-basic-connect.json       | 139 +++++-
 libmbim-glib/mbim-enums.h                  |  21 +
 libmbim-glib/mbim-message.c                | 300 ++++++++++++-
 libmbim-glib/mbim-message.h                | 150 +++++--
 libmbim-glib/test/test-message-contents.c  | 139 ++++++
 18 files changed, 1447 insertions(+), 899 deletions(-)

commit d639ad7654bed7a9fec1eb6d1f01fa327f3ec10d
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Apr 16 18:42:02 2013 +0200

    mbim-codegen: don't treat 'IP' as a CamelCase substring

 build-aux/mbim-codegen/utils.py | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f5e612b72297fcf40f5efe268c41ea73e9fc96ad
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Apr 14 14:05:05 2013 +0200

    basic-connect: implement 'Packet Service' command handling

 data/mbim-service-basic-connect.json | 34
 ++++++++++++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 43a8ba9f292348946be6adb6e8f73a0064444911
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Apr 14 14:04:47 2013 +0200

    mbim-codegen: implement guint64 support

 build-aux/mbim-codegen/Container.py   |  3 ++
 build-aux/mbim-codegen/Message.py     |  5 ++++
 build-aux/mbim-codegen/Struct.py      | 10 +++++++
 build-aux/mbim-codegen/ValueUint64.py | 55
 +++++++++++++++++++++++++++++++++++
 libmbim-glib/mbim-message.c           | 31 ++++++++++++++++++++
 libmbim-glib/mbim-message.h           |  6 ++++
 6 files changed, 110 insertions(+)

commit 775b00e7d0858b36e90db6e72b7c24f31070e67e
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Apr 14 12:56:54 2013 +0200

    libmbim-glib,test: unit tests for the 'Connect' message builder

 libmbim-glib/test/test-message-command-builder.c | 163
 +++++++++++++++++++++++
 1 file changed, 163 insertions(+)

commit 2fde51e285e2446b469fbb18439397f5009aa895
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Apr 14 11:36:05 2013 +0200

    libmbim-glib: print basic info for 'Indicate Status' messages

 libmbim-glib/mbim-message.c | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit f2c94205236d491f9d5c01b9da6b0b7eab93acae
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Apr 14 09:46:12 2013 +0200

    basic-connect: implement 'Connect' command handling

 data/mbim-service-basic-connect.json | 72
 ++++++++++++++++++++++++++++++++++++
 1 file changed, 72 insertions(+)

commit ac3ef2025982260642bd6cac10b70c224d3c2ba2
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Apr 14 09:45:53 2013 +0200

    mbim-codegen: allow UUIDs in 'get' containers

 build-aux/mbim-codegen/Message.py | 5 +++++
 1 file changed, 5 insertions(+)

commit 2ba7abc59a9cafc39ebf3d959946c46cf0a5e0ab
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Apr 14 08:45:04 2013 +0200

    basic-connect: implement 'Provisioned Contexts' command handling

 data/mbim-service-basic-connect.json | 55
 ++++++++++++++++++++++++++++++++++++
 1 file changed, 55 insertions(+)

commit fc0bd11018d8c27c0c480aff9d4fb0909e4b59d5
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Apr 14 08:44:26 2013 +0200

    mbim-codegen: allow UUIDs in 'set' containers

 build-aux/mbim-codegen/Container.py |  1 +
 libmbim-glib/mbim-message.c         | 15 +++++++++++++++
 libmbim-glib/mbim-message.h         |  4 ++++
 3 files changed, 20 insertions(+)

commit 5a089eac3b11c262f7ed78f06bdc3431a3400962
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sat Apr 13 23:09:57 2013 +0200

    libmbim-glib,uuid: handle Context Type UUIDs

 libmbim-glib/mbim-uuid.c | 214
 +++++++++++++++++++++++++++++++++++++++++------
 libmbim-glib/mbim-uuid.h |  44 +++++++++-
 2 files changed, 229 insertions(+), 29 deletions(-)

commit 6e19174edbed14951b322588126b39f5b15b51fe
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sat Apr 13 22:39:30 2013 +0200

    uuid: rename 'mm_uuid_get()' to 'mm_uuid_from_service()'

 libmbim-glib/mbim-message.c |  2 +-
 libmbim-glib/mbim-uuid.c    | 74
 ++++++++++++++++++++++-----------------------
 libmbim-glib/mbim-uuid.h    | 22 ++++++++------
 3 files changed, 50 insertions(+), 48 deletions(-)

commit 84012f56319017525c3006c26148384e43e73a2d
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sat Apr 13 16:44:43 2013 +0200

    basic-connect: implement 'Register State' command handling

 data/mbim-service-basic-connect.json | 62 +++++++++++++++++++++++
 libmbim-glib/mbim-enums.h            | 97
 ++++++++++++++++++++++++++++++++++++
 2 files changed, 159 insertions(+)

commit 8fb18787c084ed394ec4cd50fc59d00613ab2b8e
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sat Apr 13 15:41:56 2013 +0200

    mbim-codegen: fix generation of the notification parsers

 build-aux/mbim-codegen/Message.py | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 3ec4e001bf637f429f02c4ccb8dd314baff9a1a7
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sat Apr 13 15:34:52 2013 +0200

    libmbim-glib: implement 'Indicate Status' message type interface

 libmbim-glib/mbim-message-private.h | 23 ++++++----
 libmbim-glib/mbim-message.c         | 84
 +++++++++++++++++++++++++++++++++++--
 libmbim-glib/mbim-message.h         |  9 ++++
 3 files changed, 106 insertions(+), 10 deletions(-)

commit d617eba4843b02408eabfce5be49e35649c85444
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sat Apr 13 15:27:18 2013 +0200

    basic-connect: implement 'Signal State' command handling

 data/mbim-service-basic-connect.json | 32
 ++++++++++++++++++++++++++++++++
 1 file changed, 32 insertions(+)

commit 3c823294bed69a6ff550695130d592f94cd1e9ac
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sat Apr 13 15:18:24 2013 +0200

    libmbim-glib: fix 'MbimContextIpType' enum prefix

 libmbim-glib/mbim-enums.h | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 888849d5e9894162dae40a44e18062533f4e2892
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sat Apr 13 15:15:34 2013 +0200

    libmbim-glib,device: rename signal from 'INDICATION' to
    'INDICATE_STATUS'

 libmbim-glib/mbim-device.c | 8 ++++----
 libmbim-glib/mbim-device.h | 4 ++--
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 787e036e8b7a2c8106a46f57ad5070405c6f0d2f
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sat Apr 13 13:38:44 2013 +0200

    basic-connect: implement 'Pin List' command handling

 data/mbim-service-basic-connect.json | 49
 ++++++++++++++++++++++++++++++++++++
 libmbim-glib/mbim-enums.h            | 31 +++++++++++++++++++++++
 2 files changed, 80 insertions(+)

commit d860f575cd8a42b37f55a71b8e2df1ebf9b10cf4
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sat Apr 13 13:38:18 2013 +0200

    mbim-codegen: allow reading single structs from messages

 build-aux/mbim-codegen/Message.py     | 64
 +++++++++++++++++++++++++----------
 build-aux/mbim-codegen/Struct.py      |  9 +++--
 build-aux/mbim-codegen/ValueStruct.py |  2 +-
 3 files changed, 54 insertions(+), 21 deletions(-)

commit aef937df60e541aca7916156855601683707c97a
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sat Apr 13 12:48:10 2013 +0200

    libmbim-glib: align some enum values

 libmbim-glib/mbim-enums.h | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit eb041d501cd5b403ae24f654e8462a2e0baf8809
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Apr 11 20:21:56 2013 +0200

    libmbim-glib: rename 'INDICATION' enum to 'INDICATE_STATUS'

    Keeping the same name as in the docs.

 build-aux/mbim-codegen/Container.py |  2 +-
 libmbim-glib/mbim-device.c          |  4 ++--
 libmbim-glib/mbim-message.c         |  8 ++++----
 libmbim-glib/mbim-message.h         | 22 +++++++++++-----------
 4 files changed, 18 insertions(+), 18 deletions(-)

commit f9e3f791c9e53e604cdd2e2fe35e735a0cc34259
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Apr 11 20:07:12 2013 +0200

    mbim-codegen: properly define the 4 types of messages that we may have

    MBIM defines 4 types of messages:
     * Query       (host->function)
     * Set         (host->function)
     * Response    (function->host)
     * Indication  (function->host)

    In particular, the Response message is used as reply for both Query
    and Set.

 build-aux/mbim-codegen/Container.py              |  38 +---
 build-aux/mbim-codegen/Message.py                |  91 +++++-----
 cli/mbimcli-basic-connect.c                      |  20 +--
 data/mbim-service-basic-connect.json             | 217
 ++++++++++++-----------
 libmbim-glib/test/test-message-command-builder.c |  10 +-
 libmbim-glib/test/test-message-contents.c        |   2 +-
 6 files changed, 176 insertions(+), 202 deletions(-)

commit 0d2dbd0585075d1b339fbe411e4f188c03f8d5dd
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Apr 11 19:32:00 2013 +0200

    mbim-codegen: let the field names be written in CamelCase, as in
    the docs

    Write all field names in CamelCase, to match the name given in
    the docs.

 build-aux/mbim-codegen/Message.py    | 20 ++++-----
 build-aux/mbim-codegen/Struct.py     | 10 ++---
 build-aux/mbim-codegen/utils.py      |  2 +
 data/mbim-service-basic-connect.json | 80
 ++++++++++++++++++------------------
 4 files changed, 57 insertions(+), 55 deletions(-)

commit 453b34db2b478bafa5fae2e9630a17a79bf0cf0a
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Apr 11 19:10:42 2013 +0200

    libmbim-glib: fix DBus error names

 libmbim-glib/mbim-errors.h | 84
 +++++++++++++++++++++++-----------------------
 1 file changed, 42 insertions(+), 42 deletions(-)

commit a7d4325faf0d139cfa6ac21340844fa6f985d25a
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Apr 11 10:13:40 2013 +0200

    mbim-codegen: skip requiring transaction ID in command request
    builders

 build-aux/mbim-codegen/Message.py                | 11 ++++-------
 cli/mbimcli-basic-connect.c                      | 20
 +++++---------------
 libmbim-glib/test/test-message-command-builder.c |  4 ++--
 3 files changed, 11 insertions(+), 24 deletions(-)

commit 7c4eb94cc5e59a6d40ea20cc86656371f7891919
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Apr 11 10:13:15 2013 +0200

    device: add the transaction ID ourselves when sending the command
    if none given

 libmbim-glib/mbim-device.c | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit fc1bd81f42d3920250b6550f13d05c4609e46cb6
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Apr 11 10:07:14 2013 +0200

    message: allow updating the transaction ID

 libmbim-glib/mbim-message.c | 21 +++++++++++++++++++++
 libmbim-glib/mbim-message.h |  3 +++
 2 files changed, 24 insertions(+)

commit 3bbb1874f73dc98a43f50811251ed6cdb0ab96f1
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Apr 11 10:06:42 2013 +0200

    message: fix invalid enum castings

 libmbim-glib/mbim-message-private.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 49f0a99e4ce47ba93aaab1ade4df88f06110dc41
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Apr 10 19:16:07 2013 +0200

    mbim-codegen: simplify API

    Instead of per-variable getters, just dump a parser() method which
    reads all the
    requested variables from the message.

    Same logic for the message creators, passing all variables altogether.

 build-aux/mbim-codegen/Container.py              | 140 ++------------
 build-aux/mbim-codegen/Message.py                | 225
 +++++++++++++++++++---
 build-aux/mbim-codegen/Struct.py                 |   6 +-
 build-aux/mbim-codegen/Value.py                  |  17 +-
 build-aux/mbim-codegen/ValueString.py            |  13 +-
 build-aux/mbim-codegen/ValueStringArray.py       |  16 +-
 build-aux/mbim-codegen/ValueStruct.py            |  15 +-
 build-aux/mbim-codegen/ValueStructArray.py       |  13 +-
 build-aux/mbim-codegen/ValueUint32.py            |  13 +-
 build-aux/mbim-codegen/ValueUint32Array.py       |  15 +-
 build-aux/mbim-codegen/ValueUuid.py              |  13 +-
 cli/mbimcli-basic-connect.c                      | 230
 ++++++++++++++++-------
 data/mbim-service-basic-connect.json             |  67 ++++---
 libmbim-glib/test/test-message-command-builder.c |  73 ++++++-
 libmbim-glib/test/test-message-contents.c        |  76 +++++---
 15 files changed, 586 insertions(+), 346 deletions(-)

commit 916d20baf46d5bd59204e8910a516b6d1bf50497
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Wed Apr 10 19:12:21 2013 +0200

    device: just log debug about the issue with the ioctl() command

 libmbim-glib/mbim-device.c | 12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit df270c52e9f99f9c4a388449554db91294c22613
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Apr 9 10:22:25 2013 +0200

    libmbim-glib: new struct type builder

 libmbim-glib/mbim-message.c | 163
 +++++++++++++++++++++++++++++++-------------
 libmbim-glib/mbim-message.h |  18 +++++
 2 files changed, 134 insertions(+), 47 deletions(-)

commit da291f91ff04ad15335e8936646a08cd5b5c2dbe
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Apr 9 02:09:17 2013 +0200

    libmbim-glib: new command message builder

 .gitignore                                       |   1 +
 libmbim-glib/mbim-message.c                      | 133
 ++++++++++++++++++++++
 libmbim-glib/mbim-message.h                      |  27 ++++-
 libmbim-glib/mbim-utils.h                        |   1 -
 libmbim-glib/test/Makefile.am                    |  20 +++-
 libmbim-glib/test/test-message-command-builder.c | 136
 +++++++++++++++++++++++
 6 files changed, 310 insertions(+), 8 deletions(-)

commit a9e5f4547972c2eeab884b1e507b3687b26a41e5
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Apr 7 22:34:47 2013 +0200

    basic-connect: new 'MbimRadioSwitchState' enum

 data/mbim-service-basic-connect.json |  4 ++--
 libmbim-glib/mbim-enums.h            | 14 ++++++++++++++
 2 files changed, 16 insertions(+), 2 deletions(-)

commit 5151d67bf20d7d3211cf1022f1d7ae74cd4ee86c
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Apr 7 20:39:02 2013 +0200

    basic-connect: fix some field names

 cli/mbimcli-basic-connect.c          | 11 +++++------
 data/mbim-service-basic-connect.json | 26 +++++++++++++-------------
 2 files changed, 18 insertions(+), 19 deletions(-)

commit 187f5f3bc0708f6a4c8e0bd4a7b2b40322626e9d
Author: Bjørn Mork <bjorn@mork.no>
Date:   Sat Apr 6 20:36:00 2013 +0200

    cli: new '--basic-connect-query-pin' command

    Signed-off-by: Bjørn Mork <bjorn@mork.no>

 cli/mbimcli-basic-connect.c | 53
 ++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 52 insertions(+), 1 deletion(-)

commit 184a962a8e50231d8d070649a065c355fca371f9
Author: Bjørn Mork <bjorn@mork.no>
Date:   Sat Apr 6 20:35:59 2013 +0200

    libmbim-glib,device: use IOCTL_WDM_MAX_COMMAND

    Signed-off-by: Bjørn Mork <bjorn@mork.no>

 libmbim-glib/mbim-device.c | 24 +++++++++++++++++++++---
 1 file changed, 21 insertions(+), 3 deletions(-)

commit a12629a0ed72a1de4b89d5e3c89d8e7e7d1c76b9
Author: Bjørn Mork <bjorn@mork.no>
Date:   Sat Apr 6 20:35:58 2013 +0200

    libmbim-glib: add 'Packet Service' and 'Connect' enums

    Signed-off-by: Bjørn Mork <bjorn@mork.no>

 libmbim-glib/mbim-enums.h | 126
 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 126 insertions(+)

commit 3edef7085949ab0a33a2df19af709ef13159dd48
Author: Bjørn Mork <bjorn@mork.no>
Date:   Sat Apr 6 20:35:57 2013 +0200

    basic-connect: implement 'Pin' command handling

    Signed-off-by: Bjørn Mork <bjorn@mork.no>

 data/mbim-service-basic-connect.json | 31 +++++++++++++++++++++++++++++++
 1 file changed, 31 insertions(+)

commit 840f0bda3710af0fddecfea06b8eb1ec1d2a9331
Author: Bjørn Mork <bjorn@mork.no>
Date:   Sat Apr 6 20:35:56 2013 +0200

    libmbim-glib: add PIN enums

    Signed-off-by: Bjørn Mork <bjorn@mork.no>

 libmbim-glib/mbim-enums.h | 72
 +++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 72 insertions(+)

commit 1306b4446070dac8971a9a6335405fd6b564b663
Author: Bjørn Mork <bjorn@mork.no>
Date:   Sat Apr 6 20:35:55 2013 +0200

    cli: new '--basic-connect-query-radio-state' command

    Signed-off-by: Bjørn Mork <bjorn@mork.no>

 cli/mbimcli-basic-connect.c | 50
 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 50 insertions(+)

commit 857dc6ee4ff397ab0516267905e3249560062581
Author: Bjørn Mork <bjorn@mork.no>
Date:   Sat Apr 6 20:35:54 2013 +0200

    basic-connect: implement 'Radio State' query handling

    Signed-off-by: Bjørn Mork <bjorn@mork.no>

 data/mbim-service-basic-connect.json | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 3c784aa4f29de211cde6e3647863ed7f3b4244c8
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sat Apr 6 19:41:03 2013 +0200

    pkg-config: build and distribute pkg-config file for libmbim-glib

 .gitignore                      |  2 ++
 configure.ac                    |  2 ++
 data/Makefile.am                |  1 +
 data/pkg-config/Makefile.am     |  4 ++++
 data/pkg-config/mbim-glib.pc.in | 11 +++++++++++
 5 files changed, 20 insertions(+)

commit 302a103db3ee120f203bb0d0d6ed7547ffef9860
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sat Apr 6 19:38:20 2013 +0200

    build: distribute the message database files

 Makefile.am      | 2 +-
 configure.ac     | 1 +
 data/Makefile.am | 3 +++
 3 files changed, 5 insertions(+), 1 deletion(-)

commit 5a1fc5dacd6aebaa9c0e66ec8b29d24c2c99ba7e
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jan 31 12:38:33 2013 +0100

    libmbim-glib: new tests for real message contents retrieval

 .gitignore                                |   1 +
 libmbim-glib/test/Makefile.am             |  19 ++++-
 libmbim-glib/test/test-message-contents.c | 123
 ++++++++++++++++++++++++++++++
 3 files changed, 141 insertions(+), 2 deletions(-)

commit dd6f699e50bb6b6d074c73374a19cf03f50e173e
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jan 31 12:38:02 2013 +0100

    mbim-codegen: split Value objects

 build-aux/mbim-codegen/Container.py        | 185
 ++++++++++++-----------------
 build-aux/mbim-codegen/Makefile.am         |   8 ++
 build-aux/mbim-codegen/Value.py            |  65 ++++++++++
 build-aux/mbim-codegen/ValueString.py      |  56 +++++++++
 build-aux/mbim-codegen/ValueStringArray.py |  58 +++++++++
 build-aux/mbim-codegen/ValueStruct.py      |  61 ++++++++++
 build-aux/mbim-codegen/ValueStructArray.py |  64 ++++++++++
 build-aux/mbim-codegen/ValueUint32.py      |  56 +++++++++
 build-aux/mbim-codegen/ValueUint32Array.py |  58 +++++++++
 build-aux/mbim-codegen/ValueUuid.py        |  56 +++++++++
 10 files changed, 556 insertions(+), 111 deletions(-)

commit e310e6b4e2fd19b95fa27827af1e81fc928eb71d
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jan 27 21:39:04 2013 +0100

    cli: new '--basic-connect-query-device-services' command

 cli/mbimcli-basic-connect.c | 102
 +++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 101 insertions(+), 1 deletion(-)

commit 1551877f3c8418a78ce5852f966fd6adfc2683a0
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jan 27 21:38:47 2013 +0100

    libmbim-glib,basic-connect: implement 'Device Services' query handling

 data/mbim-service-basic-connect.json | 18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit a3e28f8c2847ca8a7f8614c0e9d22926ce4dadfc
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Sun Jan 27 21:38:16 2013 +0100

    mbim-codegen: read 'struct' and 'struct-array' fields

 build-aux/mbim-codegen/Container.py | 60
 +++++++++++++++++++++++++++++--------
 1 file changed, 48 insertions(+), 12 deletions(-)

commit 87b146c61f02ce9a86cb69af9a61684c6aa45325
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 25 15:35:01 2013 +0100

    mbim-codegen: add new 'Struct' type generation

 build-aux/mbim-codegen/Makefile.am                 |   3 +-
 .../mbim-codegen/{MessageList.py => ObjectList.py} |  34 ++-
 build-aux/mbim-codegen/Struct.py                   | 241
 +++++++++++++++++++++
 build-aux/mbim-codegen/mbim-codegen                |  10 +-
 data/mbim-service-basic-connect.json               |  20 +-
 5 files changed, 289 insertions(+), 19 deletions(-)

commit 18998e9eec9ed8f471e61291f8a2e65355b8c81a
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 25 15:58:42 2013 +0100

    libmbim-glib: implement 'uuid' type reading

 build-aux/mbim-codegen/Container.py | 10 ++++++++--
 libmbim-glib/mbim-message.c         | 12 ++++++++++++
 libmbim-glib/mbim-message.h         |  2 ++
 3 files changed, 22 insertions(+), 2 deletions(-)

commit 4d79d1f017b6e554e82a9de01ebe939a74b4468d
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 25 14:13:30 2013 +0100

    mbim-codegen,libmbim-glib: improve general array and variable reading

    In the general variable reading part, we no longer need specific
    methods for
    'command' or 'command-done' message types.

    Also, when reading arrays, we will specify separately the variable
    with the
    array size and the variable with the actual array contents. Main
    reason for this
    is that it seems they don't have to be one after the other.

    The arrays of guint32 will be '0' terminated. This is useful for
    parameters
    where '0' is not an expected value. In general, the size of arrays
    of guint32
    values is given in the output 'size' variable when the array is read.

 build-aux/mbim-codegen/Container.py  | 112 ++++++++++++++++++-----
 build-aux/mbim-codegen/utils.py      |   1 +
 cli/mbimcli-basic-connect.c          |   2 +-
 data/mbim-service-basic-connect.json |   8 +-
 libmbim-glib/mbim-message.c          | 167
 ++++++++++++++++-------------------
 libmbim-glib/mbim-message.h          |  31 +++----
 6 files changed, 189 insertions(+), 132 deletions(-)

commit 916d1ca2220ddb6703522d5bdfe672cd76fa15be
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jan 24 09:45:36 2013 +0100

    mbim-codegen: setup code generator

    Setup code generation for the request creator and the response
    getters.

 .gitignore                                |   3 +
 build-aux/Makefile.am                     |   2 +-
 build-aux/mbim-codegen/Container.py       | 140 ++++++++++++++++++++++
 build-aux/mbim-codegen/Makefile.am        |   9 ++
 build-aux/mbim-codegen/Message.py         | 154 ++++++++++++++++++++++++
 build-aux/mbim-codegen/MessageList.py     |  57 +++++++++
 build-aux/mbim-codegen/mbim-codegen       |  77 ++++++++++++
 build-aux/mbim-codegen/utils.py           | 188
 ++++++++++++++++++++++++++++++
 configure.ac                              |   1 +
 data/mbim-service-basic-connect.json      |  57 +++++++++
 libmbim-glib/Makefile.am                  |   2 -
 libmbim-glib/generated/Makefile.am        |  24 +++-
 libmbim-glib/libmbim-glib.h               |   3 +-
 libmbim-glib/mbim-message-basic-connect.c | 152 ------------------------
 libmbim-glib/mbim-message-basic-connect.h |  71 -----------
 15 files changed, 706 insertions(+), 234 deletions(-)

commit 2f10256543498fdf1dd9d5af1e36e8b5458bff42
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Thu Jan 24 09:30:00 2013 +0100

    libmbim-glib: use separate header for enums

 libmbim-glib/Makefile.am                  |   2 +
 libmbim-glib/generated/Makefile.am        |   4 +-
 libmbim-glib/libmbim-glib.h               |   1 +
 libmbim-glib/mbim-enums.h                 | 199
 ++++++++++++++++++++++++++++++
 libmbim-glib/mbim-message-basic-connect.h | 159 +-----------------------
 5 files changed, 205 insertions(+), 160 deletions(-)

commit c9ce3571eb9eb84628c2dca75e503c928a3e4a1e
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Jan 22 18:45:05 2013 +0100

    libmbim-glib,device: for incomplete fragments, just translate
    basic headers

 libmbim-glib/mbim-device.c  |  35 +++++++++-
 libmbim-glib/mbim-message.c | 158
 +++++++++++++++++++++++---------------------
 libmbim-glib/mbim-message.h |   3 +-
 3 files changed, 118 insertions(+), 78 deletions(-)

commit b50483c6682e97354a3a0f9cb747883c94e8cbaf
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Jan 22 18:16:15 2013 +0100

    cli: new '--basic-connect-query-subscriber-ready-status command

 cli/mbimcli-basic-connect.c | 81
 ++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 80 insertions(+), 1 deletion(-)

commit a779e2881d63d5f83bf992cb46324d54d703454e
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Jan 22 18:00:15 2013 +0100

    libmbim-glib,basic-connect: implement 'Subscriber Ready Status'
    query handling

 libmbim-glib/mbim-message-basic-connect.c | 42
 ++++++++++++++++++++++++++++++
 libmbim-glib/mbim-message-basic-connect.h | 43
 +++++++++++++++++++++++++++++++
 2 files changed, 85 insertions(+)

commit 427d37439d22f5c0f9c2ec45c4aa523d9367fe5d
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Jan 22 17:59:52 2013 +0100

    libmbim-glib,message: add helpers to read string arrays

 libmbim-glib/mbim-message.c | 72
 +++++++++++++++++++++++++++++++++++++++++++++
 libmbim-glib/mbim-message.h | 20 ++++++++-----
 2 files changed, 84 insertions(+), 8 deletions(-)

commit 133d0f6a5d5469aa01fd9cf7c5b46d30c8d5d5a9
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Jan 22 17:43:58 2013 +0100

    libmbim-glib,message: we know the offsets already, use them

    This will make the code generation much easier; we just need to
    compute the
    offsets ourselves and place them to grab the variables.

    For strings, also assume that the 'size' guint32 always comes just
    after the
    'offset' guint32.

 libmbim-glib/mbim-message-basic-connect.c | 52
 +++++++------------------------
 libmbim-glib/mbim-message.c               | 21 ++++---------
 libmbim-glib/mbim-message.h               | 10 +++---
 3 files changed, 22 insertions(+), 61 deletions(-)

commit 63bed3f1465790f2d5b328a490d9b345d92b21ca
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jan 21 18:18:41 2013 +0100

    cli: new '--basic-connect-query-device-caps' command

 cli/Makefile.am             |   3 +-
 cli/mbimcli-basic-connect.c | 223
 ++++++++++++++++++++++++++++++++++++++++++++
 cli/mbimcli.c               |  82 +++++++++++-----
 cli/mbimcli.h               |   6 ++
 4 files changed, 288 insertions(+), 26 deletions(-)

commit 6898173b4e939cc86d3681ea1ba15c09c23f8860
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Jan 22 15:27:27 2013 +0100

    libmbim-glib,basic-connect: implement 'Device Caps' query handling

 libmbim-glib/Makefile.am                  |   2 +
 libmbim-glib/generated/Makefile.am        |   5 +-
 libmbim-glib/libmbim-glib.h               |   2 +
 libmbim-glib/mbim-message-basic-connect.c | 138 ++++++++++++++++++++++
 libmbim-glib/mbim-message-basic-connect.h | 185
 ++++++++++++++++++++++++++++++
 5 files changed, 330 insertions(+), 2 deletions(-)

commit daaa443f1f4b75d60b457abac1d1360693acb58b
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Tue Jan 22 15:26:26 2013 +0100

    libmbim-glib,message: add helpers to read from the information buffers

 libmbim-glib/mbim-message.c | 100
 +++++++++++++++++++++++++++++++++++++++++++-
 libmbim-glib/mbim-message.h |  16 +++++++
 2 files changed, 115 insertions(+), 1 deletion(-)

commit 2d8bd8e5536c3f1856151d21d206397d12cd61e7
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jan 21 16:25:15 2013 +0100

    libmbim-glib,test: add unit tests for the 'Command' and 'Command Done'
    message types

 libmbim-glib/test/test-message.c | 112
 +++++++++++++++++++++++++++++++++++----
 1 file changed, 101 insertions(+), 11 deletions(-)

commit 21eb892f3801e16b909ef63453d5c2d12e0cc78c
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jan 21 15:33:27 2013 +0100

    libmbim-glib: implement 'Command' and 'Command Done' message types

 libmbim-glib/mbim-message-private.h |  30 +++-
 libmbim-glib/mbim-message.c         | 340
 +++++++++++++++++++++++++++++++++++-
 libmbim-glib/mbim-message.h         |  45 +++++
 3 files changed, 408 insertions(+), 7 deletions(-)

commit 0660abc06a659e918f13801476331bb54e8bbc8c
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jan 21 14:10:36 2013 +0100

    libmbim-glib,test: implement unit tests for per-service CIDs

 .gitignore                       |   1 +
 libmbim-glib/test/Makefile.am    |  15 ++++-
 libmbim-glib/test/test-cid.c     | 121
 +++++++++++++++++++++++++++++++++++++++
 libmbim-glib/test/test-message.c |  18 ++++++
 4 files changed, 154 insertions(+), 1 deletion(-)

commit fbc4538acdca294a4fb8b18ac7921fd6a10c36ed
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jan 21 14:10:19 2013 +0100

    libmbim-glib: define per-service CIDs

 libmbim-glib/Makefile.am           |   2 +
 libmbim-glib/generated/Makefile.am |   3 +-
 libmbim-glib/libmbim-glib.h        |   1 +
 libmbim-glib/mbim-cid.c            | 258
 +++++++++++++++++++++++++++++++++++++
 libmbim-glib/mbim-cid.h            | 199 ++++++++++++++++++++++++++++
 5 files changed, 462 insertions(+), 1 deletion(-)

commit ffb6624eb85eaaee17f1f3f12976690357ec3989
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 18 16:24:57 2013 +0100

    cli: setup new 'mbimcli' to access the MBIM device from the
    commandline

 .gitignore      |   6 +-
 Makefile.am     |   2 +-
 cli/Makefile.am |  17 ++++
 cli/mbimcli.c   | 303
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 cli/mbimcli.h   |  30 ++++++
 configure.ac    |  11 +-
 6 files changed, 366 insertions(+), 3 deletions(-)

commit 24a71117c156046ceb1260b6e23c1eb605e5ab15
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 18 16:24:06 2013 +0100

    libmbim-glib: setup message traces

 libmbim-glib/mbim-device.c | 64
 ++++++++++++++++++++++++++++++++++++++++++++++
 libmbim-glib/mbim-utils.c  | 29 +++++++++++++++++++++
 libmbim-glib/mbim-utils.h  |  4 +++
 3 files changed, 97 insertions(+)

commit be8610a9e7b83094a37d088f64307f960a43cc3f
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 18 16:22:26 2013 +0100

    libmbim-glib: new 'MbimDevice' to control access to the MBIM device

 libmbim-glib/Makefile.am    |    6 +-
 libmbim-glib/libmbim-glib.h |    1 +
 libmbim-glib/mbim-device.c  | 1485
 +++++++++++++++++++++++++++++++++++++++++++
 libmbim-glib/mbim-device.h  |  120 ++++
 4 files changed, 1610 insertions(+), 2 deletions(-)

commit f7cd292d2f8b9e4507f3c18ca484ef8bc39a518f
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 18 16:18:14 2013 +0100

    libmbim-glib,test: add unit tests for the message fragment handling

 .gitignore                        |   1 +
 libmbim-glib/test/Makefile.am     |  17 +-
 libmbim-glib/test/test-fragment.c | 331
 ++++++++++++++++++++++++++++++++++++++
 3 files changed, 347 insertions(+), 2 deletions(-)

commit 28de0db31cb923f272c3c295a7a3384f4be04abb
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 18 16:16:16 2013 +0100

    libmbim-glib: implement message fragment handling

 libmbim-glib/mbim-message-private.h |  42 ++++++++
 libmbim-glib/mbim-message.c         | 209
 ++++++++++++++++++++++++++++++++++++
 2 files changed, 251 insertions(+)

commit 2566be51078522aa07ff34e8560e8d7cf7cfacf5
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 18 16:13:43 2013 +0100

    libmbim-glib: implement 'Error' message types

 libmbim-glib/mbim-message-private.h |  5 +++
 libmbim-glib/mbim-message.c         | 89
 ++++++++++++++++++++++++++++++++++++-
 libmbim-glib/mbim-message.h         |  8 ++++
 3 files changed, 101 insertions(+), 1 deletion(-)

commit 603450a35a5469ad15c3eead46b4fd5b2bfe5cac
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 18 16:11:54 2013 +0100

    libmbim-glib,test: add unit tests for the 'Close' and 'Close Done'
    message types

 libmbim-glib/test/test-message.c | 36
 ++++++++++++++++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit f7c23a845e3083717c78a46fe102c440d18fcab4
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 18 16:10:40 2013 +0100

    libmbim-glib: implement 'Close' and 'Close Done' message types

 libmbim-glib/mbim-message-private.h |  6 +++
 libmbim-glib/mbim-message.c         | 83
 ++++++++++++++++++++++++++++++++++++-
 libmbim-glib/mbim-message.h         | 12 ++++++
 3 files changed, 100 insertions(+), 1 deletion(-)

commit 36245665f2a67045f4208ac5f05eff12929a375f
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 18 16:10:17 2013 +0100

    libmbim-glib,test: add unit tests for the 'Open' and 'Open Done'
    message types

 .gitignore                       |  1 +
 libmbim-glib/test/Makefile.am    | 17 +++++++++--
 libmbim-glib/test/test-message.c | 63
 ++++++++++++++++++++++++++++++++++++++++
 3 files changed, 79 insertions(+), 2 deletions(-)

commit cd3bfedeafd1c44b176a284bea263eaadbbb0206
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 18 16:05:12 2013 +0100

    libmbim-glib: implement 'Open' and 'Open Done' message types

 libmbim-glib/mbim-message-private.h |  10 +++
 libmbim-glib/mbim-message.c         | 118
 +++++++++++++++++++++++++++++++++++-
 libmbim-glib/mbim-message.h         |  14 +++++
 3 files changed, 141 insertions(+), 1 deletion(-)

commit df72eeab9a3bc73246ecdf807cd51c0df751f1ad
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 18 15:59:17 2013 +0100

    libmbim-glib: setup generation of enum types

 build-aux/templates/Makefile.am                |   4 +-
 build-aux/templates/mbim-enum-types-template.c | 118
 +++++++++++++++++++++++++
 build-aux/templates/mbim-enum-types-template.h |  33 +++++++
 libmbim-glib/generated/Makefile.am             |  26 +++++-
 libmbim-glib/libmbim-glib.h                    |   1 +
 libmbim-glib/mbim-message.c                    |   5 +-
 6 files changed, 181 insertions(+), 6 deletions(-)

commit 76b8a28b4e9c7cbb64baaa5c937c96d519fe8aa5
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 18 15:47:34 2013 +0100

    libmbim-glib: added generic 'MbimMessage' implementation

 libmbim-glib/Makefile.am            |   6 +-
 libmbim-glib/libmbim-glib.h         |   1 +
 libmbim-glib/mbim-message-private.h |  63 ++++++++
 libmbim-glib/mbim-message.c         | 286
 ++++++++++++++++++++++++++++++++++++
 libmbim-glib/mbim-message.h         |  99 +++++++++++++
 5 files changed, 453 insertions(+), 2 deletions(-)

commit c39136577d52044c8491ccf0ef465a8ba0127f3e
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 18 15:47:07 2013 +0100

    libmbim-glib: added helper to print raw byte buffers

 libmbim-glib/Makefile.am    |  2 ++
 libmbim-glib/libmbim-glib.h |  1 +
 libmbim-glib/mbim-utils.c   | 73
 +++++++++++++++++++++++++++++++++++++++++++++
 libmbim-glib/mbim-utils.h   | 46 ++++++++++++++++++++++++++++
 4 files changed, 122 insertions(+)

commit 3e59dd514e1aacdc164f32056b636ea6b45b77bb
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 18 15:37:29 2013 +0100

    libmbim-glib: setup core, status and protocol error types

 .gitignore                                       |   5 +
 Makefile.am                                      |   2 +-
 build-aux/Makefile.am                            |   2 +
 build-aux/templates/Makefile.am                  |   5 +
 build-aux/templates/mbim-error-quarks-template.c |  42 +++++
 build-aux/templates/mbim-error-types-template.c  |  54 +++++++
 build-aux/templates/mbim-error-types-template.h  |  24 +++
 configure.ac                                     |   6 +
 libmbim-glib/Makefile.am                         |   7 +-
 libmbim-glib/generated/Makefile.am               |  51 +++++++
 libmbim-glib/libmbim-glib.h                      |   3 +
 libmbim-glib/mbim-errors.h                       | 185
 +++++++++++++++++++++++
 12 files changed, 384 insertions(+), 2 deletions(-)

commit 0f4f3e70b375375f7f48ce21241b0700ad6a03fe
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jan 14 16:56:30 2013 +0100

    libmbim-glib,test: add unit tests for the 'MbimUuid' type

 .gitignore                    |  6 ++-
 configure.ac                  |  3 +-
 libmbim-glib/Makefile.am      |  2 +
 libmbim-glib/test/Makefile.am | 20 ++++++++++
 libmbim-glib/test/test-uuid.c | 93
 +++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 122 insertions(+), 2 deletions(-)

commit c5509bfb4d71d4a7193aba31f7086bc04ffa361f
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jan 14 16:23:17 2013 +0100

    libmbim-glib: added 'MbimUuid' type handling

 libmbim-glib/Makefile.am    |   6 +-
 libmbim-glib/libmbim-glib.h |   2 +
 libmbim-glib/mbim-uuid.c    | 204
 ++++++++++++++++++++++++++++++++++++++++++++
 libmbim-glib/mbim-uuid.h    | 153 +++++++++++++++++++++++++++++++++
 4 files changed, 363 insertions(+), 2 deletions(-)

commit b70fb23f5ef966488062b82701804bb916b28eac
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Mon Jan 14 16:22:02 2013 +0100

    libmbim-glib: setup compilation of the library

 .gitignore                  |  3 +++
 Makefile.am                 |  2 ++
 configure.ac                | 24 +++++++++++++++++++++++-
 libmbim-glib/Makefile.am    | 20 ++++++++++++++++++++
 libmbim-glib/libmbim-glib.h | 30 ++++++++++++++++++++++++++++++
 5 files changed, 78 insertions(+), 1 deletion(-)

commit 3fcc17c8d6e06f9d2dd2b60a0a9dbfc82afe5161
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 11 12:50:16 2013 +0100

    build: setup autotools

 .gitignore              |  29 +++
 AUTHORS                 |   1 +
 COPYING                 | 482
 ++++++++++++++++++++++++++++++++++++++++++++++++
 Makefile.am             |   2 +
 NEWS                    |   0
 autogen.sh              |  22 +++
 configure.ac            |  39 ++++
 m4/compiler-warnings.m4 |  38 ++++
 8 files changed, 613 insertions(+)

commit 7d99143963bf6eb6d0f762dfa441ff5dac6810b1
Author: Aleksander Morgado <aleksander@lanedo.com>
Date:   Fri Jan 11 12:39:00 2013 +0100

    big bang!!
